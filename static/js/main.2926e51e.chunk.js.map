{"version":3,"sources":["assets/LevelUP_128_white.png","assets/stairs.jpg","config.js","services/auth.service.js","services/acl.service.js","services/i18n.service.js","services/backend.service.js","components/unauthorized.component.js","components/language.component.js","components/login.component.js","components/register.component.js","components/reset_password.js","components/layout.component.js","components/professor/classroom_card.component.js","components/professor/new_classroom.component.js","services/time.service.js","components/professor/question_card.component.js","components/professor/confirm_delete_classroom.component.js","components/professor/confirm_delete_question.component.js","components/professor/new_question.component.js","components/loading.component.js","components/message.component.js","components/professor/classroom.component.js","components/professor/professor.component.js","components/student/classroom_card.component.js","components/student/question_card.component.js","components/student/question.component.js","components/student/stats.component.js","components/student/question_history.component.js","components/student/classroom.component.js","components/student/student.component.js","components/student/del_user.component.js","components/student/purge_user.component.js","components/notfound.component.js","components/change_password.component.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","config","API_URL","BASE_PATH","auth_service","email","password","axios","post","then","res","user_data","role_id","data","role","user_id","jwt","localStorage","setItem","JSON","stringify","removeItem","RoleId","userJSON","getItem","parse","ACL","_ref","children","roles","user","AuthService","getCurrentUser","includes","react_default","a","createElement","react_router","to","replace","msg","es","professor","student","link_language","link_login","link_register","link_logout","enter_email","enter_password","enter_curr_password","enter_new_password","invalid_email","invalid_password","password_instructions","field_required","new_account_title","new_account_text","close","classrooms_title","stats_title","add","phase","questions","title","new_classroom_title","cancel","create","creation_failed","classroom_created","confirm","confirm_delete","confirm_delete_classroom","confirm_delete_question","ok","question_deleted","new_question_title","none","Once per day","Once per week","Once per month","choose_question","question_type_1","question_type_2","question_type_3","question_created","new_classroom_id","select_previous","join","submit","edit","pending","answered","unanswered","delete","delete_classroom","delete_user","del_user_instructions","user_deleted","user_purged","purge_user_instructions","aswer_recorded","user_registered","user_not_registered","change_password","password_changed","error_400","error_401","error_500","login_failed","from","unable_to_get_data","reminder","operation_failed","classroom_deleted","email_already_exists","description","deadline","deadline_posterior","session_expired","classroom_not_found","no_enrolments","already_enroled","no_questions","answer_recorded","classroom_cannot_be_deleted","merit_time","user_data_deleted","remove_user_data","created_on","history","response","no_response","editable_until","no_question_types","new_question_notification","classroom_active_tip","classroom_inactive_tip","reminders_enabled_tip","reminders_disabled_tip","enable_push_alert","minutes","reset_password_msg","reset_password","en","gr","de","link_registreren","classroom_title","once_per_day","once_per_week","once_per_month","medit_time","_t","k","window","$lang","backend_service","headers","Authorization","concat","Object","objectSpread","new_password","_this","this","Promise","resolve","reject","newPassword","bearerConfig","updateJWT","message","catch","err","status","console","log","get","settings","options","question_types","classrooms","length","sort","b","id","code","asyncToGenerator","_regeneratorRuntime","mark","_callee2","i","answers_count","wrap","_context2","prev","next","Question_id","total_answers","count","sent","abrupt","stop","_x2","apply","arguments","classroom_info","state","_this2","question_data","classroom","classroomCode","toUpperCase","headings","subtitle","click_url","location","host","path","_this3","put","reminder_status","_this4","_ref2","_callee4","question","answer","last_response","deadline_passed","merit_time_passed","_context4","results","pop","selected_option","Date","_x3","userEmail","enrolment","Error","classroom_code","player_id","option","question_id","UserId","QuestionId","Unauthorized","className","Language","props","lang","map","l","style","fontWeight","textDecoration","type","key","onClick","required","value","vemail","isEmail","Login","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleLogin","bind","assertThisInitialized","onChangeEmail","onChangePassword","loading","e","setState","target","navigate","preventDefault","form","validateAll","checkBtn","context","_errors","login","cb","err_msg","form_default","onSubmit","ref","c","htmlFor","input_default","name","onChange","validations","disabled","button_default","display","react_router_bootstrap","Nav","Link","language_component","onChangeLang","Component","login_component","useNavigate","login_component_Login","assign","vpassword","RegisterOk","Register","handleRegister","onChangeRole","successful","register","defaultChecked","ResetPassword","handleReset","BackendService","resetPassword","setTimeout","error","resMessage","toString","Fragment","reset_password_ResetPassword","Layout","_useState","useState","_useState2","slicedToArray","expanded","setExpanded","Navbar","bg","expand","variant","fixed","Container","Brand","href","alt","src","logo","Toggle","aria-controls","Collapse","NavDropdown","Divider","logOut","dist_default","smooth","ClassroomCard","visible","setVisible","_useState3","_useState4","enabled","setEnabled","isHeader","goToClassroom","students_count","backendService","updateClassroomVisibility","updateClassroomReminderStatus","onClickDel","NewClassroom","handleCreate","onChangeTitle","onChangePhase","onChangeReminder","newClassroom","onNewClassroom","reminder_options","$settings","select_default","keys","onCancelNewClassroom","toLocalTimeString","date","toLocaleString","dateStyle","timeStyle","QuestionCard","pre_post","onDelete","textAlign","ConfirmDeleteClassroom","onConfirm","ConfirmDeleteQuestion","addMinutes","numOfMinutes","undefined","setTime","getTime","NewQuestion","onSelectQuestion","onSetPrePost","onSetDeadline","showPrePost","merit_time_options","merit_time_default","deadline_options","deadline_default","first_available_question_type","find","qt","prepost","question_options","showPre","showPost","question_type_id","parseInt","q","new_state","answer_options","newQuestion","language","ClassroomCode","toISOString","notifyNewQuestion","onNewQuestion","onSetMeritTime","defaultValue","onCancelNewQuestion","Loading","Message","data-class","text","data-bs-dismiss","aria-label","showMsg","setFunc","show","Classroom","setQuestions","setShow","_useState5","_useState6","setQuestion","_useState7","_useState8","setMessage","loadQuestions","getProfessorQuestions","useEffect","confirmDelQuestion","scrollTo","top","left","behavior","confirm_delete_classroom_component","onDelClassroom","confirm_delete_question_component","delQuestion","new_question_component","filter","used","available","push","questionTypes","question_card_component","Professor","setMsg","getClassrooms","document","documentElement","scrollTop","componentDidMount","delClassroom","new_classroom_component","classroom_component","onDelQuestion","header","toggleHistory","onEdit","Question","level","student_question_card_component","reverse","stairs_img","width","onClose","Stats","pre","BarChart","height","margin","right","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","domain","Tooltip","Bar","Cell","fill","QuestionHistory","pre_answer","post_answer","stats_component","getClosedQuestions","prevProps","prevState","newAnswer","updateAnswer","refresh","answered_questions","closed_questions","forEach","aq","findIndex","cq","pending_questions","editable_questions","classroom_card_component_ClassroomCard","question_history_component","question_component","Student","onChangeClassroom","onSelectClassroom","onJoinClassroom","loadClassrooms","classroom_new_id","classroom_id","student_component_regeneratorRuntime","_callee","_context","OneSignal","getUserId","authService","subscribeToNotifications","_x","getStudentQuestions","subscribeToClassroom","_this5","student_classroom_component","goBack","placeholder","maxLength","DelUser","handleDelete","onChangePass","pass","rej","del_user_component_regeneratorRuntime","_ref3","_ref4","unsubscribeFromNotifications","delFromNotificationServer","delUser","del_user_component","del_user_component_DelUser","PurgeUser","purge_user_component_regeneratorRuntime","purgeUser","purge_user_component","purge_user_component_PurgeUser","NotFound","ChangePassword","handleSubmit","onChangeNewPass","new_pass","changePassword","change_password_component","change_password_component_ChangePassword","App","setUser","_useReducer","useReducer","x","forceUpdate","getSettings","init","appId","allowLocalhostAsSecureOrigin","test","navigator","platform","maxTouchPoints","MSStream","showNativePrompt","isPushNotificationsEnabled","alert","logout","react_router_dom","element","layout_component","index","register_component_Register","acl_service","professor_component","student_component","notfound_component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","rel","src_App","URL","process","origin","addEventListener","fetch","Service-Worker","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.2926e51e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/stairs.7b1ff811.jpg\";","const config = {\n    'API_URL': 'https://dev.silversky3d.com/api-levelup',\n    'BASE_PATH': '/levelup_app',\n};\n\nexport default config;","import axios from \"axios\";\nimport config from \"../config\";\n\nclass AuthService {\n\n  login(email, password) {\n    return axios.post(config.API_URL + \"/login\", {\n      email: email,\n      password: password\n    })\n    .then(res => {\n      let user_data = {\n        email: email,\n        role_id: res.data.role_id,\n        role: res.data.role_id === 1 ? 'ROLE_PROFESSOR' : 'ROLE_STUDENT',\n        user_id: res.data.user_id,\n        jwt: res.data.jwt,\n      }; \n      localStorage.setItem('user', JSON.stringify(user_data));\n      return user_data;\n    });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  register(email, password, role) {\n    return axios.post(config.API_URL + \"/user/create\", {\n      email: email,\n      password: password,\n      RoleId: role === 'ROLE_PROFESSOR' ? 1 : 2\n    });\n  }\n\n  getCurrentUser() {\n    var userJSON = localStorage.getItem('user');\n    userJSON = userJSON === \"undefined\" || !userJSON ? '{\"email\": null, \"role\": null}' : userJSON;\n    const user = JSON.parse(userJSON);\n    return user;\n  }\n}\n\nexport default new AuthService();","import React from 'react';\nimport { Navigate } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\n\nfunction ACL({ children, roles }) {  \n  const user = AuthService.getCurrentUser();\n  return (!user || !user.role) ? <Navigate to=\"/login\" replace /> : (user.role && roles.includes(user.role)) ? children : <Navigate to=\"/unauthorized\" replace />\n}\n\nexport default ACL","const msg = {\n  es: {\n    professor: \"profesor/a\",\n    student: \"estudiante\",\n    link_language: \"Idioma\",\n    link_login: \"Entrar\",\n    link_register: \"Registrarse\",\n    link_logout: \"Salir\",\n    password: \"Contraseña\",\n    enter_email: \"Introduzca su email\",\n    enter_password: \"Establezca una contraseña\",\n    enter_curr_password: \"Introduzca contraseña actual\",\n    enter_new_password: \"Introduzca nueva contraseña\",\n    invalid_email: \"El email introducido no es válido\",\n    invalid_password: \"La contraseña introducida no es válida\",\n    password_instructions: \"La contraseña debe tener entre 6 y 40 caracteres\",\n    field_required: \"Este campo es obligatorio\",\n    new_account_title: \"Nueva cuenta creada\",\n    new_account_text:\n      \"Por favor, revise su correo electrónico para confirmar la cuenta.\",\n    close: \"Cerrar\",\n    classrooms_title: \"Clases\",\n    stats_title: \"Tus estadísticas\",\n    add: \"Añadir\",\n    phase: \"Fase\",\n    questions: \"Preguntas\",\n    title: \"Título\",\n    new_classroom_title: \"Nueva clase\",\n    cancel: \"Cancelar\",\n    create: \"Crear\",\n    creation_failed: \"No se pudo crear el elemento\",\n    classroom_created: \"La clase se ha creado\",\n    confirm: \"Confirmación\",\n    confirm_delete: \"¿Seguro que quiere borrar?\",\n    confirm_delete_classroom:\n      \"Las preguntas de la clase siguiente también serán eliminadas: \",\n    confirm_delete_question:\n      \"La siguiente pregunta va a ser eliminada (incluyendo sus respuestas): \",\n    ok: \"Ok\",\n    question_deleted: \"Pregunta eliminada\",\n    new_question_title: \"Nueva pregunta\",\n    none: \"Ninguno\",\n    \"Once per day\": \"Una vez al día\",\n    \"Once per week\": \"Una vez a la semana\",\n    \"Once per month\": \"Una vez al mes\",\n    choose_question: \"Elige pregunta\",\n    question_type_1: \"Auto-control\",\n    question_type_2: \"Conocer tu valía\",\n    question_type_3: \"Fijar metas\",\n    question_created: \"La pregunta se ha añadido\",\n    new_classroom_id: \"ID de nueva clase\",\n    select_previous: \"Seleccionar clase ya suscrita\",\n    join: \"Unirse\",\n    submit: \"Enviar\",\n    edit: \"editar\",\n    pending: \"pendiente\",\n    answered: \"contestada\",\n    unanswered: \"no contestada\",\n    delete: \"Eliminar\",\n    delete_classroom: \"Eliminar clase\",\n    delete_user: \"Eliminar cuenta\",\n    del_user_instructions:\n      \"Toda tu información y tu cuenta serán eliminados. Por favor, introduce tu contraseña para confirmar la operación.\",\n    user_deleted: \"La cuenta ha sido eliminada. Abandonando sesión...\",\n    user_purged: \"La información ha sido eliminada.\",\n    purge_user_instructions:\n      \"Toda tu información será eliminada. Por favor, introduce tu contraseña para confirmar la operación.\",\n    aswer_recorded: \"Su respuesta ha quedado registrada.\",\n    user_registered: \"La cuenta ha sido creada. Puede iniciar sesión.\",\n    user_not_registered: \"La cuenta no ha podido ser creada.\",\n    change_password: \"Cambiar contraseña\",\n    password_changed: \"La contraseña se ha actualizado. La sesión debe reiniciarse.\",\n    error_400: \"Faltan parámetros: email, contraseña o contraseña anterior.\",\n    error_401: \"Cambio no autorizado: email o contraseña inválidos.\",\n    error_500: \"La contraseña no se ha actualizado debido a un error del servidor.\",\n    login_failed: \"No se ha podido iniciar sesión. Por favor, revise sus datos de acceso.\",\n    from: \"Desde:\",\n    to: \"Hasta:\",\n    unable_to_get_data: \"No se ha podido descargar la información.\",\n    reminder: \"Recordatorios\",\n    operation_failed: \"No se ha podido completar la operación. Inténtelo de nuevo más tarde.\",\n    classroom_deleted: \"La clase ha sido eliminada.\",\n    email_already_exists: \"Ya existe una cuenta con ese correo electrónico.\",\n    description: \"Descripción\",\n    deadline: \"Fecha límite\",\n    deadline_posterior: \"Debe indicarse una fecha posterior a hoy\",\n    session_expired: \"La sesión ha expirado. Debe volver a iniciarla.\",\n    classroom_not_found: \"No se ha encontrado ninguna clase con el código introducido.\",\n    no_enrolments: \"No se ha unido a ninguna clase.\",\n    already_enroled: \"Ya está registrado en esta clase.\",\n    no_questions: \"Todavía no has activado ninguna pregunta para esta clase.\",\n    answer_recorded: \"Respuesta registrada.\",\n    classroom_cannot_be_deleted: \"La clase no se ha podido eliminar. Puede que haya estudiantes ya registrado/as.\",\n    merit_time: \"Número de minutos para cambiar respuesta\",\n    user_data_deleted: \"Todas tus suscripciones y respuestas se han eliminado.\",\n    remove_user_data: \"Eliminar suscripciones y respuestas\",\n    created_on: \"Inicio\",\n    history: \"Histórico\",\n    response: \"Respuesta\",\n    no_response: \"Sin respuesta\",\n    editable_until: \"editable hasta\",\n    no_question_types: \"Todas las preguntas posibles ya se han añadido a esta clase.\",\n    new_question_notification: \"Se ha añadido una nueva pregunta a la clase siguiente:\",\n    classroom_active_tip: \"La clase está activada. Haga clic para inactivarla.\",\n    classroom_inactive_tip: \"La clase está inactiva. Haga clic para activarla.\",\n    reminders_enabled_tip: \"Los recordatorios están activados. Haga clic para desactivarlos.\",\n    reminders_disabled_tip: \"Los recordatorios están desactivados. Haga clic para activarlos.\",\n    enable_push_alert: '¡Las notificaciones deben ser permitidas!',\n    minutes: \"minutos\",\n    reset_password_msg: \"Se ha enviado un enlace de restablecimiento de contraseña a su correo electrónico.\",\n    reset_password: \"Restablecer contraseña\",\n\n  },\n  en: {\n    professor: \"professor\",\n    student: \"student\",\n    link_language: \"Language\",\n    link_login: \"Login\",\n    link_register: \"Sign Up\",\n    link_logout: \"Logout\",\n    password: \"Password\",\n    enter_email: \"Enter valid email\",\n    enter_password: \"Enter a password\",\n    enter_curr_password: \"Enter current password\",\n    enter_new_password: \"Enter new password\",\n    invalid_email: \"This is not a valid email\",\n    invalid_password: \"Invalid password\",\n    password_instructions: \"The password must be between 6 and 40 characters\",\n    field_required: \"This field is required\",\n    new_account_title: \"New account created\",\n    new_account_text: \"Please, check your email to confirm registration.\",\n    close: \"Close\",\n    classrooms_title: \"Classrooms\",\n    stats_title: \"Your stats\",\n    add: \"Add\",\n    phase: \"Phase\",\n    questions: \"Questions\",\n    title: \"Title\",\n    new_classroom_title: \"New classroom\",\n    cancel: \"Cancel\",\n    create: \"Create\",\n    creation_failed: \"Could not create new item\",\n    classroom_created: \"Classroom created\",\n    confirm: \"Confirmation required\",\n    confirm_delete: \"Are you sure you want to remove?\",\n    confirm_delete_classroom:\n      \"Questions on this following classroom will also be erased: \",\n    confirm_delete_question:\n      \"Following question will be removed (answers will be lost): \",\n    ok: \"Ok\",\n    question_deleted: \"Question deleted\",\n    new_question_title: \"New question\",\n    none: \"None\",\n    \"Once per day\": \"Once per day\",\n    \"Once per week\": \"Once per week\",\n    \"Once per month\": \"Once per month\",\n    choose_question: \"Choose question\",\n    question_type_1: \"Self-regulation\",\n    question_type_2: \"Knowing your values\",\n    question_type_3: \"Setting goals\",\n    question_created: \"The question has been added\",\n    new_classroom_id: \"New classroom ID\",\n    select_previous: \"Select joined classroom\",\n    join: \"Join\",\n    submit: \"Submit\",\n    edit: \"edit\",\n    pending: \"pending\",\n    answered: \"answered\",\n    unanswered: \"unanswered\",\n    delete: \"Delete\",\n    delete_classroom: \"Delete classroom\",\n    delete_user: \"Remove account\",\n    del_user_instructions:\n      \"All your data and account will be erased. Please, enter your password to confirm operation.\",\n    user_deleted: \"The account has been removed. Closing session...\",\n    user_purged: \"Information has been purged\",\n    purge_user_instructions:\n      \"All your information will be purged. Please enter your password to confirm the operation\",\n    aswer_recorded: \"Your answer has been registered.\",\n    user_registered: \"New account created. You can open a session.\",\n    user_not_registered: \"Unable to create new account.\",\n    change_password: \"Change password\",\n    password_changed: \"Password updated. Session must be restarted.\",\n    error_400: \"Missing parameters: email, password or old password.\",\n    error_401: \"Unauthorized: Invalid email or password.\",\n    error_500: \"Internal Server Error: Unable to change password.\",\n    login_failed: \"Login failed. Please, verify your connection and access credentials.\",\n    from: \"From:\",\n    to: \"To:\",\n    unable_to_get_data: \"Unable to retrieve data from server.\",\n    reminder: \"Reminders\",\n    operation_failed: \"Unable to complete action. Please, try again later.\",\n    classroom_deleted: \"Classroom deleted.\",\n    email_already_exists: \"Email address already exists.\",\n    description: \"Description\",\n    deadline: \"Deadline\",\n    deadline_posterior: \"Deadline must be set in the future.\",\n    session_expired: \"The session has expired. You must log in again.\",\n    classroom_not_found: \"No classroom found with this code.\",\n    no_enrolments: \"You have not joined any classroom.\",\n    already_enroled: \"You have already joined this classroom.\",\n    no_questions: \"You haven't activated any questions yet for this class.\",\n    answer_recorded: \"Answer registered.\",\n    classroom_cannot_be_deleted: \"Classroom has not been deleted. There may be students already registered.\",\n    merit_time: \"Number of minutes to change answers\",\n    user_data_deleted: \"All your enrolments and answers have been removed.\",\n    remove_user_data: \"Erase enrolments and answers\",\n    created_on: \"Started on\",\n    history: \"History\",\n    response: \"Response\",\n    no_response: \"Unanswered\",\n    editable_until: \"editable until\",\n    no_question_types: \"All possible questions have already been added to this classroom.\",\n    new_question_notification: \"A new question has been added to this classroom:\",\n    classroom_active_tip: \"Classroom is activated. Click to make inactive.\",\n    classroom_inactive_tip: \"Classroom is inactive. Click to activate.\",\n    reminders_enabled_tip: \"Reminders are enabled. Click to disable.\",\n    reminders_disabled_tip: \"Reminders are disabled. Click to enable.\",\n    enable_push_alert: \"Push Notifications must be enabled!\",\n    minutes: \"minutes\",\n    reset_password_msg: \"Password reset link has been sent to your email.\",\n    reset_password: \"Reset password\",\n  },\n  gr: {\n    professor: \"καθηγητής\",\n    student: \"μαθητής\",\n    link_language: \"Γλώσσα\",\n    link_login: \"Σύνδεση\",\n    link_register: \"Εγγραφή\",\n    link_logout: \"Αποσύνδεση\",\n    password: \"Κωδικός\",\n    enter_email: \"Εισαγάγετε έγκυρο email\",\n    enter_password: \"Ορισμός κωδικού πρόσβασης\",\n    enter_curr_password: \"Enter current password\",\n    enter_new_password: \"Πληκτρολογείστε τον υπάρχοντα κωδικό\",\n    invalid_email: \"This is not a valid email\",\n    invalid_password: \"Μη έγκυρο email\",\n    password_instructions: \"Ο κωδικός πρόσβασης πρέπει να είναι από 6 έως 40 χαρακτήρες\",\n    field_required: \"Αυτό το πεδίο είναι υποχρεωτικό\",\n    new_account_title: \"Δημιουργήθηκε νέος λογαριασμός\",\n    new_account_text: \"Ελέγξτε το email σας για να επιβεβαιώσετε την εγγραφή.\",\n    close: \"Κλείσιμο\",\n    classrooms_title: \"Αίθουσες διδασκαλίας\",\n    stats_title: \"Τα στατιστικά σας\",\n    add: \"Προσθήκη\",\n    phase: \"Φάση\",\n    questions: \"Ερωτήσεις\",\n    title: \"Τίτλος\",\n    new_classroom_title: \"Νέα αίθουσα διδασκαλίας\",\n    cancel: \"Ακύρωση\",\n    create: \"Δημιουργία\",\n    creation_failed: \"Δεν ήταν δυνατή η δημιουργία νέου στοιχείου\",\n    classroom_created: \"Δημιουργήθηκε η αίθουσα διδασκαλίας\",\n    confirm: \"Απαιτείται επιβεβαίωση\",\n    confirm_delete: \"Είστε βέβαιοι ότι θέλετε να καταργήσετε?\",\n    confirm_delete_classroom:\n      \"Οι ερωτήσεις σχετικά με αυτήν την τάξη που ακολουθεί θα διαγραφούν επίσης: \",\n    confirm_delete_question:\n      \"Η ακόλουθη ερώτηση θα αφαιρεθεί (οι απαντήσεις θα χαθούν): \",\n    ok: \"Ok\",\n    question_deleted: \"Η ερώτηση διαγράφηκε\",\n    new_question_title: \"Νέα ερώτηση\",\n    none: \"None\",\n    \"Once per day\": \"Μία φορά την ημέρα\",\n    \"Once per week\": \"Μία φορά την εβδομάδα\",\n    \"Once per month\": \"Μία φορά τον μήνα\",\n    choose_question: \"Διάλεξε ερώτηση\",\n    question_type_1: \"Self-regulation\",\n    question_type_2: \"Knowing your values\",\n    question_type_3: \"Setting goals\",\n    question_created: \"The question has been added\",\n    new_classroom_id: \"Νέα ταυτότητα τάξης\",\n    select_previous: \"Επιλέξτε προηγούμενο\",\n    join: \"συμμετοχή\",\n    submit: \"υποβολή\",\n    edit: \"επεξεργασια\",\n    pending: \"εκκρεμής\",\n    answered: \"απαντήθηκε\",\n    unanswered: \"δεν απαντήθηκε\",\n    delete: \"Διαγραφή\",\n    delete_classroom: \"Διαγραφή αίθουσων διδασκαλίας\",\n    delete_user: \"Διαγραφή λογαριασμού\",\n    del_user_instructions:\n      \"Όλα τα δεδομένα και ο λογαριασμός σας θα διαγραφούν. Εισαγάγετε τον κωδικό πρόσβασής σας για να επιβεβαιώσετε τη λειτουργία.\",\n    user_deleted: \"Ο λογαριασμός έχει αφαιρεθεί. Κλείσιμο συνεδρίας...\",\n    user_purged: \"Οι πληροφορίες έχουν διαγραφεί\",\n    purge_user_instructions:\n      \"Όλες οι πληροφορίες σας θα διαγραφούν. Παρακαλώ εισάγετε τον κωδικό πρόσβασής σας για να επιβεβαιώσετε τη λειτουργία\",\n    aswer_recorded: \"Η απάντησή σας έχει καταχωρηθεί.\",\n    user_registered: \"Δημιουργήθηκε νέος λογαριασμός. Μπορείτε να ανοίξετε μια συνεδρία.\",\n    user_not_registered: \"Δεν είναι δυνατή η δημιουργία νέου λογαριασμού.\",\n    change_password: \"Αλλαξε κωδικό\",\n    password_changed: \"Ο κωδικός ενημερώθηκε. Η συνεδρία πρέπει να επανεκκινηθεί.\",\n    error_400: \"Λείπουν παράμετροι: email, κωδικός πρόσβασης ή παλιός κωδικός πρόσβασης.\",\n    error_401: \"Μη εξουσιοδοτημένο: Μη έγκυρο email ή κωδικός πρόσβασης.\",\n    error_500: \"Εσωτερικό σφάλμα διακομιστή: Δεν είναι δυνατή η αλλαγή κωδικού πρόσβασης.\",\n    login_failed: \"Η σύνδεση απέτυχε. Παρακαλούμε, επαληθεύστε τη σύνδεσή σας και αποκτήστε πρόσβαση στα διαπιστευτήρια.\",\n    from: \"From:\",\n    to: \"To:\",\n    // TRANSLATED WITH DEEPL:\n    unable_to_get_data: \"Αδυναμία λήψης πληροφοριών\",\n    reminder: \"Υπενθυμίσεις\",\n    operation_failed: \"Η λειτουργία δεν μπόρεσε να ολοκληρωθεί. Προσπαθήστε ξανά αργότερα.\",\n    classroom_deleted: \"αίθουσα διδασκαλίας διαγράφηκε.\",\n    email_already_exists: \"Η διεύθυνση ηλεκτρονικού ταχυδρομείου υπάρχει ήδη\",\n    description: \"περιγραφή\",\n    deadline: \"προθεσμία\",\n    deadline_posterior: \"Πρέπει να αναφέρεται ημερομηνία μετά τη σημερινή\",\n    session_expired: \"Η συνεδρία σας έχει λήξει. Πρέπει να συνδεθείτε ξανά.\",\n    classroom_not_found: \"Δεν βρέθηκε αίθουσα διδασκαλίας με αυτόν τον κωδικό.\",\n    no_enrolments: \"Δεν έχετε ενταχθεί σε καμία τάξη.\",\n    already_enroled: \"Έχετε ήδη ενταχθεί σε αυτή την τάξη.\",\n    no_questions: \"Δεν έχετε ενεργοποιήσει ακόμα καμία ερώτηση για αυτή την κατηγορία.\",\n    answer_recorded: \"Εγγεγραμμένη απάντηση.\",\n    classroom_cannot_be_deleted: \"Η κλάση δεν μπόρεσε να διαγραφεί. Μπορεί να υπάρχουν ήδη εγγεγραμμένοι μαθητές.\",\n    merit_time: \"Αριθμός λεπτών για την αλλαγή των απαντήσεων\",\n    user_data_deleted: \"Όλες οι εγγραφές και οι απαντήσεις σας έχουν αφαιρεθεί.\",\n    remove_user_data: \"Κατάργηση συνδρομών και απαντήσεων\",\n    created_on: \"έναρξη\",\n    history: \"Ιστορία\",\n    response: \"Απάντηση\",\n    no_response: \"Καμία απάντηση\",\n    editable_until: \"επεξεργάσιμη έως\",\n    no_question_types: \"Όλες οι πιθανές ερωτήσεις έχουν ήδη προστεθεί σε αυτή την τάξη.\",\n    new_question_notification: \"Μια νέα ερώτηση έχει προστεθεί στην επόμενη τάξη:\",\n    classroom_active_tip: \"Η τάξη είναι ενεργοποιημένη. Κάντε κλικ για να την κάνετε ανενεργή.\",\n    classroom_inactive_tip: \"Η τάξη είναι ανενεργή. Κάντε κλικ για να την ενεργοποιήσετε.\",\n    reminders_enabled_tip: \"Οι υπενθυμίσεις είναι ενεργοποιημένες. Κάντε κλικ για να τις απενεργοποιήσετε.\",\n    reminders_disabled_tip: \"Οι υπενθυμίσεις είναι απενεργοποιημένες. Κάντε κλικ για να τις ενεργοποιήσετε.\",\n    enable_push_alert: \"Οι ειδοποιήσεις Push πρέπει να είναι ενεργοποιημένες!\",\n    minutes: \"λεπτά\",\n    reset_password_msg: \"Ο σύνδεσμος επαναφοράς κωδικού πρόσβασης έχει σταλεί στο email σας.\",\n    reset_password: \"επαναφορά κωδικού πρόσβασης\",\n  },\n  de: {\n    professor: \"professor\",\n    student: \"student\",\n    link_language: \"Taal\",\n    link_login: \"Login\",\n    link_registreren: \"Aanmelden\",\n    link_logout: \"Uitloggen\",\n    password: \"Wachtwoord\",\n    enter_email: \"Voer een geldig e-mailadres in\",\n    enter_password: \"Voer een wachtwoord in\",\n    enter_curr_password: \"Huidig wachtwoord invoeren\",\n    enter_new_password: \"Nieuw wachtwoord invoeren\",\n    invalid_email: \"Dit is geen geldig e-mailadres\",\n    invalid_password: \"Ongeldig wachtwoord\",\n    password_instructions: \"Het wachtwoord moet tussen de 6 en 40 karakters zijn\",\n    field_required: \"Dit veld is verplicht\",\n    new_account_title: \"Nieuw account aangemaakt\",\n    new_account_text: \"Controleer alstublieft uw e-mail om de registratie te bevestigen.\",\n    close: \"Sluiten\",\n    classroom_title: \"Klaslokalen\",\n    stats_title: \"Uw statistieken\",\n    add: \"Toevoegen\",\n    phase: \"Fase\",\n    questions: \"Vragen\",\n    title: \"Titel\",\n    new_classroom_title: \"Nieuw klaslokaal\",\n    cancel: \"Annuleren\",\n    create: \"Create\",\n    creation_failed: \"Kon geen nieuw item aanmaken\",\n    classroom_created: \"Klaslokaal aangemaakt\",\n    confirm: \"Bevestiging vereist\",\n    confirm_delete: \"Weet u zeker dat u wilt verwijderen?\",\n    confirm_delete_classroom:\n      \"Vragen over dit volgende klaslokaal zullen ook worden gewist: \",\n    confirm_delete_question:\n      \"Volgende vraag zal worden verwijderd (antwoorden gaan verloren): \",\n    ok: \"Ok\",\n    question_deleted: \"Vraag verwijderd\",\n    new_question_title: \"Nieuwe vraag\",\n    none: \"Geen\",\n    once_per_day: \"Eenmaal per dag\",\n    once_per_week: \"Eenmaal per week\",\n    once_per_month: \"Eenmaal per maand\",\n    choose_question: \"Kies vraag\",\n    question_type_1: \"Zelfregulatie\",\n    question_type_2: \"Je waarden kennen\",\n    question_type_3: \"Doelen stellen\",\n    question_created: \"De vraag is toegevoegd\",\n    new_classroom_id: \"ID van het nieuwe klaslokaal\",\n    select_previous: \"Selecteer lid geworden klaslokaal\",\n    join: \"Join\",\n    submit: \"Submit\",\n    edit: \"bewerken\",\n    pending: \"in afwachting van\",\n    answered: \"answered\",\n    unanswered: \"unanswered\",\n    delete: \"Delete\",\n    delete_classroom: \"Verwijder klaslokaal\",\n    delete_user: \"Verwijder account\",\n    del_user_instructions:\n      \"Al uw gegevens en account zullen worden gewist. Voer uw wachtwoord in om de bewerking te bevestigen.\",\n    user_deleted: \"Het account is verwijderd. Sessie sluiten...\",\n    user_purged: \"Informatie is gezuiverd\",\n    purge_user_instructions:\n      \"Al uw informatie zal worden gezuiverd. Voer uw wachtwoord in om de bewerking te bevestigen\",\n    aswer_recorded: \"Uw antwoord is geregistreerd.\",\n    user_registered: \"Nieuw account aangemaakt. U kunt een sessie openen.\", \n    user_not_registered: \"Niet in staat om nieuwe account aan te maken.\",\n    change_password: \"Wijzig wachtwoord\",\n    password_changed: \"Wachtwoord bijgewerkt. Sessie moet opnieuw worden opgestart.\",\n    error_400: \"Ontbrekende parameters: e-mail, wachtwoord of oude wachtwoord.\",\n    error_401: \"Niet geautoriseerd: Ongeldige e-mail of wachtwoord.\", \n    error_500: \"nterne serverfout: Wachtwoord kan niet worden gewijzigd.\",\n    login_failed: \"Inloggen mislukt. Gelieve uw verbinding en toegangsgegevens te verifiëren.\",\n    from: \"Van:\",\n    to: \"Aan:\",\n    unable_to_get_data: \"Kan gegevens niet ophalen van server.\",\n    reminder: \"Herinneringen\",\n    operation_failed: \"Niet in staat om actie te voltooien. Probeer het later nog eens.\",\n    classroom_deleted: \"Klaslokaal verwijderd.\",\n    email_already_exists: \"Emailadres bestaat al.\",\n    description: \"Omschrijving\",\n    deadline: \"Deadline\",\n    deadline_posterior: \"Deadline moet in de toekomst worden gesteld\",\n    session_expired: \"De sessie is verlopen. U moet zich opnieuw aanmelden.\",\n    classroom_not_found: \"Geen klaslokaal gevonden met deze code.\",\n    no_enrolments: \"U bent niet lid geworden van een klaslokaal.\",\n    already_enroled: \"U bent al lid geworden van dit klaslokaal.\",\n    no_questions: \"Je hebt nog geen vragen geactiveerd voor deze klas.\",\n    answer_recorded: \"Antwoord geregistreerd.\",\n    classroom_cannot_be_deleted: \"Klaslokaal is niet verwijderd. Er zijn mogelijk al studenten ingeschreven.\",\n    medit_time: \"Aantal minuten om antwoorden te wijzigen\",\n    user_data_deleted: \"Al uw inschrijvingen en antwoorden zijn verwijderd.\",\n    remove_user_data: \"Inschrijvingen en antwoorden wissen\",\n    created_on: \"Gestart op\",\n    history: \"Geschiedenis\",\n    response: \"Reactie\",\n    no_response: \"Unanswered\",\n    editable_until: \"Bewerkbaar tot\",\n    no_question_types: \"Alle mogelijke vragen zijn al toegevoegd aan deze klas.\",\n    new_question_notification: \"Er is een nieuwe vraag toegevoegd aan dit klaslokaal:\",\n    classroom_active_tip: \"Klaslokaal is geactiveerd. Klik om inactief te maken.\",\n    classroom_inactive_tip: \"Klaslokaal is inactief. Klik om te activeren.\",\n    reminders_enabled_tip: \"Herinneringen zijn ingeschakeld. Klik om uit te schakelen.\",\n    reminders_disabled_tip: \"Herinneringen zijn uitgeschakeld. Klik om in te schakelen.\",\n    enable_push_alert: \"Push-meldingen moeten ingeschakeld zijn!\",\n    minutes: \"minuten\",\n    reset_password_msg: \"Wachtwoord reset link is verzonden naar uw e-mail.\",\n    reset_password: \"Wachtwoord resetten\",\n  },\n};\n\nfunction _t(k) {\n  return msg[window.$lang || \"en\"][k];\n}\n\nexport default _t;\n","import axios from \"axios\";\nimport AuthService from \"./auth.service\";\nimport config from \"../config\";\n// import { professor_data, student_data, classroom_data } from \"./fake-content\";\nimport _t from \"./i18n.service\";\n// import { toServerTime } from \"./time.service\";\n// import OneSignal from 'react-onesignal';\n\nclass BackendService {\n  bearerConfig() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const config = {\n      headers: { Authorization: `Bearer ${user.jwt}` },\n    };\n    return config;\n  }\n\n  updateJWT(res) {\n    if (res && res.data && res.data.jwt) {\n      const user = {\n        ...JSON.parse(localStorage.getItem(\"user\")),\n        jwt: res.data.jwt,\n      };\n      localStorage.setItem(\"user\", JSON.stringify(user));\n    }\n  }\n\n  changePassword(email, password, new_password) {\n    return new Promise((resolve, reject) => {\n      axios\n        .post(\n          config.API_URL + \"/change-password\",\n          {\n            email: email,\n            password: password,\n            newPassword: new_password,\n          },\n          this.bearerConfig()\n        )\n        .then((res) => {\n          this.updateJWT(res);\n          resolve({ message: _t(\"password_changed\") });\n        })\n        .catch((err) => {\n          reject({ message: _t(\"error_\" + err.response.status) });\n        });\n    });\n  }\n\n  async getSettings() {\n    console.log(\"Getting settings\");\n\n    const settings = await axios\n      .get(config.API_URL + \"/question-settings\")\n      .then(res => res.data.settings[0])\n      .catch(err => { throw err });\n\n    const options = await axios\n      .get(config.API_URL + \"/question-options\")\n      .then(res => res.data.options)\n      .catch(err => { throw err });\n\n    return { ...settings, question_types: options };\n  }\n\n  getClassrooms() {\n    return axios\n      .get(config.API_URL + \"/classrooms/user\", this.bearerConfig())\n      .then((res) => {\n        let classrooms = res.data.classrooms;\n        if (classrooms.length > 0) {\n          classrooms = classrooms.sort((a, b) => b.id - a.id); // sort: newests first\n        }\n        return classrooms;\n      })\n      .catch((err) => { throw err });\n  }\n\n  resetPassword(email) {\n    return axios\n      .post(config.API_URL + \"/forgot-password\", { email: email })\n      .then(res => res)\n      .catch((err) => { throw err });\n  }\n\n  // --------------------------------------------------------------------------\n  // PROFESSOR API CALLS\n  // --------------------------------------------------------------------------\n\n  async getProfessorQuestions(code) {\n    return axios\n      .get(\n        config.API_URL + \"/questions/\" + code,\n        this.bearerConfig()\n      )\n      .then(async (res) => {\n        let questions = res.data.questions;\n        if (questions.length > 0) {\n          questions = questions.sort((a, b) => b.Question_id - a.Question_id);\n          for (let i = 0; i < questions.length; i++) {\n            const answers_count = await axios\n              .get(config.API_URL + `/answers/count/${questions[i].Question_id}`)\n              .then(res => res.data.total_answers[0].count);\n            questions[i].answers_count = answers_count;\n          }\n        }\n        return questions;\n      })\n      .catch((err) => { throw err });\n  }\n\n  newClassroom(classroom_info) {\n    return axios\n      .post(\n        config.API_URL + \"/classroom/create\",\n        {\n          \"title\": classroom_info.title,\n          \"phase\": classroom_info.phase,\n          \"reminder\": classroom_info.phase,\n          \"state\": \"disabled\"\n        },\n        this.bearerConfig()\n      )\n      .then(res => res.data)\n      .catch(err => { throw err });\n  }\n\n  delClassroom(code) {\n    return new Promise((resolve, reject) => {\n      axios\n        .delete(\n          config.API_URL + \"/classroom/delete/\" + code,\n          this.bearerConfig()\n        )\n        .then((res) => {\n          this.updateJWT(res);\n          resolve(res);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n\n  newQuestion(question_data) {\n    return axios\n      .post(\n        config.API_URL + \"/question/create\",\n        question_data,\n        this.bearerConfig()\n      )\n      .then((res) => res.data)\n      .catch((err) => { throw err });\n  }\n\n  notifyNewQuestion(classroom) {\n    return axios\n    .post(\n      config.API_URL + \"/web-push\",\n      {\n        classroomCode: classroom.code.toUpperCase(),\n        headings: _t('new_question_title'),\n        subtitle: _t('new_question_notification') + ` ${classroom.title} (${classroom.code.toUpperCase()})`,\n        click_url: 'https://' + window.location.host + (window.location.path ? window.location.path : '')\n      },\n      this.bearerConfig()\n    )\n    .then(() => classroom)\n    .catch(err => err);\n  }\n\n  delQuestion(id) {\n    return axios\n      .delete(\n        config.API_URL + `/question/delete/ ${id}`,\n        this.bearerConfig()\n      )\n      .then((res) => {\n        this.updateJWT(res);\n        return res;\n      })\n      .catch((err) => { throw err });\n  }\n\n  updateClassroomVisibility(code, state) {\n    const user = AuthService.getCurrentUser();\n    return axios\n      .put(config.API_URL + `/classroom/change-state/${user.email}/${code}/${state}`, {}, this.bearerConfig());\n  }\n\n  updateClassroomReminderStatus(code, reminder_status) {\n    const user = AuthService.getCurrentUser();\n    return axios\n      .put(config.API_URL + `/classroom/change-reminder-status/${user.email}/${code}/${reminder_status}`, {}, this.bearerConfig());\n  }\n\n  // --------------------------------------------------------------------------\n  // STUDENT API CALLS\n  // --------------------------------------------------------------------------\n \n  getStudentQuestions(code) {\n    const user = AuthService.getCurrentUser();\n    return axios\n      .get(config.API_URL + \"/questions/\" + code, this.bearerConfig())\n      .then(async res => {\n        let questions = res.data.questions;\n        if (questions.length > 0) {\n          questions = questions.sort((a, b) => b.Question_id - a.Question_id);\n        }\n        for (let i = 0; i < questions.length; i++) {\n          let question = questions[i];\n          let answer = await axios.get(config.API_URL + \"/answer/\" + user.email + \"/\" + question.Question_id, this.bearerConfig());\n          if (answer.data.response) {\n            question.response = answer.data.response;\n          }\n            \n          if (answer.data.results) {\n            const last_response = answer.data.results.pop();\n            question.response = last_response.selected_option;\n            question.merit_time = new Date (last_response.merit_time);\n          }\n          const deadline = new Date(question.deadline);\n          const answered = question.response !== -1;\n          const deadline_passed = new Date() > deadline;\n\n          if (answered) {\n            const merit_time_passed = new Date() > question.merit_time;\n            question.state = deadline_passed ? \"answered\" : merit_time_passed ? \"answered\" : \"editable\";\n          } else {\n            question.state = deadline_passed ? \"unanswered\" : \"pending\";\n          }\n\n          questions[i] = question;\n        }\n        return questions;\n      });\n  }\n\n  subscribeToClassroom(code, email) {\n    return axios\n      .post(\n        config.API_URL + \"/enrolment/create\",\n        {\n          classroomCode: code.toUpperCase(),\n          userEmail: email\n        },\n        this.bearerConfig()\n      )\n      .then((res) => res.data.enrolment)\n      .catch((err) => {\n        if (err.response && err.response.data) {\n          throw new Error(err.response.data.message);\n        } else {\n          console.log(\"ERROR\", err);\n          throw new Error();\n        }\n      });\n  }\n\n  async subscribeToNotifications(classroom_code, user_id) {\n    return axios\n      .put(\n        config.API_URL + \"/device\",\n        {\n          classroomCode: classroom_code,\n          player_id: user_id\n        },\n        this.bearerConfig()\n      )\n      .then((res) => res)\n      .catch((err) => {console.log(err); throw new Error(err.response.data.message)});\n  }\n\n  unsubscribeFromNotifications(classroom_code, user_id) {\n    /*return new Promise((res, rej) => {\n      console.log(classroom_code, user_id);\n      res();\n    });*/\n\n    return axios\n      .put(\n        config.API_URL + \"/device/classroom-unsubscribe\",\n        {\n          classroomCode: classroom_code,\n          player_id: user_id\n        },\n        this.bearerConfig()\n      )      \n      .then((res) => res)\n      .catch((err) => ({ status: err.response.status }));\n  }\n\n  delFromNotificationServer(user_id) {\n    return axios\n      .delete(\n        config.API_URL + \"/device/delete\",\n        { \n          data: {\n            player_id: user_id\n          },\n          ...this.bearerConfig()\n        },\n        \n      )\n      .then((res) => res);\n  }\n\n  newAnswer(option, question_id) {\n    const user = AuthService.getCurrentUser();\n\n    return axios\n      .post(\n        config.API_URL + \"/answer/submit\",\n        {\n          UserId: user.user_id,\n          QuestionId: question_id,\n          selected_option: option,\n        },\n        this.bearerConfig()\n      )\n      .then(() => { })\n      .catch(err => { throw err });\n  }\n\n  updateAnswer(option, question_id) {\n    const user = AuthService.getCurrentUser();\n\n    return axios\n      .put(\n        config.API_URL + `/answer/change/${user.email}/${question_id}/${option}`, \n        {}, this.bearerConfig()\n      );\n  }\n\n  purgeUser(email, password) {\n    return axios\n      .delete(config.API_URL + \"/purge-data\", {\n        data: {\n          email: email,\n          password: password,\n        },\n        ...this.bearerConfig(),\n      })\n      .then(() => ({ message: _t(\"user_purged\") }))\n      .catch(err => {\n        if (err.response && err.response.data) {\n          if (err.response.data.message === 'Invalid email/password') {\n            throw new Error(_t('error_401'));\n          }\n        }\n        throw new Error(_t('operation_failed'));\n      });      \n  }\n\n  delUser(email, password) {\n    return axios\n      .delete(config.API_URL + \"/user/delete\", {\n        data: {\n          email: email,\n          password: password,\n        },\n        ...this.bearerConfig(),\n      })\n      .then(() => ({ message: _t(\"user_deleted\") }))\n      .catch((err) => {\n        if (err.response && err.response.data) {\n          if (err.response.data.message === 'Invalid email/password') {\n            throw new Error(_t('error_401'));\n          }\n        }\n        throw new Error(_t('operation_failed'));\n      });   \n  }\n}\n\nexport default new BackendService();\n","import React from \"react\";\n\nexport default function Unauthorized () {\n    return (<div className=\"alert-danger text-center\">Access denied</div>);\n}","import React from 'react';\n\nfunction Language(props) {\n\n    let languages = [\n        { lang: 'English', code: 'en' },\n        { lang: 'Español', code: 'es' },\n        { lang: 'Ελληνικά', code: 'gr' },\n        { lang: 'Dutch', code: 'de' },\n    ];\n\n    return (\n        <div className=\"btn-group text-center col-12 mt-3\" role=\"group\">\n            {languages.map((l) => (\n                <button style={{ fontWeight: l.code === window.$lang ? 'bold' : 'lighter', textDecoration: 'none' }}\n                    className=\"col-4 btn btn-link\"\n                    type=\"button\"\n                    key={l.code}\n                    onClick={() => props.onClick(l.code)}\n                >\n                    {l.lang}\n                </button>\n            ))}\n        </div>\n    );\n}\n\nexport default Language;","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\n//import AuthService from \"../services/fake_auth.service\";\nimport AuthService from \"../services/auth.service\";\nimport { isEmail } from \"validator\";\nimport { useNavigate } from \"react-router-dom\";\nimport _t from \"../services/i18n.service\";\nimport Language from \"./language.component\";\nimport { Nav } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport config from \"../config\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nconst vemail = (value) => {\n  if (!isEmail(value)) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"invalid_email\")}\n      </div>\n    );\n  }\n};\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loading: false,\n      message: \"\",\n    };\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value,\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  handleLogin(e) {\n    const { navigate } = this.props;\n\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      loading: true,\n    });\n\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      AuthService.login(this.state.email, this.state.password).then(\n        (user) => {\n          this.props.cb();\n          if (user.role === \"ROLE_PROFESSOR\") {\n            navigate(\"/prof\", { replace: true });\n          } else {\n            navigate(\"/stu\", { replace: true });\n          }\n        },\n        (err) => {\n          const err_msg = err.response.data.message;\n          if (err_msg === 'Invalid email/password') {\n            this.setState({\n              loading: false,\n              message: _t('login_failed'),\n            });\n          } else {\n            this.setState({\n              loading: false,\n              message: err_msg,\n            });\n\n          }\n        });\n    } else {\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"center-form\">\n        <div>\n          <Form\n            onSubmit={this.handleLogin}\n            ref={(c) => {\n              this.form = c;\n            }}\n          >\n            <div className=\"form-group\">\n              <div className=\"form-group mt-2\">\n                <label htmlFor=\"email\">Email</label>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"email\"\n                  value={this.state.email}\n                  onChange={this.onChangeEmail}\n                  validations={[required, vemail]}\n                />\n              </div>\n              <div className=\"form-group mt-2\">\n                <label htmlFor=\"password\">{_t(\"password\")}</label>\n                <Input\n                  type=\"password\"\n                  className=\"form-control\"\n                  name=\"password\"\n                  value={this.state.password}\n                  onChange={this.onChangePassword}\n                  validations={[required]}\n                />\n              </div>\n              <div className=\"form-group mt-2 text-center\">\n                <button\n                  className=\"btn btn-success btn-block\"\n                  disabled={this.state.loading}\n                >\n                  {this.state.loading && (\n                    <span className=\"spinner-border spinner-border-sm\"></span>\n                  )}\n                  <span className=\"ms-1\">{_t(\"link_login\")}</span>\n                </button>\n              </div>\n              {this.state.message && (\n                <div className=\"form-group\">\n                  <div className=\"alert alert-danger\" role=\"alert\">\n                    {this.state.message}\n                  </div>\n                </div>\n              )}\n              <CheckButton\n                style={{ display: \"none\" }}\n                ref={(c) => {\n                  this.checkBtn = c;\n                }}\n              />\n            </div>\n          </Form>\n        </div>\n        <div className=\"text-center\">\n          <LinkContainer to={config.BASE_PATH + \"/reset-password\"}>\n            <Nav.Link>\n              <i className=\"bi bi-key\"></i> {_t(\"reset_password\")}\n            </Nav.Link>\n          </LinkContainer>\n        </div>\n        <Language onClick={this.props.onChangeLang} />\n      </div>\n    );\n  }\n}\n\n// Wrap and export\nexport default function(props) {\n  const navigate = useNavigate();\n\n  return <Login {...props} navigate={navigate} />;\n}\n","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { isEmail } from \"validator\";\nimport AuthService from \"../services/auth.service\";\nimport _t from \"../services/i18n.service\";\nimport { useNavigate } from \"react-router-dom\";\nimport Language from \"./language.component\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nconst vemail = (value) => {\n  if (!isEmail(value)) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"invalid_email\")}\n      </div>\n    );\n  }\n};\n\nconst vpassword = (value) => {\n  if (value.length < 6 || value.length > 40) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"password_instructions\")}\n      </div>\n    );\n  }\n};\n\nfunction RegisterOk() {\n  let navigate = useNavigate();\n\n  return (\n    <div>\n      <h1>{_t(\"new_account_title\")}</h1>\n      <p>{_t(\"user_registered\")}</p>\n      <button\n        className=\"btn btn-primary btn-block\"\n        onClick={() => navigate(\"/login\")}\n      >\n        {_t(\"close\")}\n      </button>\n    </div>\n  );\n}\n\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.handleRegister = this.handleRegister.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangeRole = this.onChangeRole.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      successful: false,\n      message: \"\",\n      role: \"ROLE_STUDENT\",\n    };\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value,\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  onChangeRole(e) {\n    this.setState({\n      role: e.target.value,\n    });\n  }\n\n  handleRegister(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      AuthService.register(\n        this.state.email,\n        this.state.password,\n        this.state.role\n      ).then(\n        (res) => {\n          this.setState({\n            message: _t('user_registered'),\n            successful: true,\n          });\n      })\n      .catch(\n        (err) => {\n          console.log(err);\n          const err_msg = err.response.data.message;\n          if (err_msg === 'Email address already exists.') {\n              this.setState({\n                message: _t('email_already_exists'),\n                successful: false,\n              });\n          } else {\n            this.setState({\n              message: err_msg,\n              successful: false,\n            });\n          }\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.successful ? (\n          <div className=\"center-form\">\n            <div className=\"\">\n              <Form\n                onSubmit={this.handleRegister}\n                ref={(c) => {\n                  this.form = c;\n                }}\n              >\n                {!this.state.successful && (\n                  <div>\n                    <div className=\"form-group mt-2\">\n                      <label htmlFor=\"email\">{_t(\"enter_email\")}</label>\n                      <Input\n                        type=\"text\"\n                        className=\"form-control\"\n                        name=\"email\"\n                        value={this.state.email}\n                        onChange={this.onChangeEmail}\n                        validations={[required, vemail]}\n                      />\n                    </div>\n                    <div className=\"form-group mt-2\">\n                      <label htmlFor=\"password\">{_t(\"enter_password\")}</label>\n                      <Input\n                        type=\"password\"\n                        className=\"form-control\"\n                        name=\"password\"\n                        value={this.state.password}\n                        onChange={this.onChangePassword}\n                        validations={[required, vpassword]}\n                      />\n                    </div>\n                    <div className=\"form-group mt-2 row\">\n                      <label htmlFor=\"student\" className=\"col-6 text-center\">\n                        {_t(\"student\")}\n                      </label>\n                      <label htmlFor=\"professor\" className=\"col-6 text-center\">\n                        {_t(\"professor\")}\n                      </label>\n                    </div>\n                    <div className=\"row\">\n                      <input\n                        type=\"radio\"\n                        id=\"student\"\n                        className=\"col-6\"\n                        name=\"role\"\n                        value=\"ROLE_STUDENT\"\n                        defaultChecked\n                        onChange={this.onChangeRole}\n                      />\n\n                      <input\n                        type=\"radio\"\n                        id=\"professor\"\n                        className=\"col-6\"\n                        name=\"role\"\n                        value=\"ROLE_PROFESSOR\"\n                        onChange={this.onChangeRole}\n                      />\n                    </div>\n                    <div className=\"form-group mt-2 text-center\">\n                      <button className=\"btn btn-success btn-block\">\n                        {_t(\"link_register\")}\n                      </button>\n                    </div>\n                  </div>\n                )}\n                {this.state.message && (\n                  <div className=\"form-group\">\n                    <div\n                      className={\n                        this.state.successful\n                          ? \"alert alert-success\"\n                          : \"alert alert-danger\"\n                      }\n                      role=\"alert\"\n                    >\n                      {this.state.message}\n                    </div>\n                  </div>\n                )}\n                <CheckButton\n                  style={{ display: \"none\" }}\n                  ref={(c) => {\n                    this.checkBtn = c;\n                  }}\n                />\n              </Form>\n            </div>\n            <Language onChangeLang={this.props.onChangeLang} />\n          </div>\n        ) : (\n          <RegisterOk />\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport BackendService from \"../services/backend.service\";\nimport { isEmail } from \"validator\";\nimport { useNavigate } from \"react-router-dom\";\nimport _t from \"../services/i18n.service\";\nimport Language from \"./language.component\";\n\nconst required = value => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t('field_required')}\n      </div>\n    );\n  }\n};\n\nconst vemail = value => {\n    if (!isEmail(value)) {\n      return (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          {_t('invalid_email')}\n        </div>\n      );\n    }\n  };\n\nclass ResetPassword extends Component {\n\n  constructor(props) {\n    super(props);\n    this.handleReset = this.handleReset.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.state = {\n      email: \"\",\n      loading: false,\n      message: \"\"\n    };\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n\n  handleReset(e) {\n\n    const { navigate } = this.props;\n\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      loading: true\n    });\n   \n    this.form.validateAll();     \n\n    if (this.checkBtn.context._errors.length === 0) {\n      BackendService.resetPassword(this.state.email).then(\n        res => {\n            this.setState({ message: _t('reset_password_msg')})\n            setTimeout( () => navigate(\"/login\", {replace: true}), 4000);\n        },\n        error => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          this.setState({\n            loading: false,\n            message: resMessage\n          });\n        }\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"center-form\">\n        <div>\n\n          <Form\n            onSubmit={this.handleReset}\n            ref={c => {\n              this.form = c;\n            }}>\n            \n            \n            <div className=\"form-group\">\n            \n            {!this.state.message && (\n            <>\n            <div className=\"form-group mt-2\">\n                <label htmlFor=\"email\">Email</label>\n                <Input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"email\"\n                value={this.state.email}\n                onChange={this.onChangeEmail}\n                validations={[required, vemail]}\n                />\n            </div>\n            <div className=\"form-group mt-2 text-center\">\n              <button\n                className=\"btn btn-success btn-block\"\n                disabled={this.state.loading}\n              >\n                {this.state.loading && (\n                  <span className=\"spinner-border spinner-border-sm\"></span>\n                )}\n                <span className=\"ms-1\">{_t('reset_password')}</span>\n              </button>\n            </div>\n            </>\n            )}\n\n            {this.state.message && (\n              <div className=\"form-group\">\n                <div className=\"alert alert-info\" role=\"alert\">\n                  {this.state.message}\n                </div>\n              </div>\n            )}\n\n            <CheckButton\n              style={{ display: \"none\" }}\n              ref={c => {\n                this.checkBtn = c;\n              }}\n            />\n            </div>\n          </Form>          \n        </div>\n        <Language onClick={this.props.onChangeLang}/>\n      </div>\n    );\n  }\n}\n\n// Wrap and export\nexport default function(props) {\n    const navigate = useNavigate();\n  \n    return <ResetPassword {...props} navigate={navigate} />;\n}","import React, { useState } from \"react\";\nimport { Outlet }from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Container, Navbar, Nav, NavDropdown } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport config from \"../config\";\nimport _t from \"../services/i18n.service\";\nimport logo from \"../assets/LevelUP_128_white.png\";\nimport ScrollToTop from \"react-scroll-to-top\";\n\nfunction Layout(props) {\n\n  const user = props.user;\n  const [expanded, setExpanded] = useState(false);\n\n  return (\n    <div>\n      <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\" fixed=\"top\" expanded={expanded}>\n        <Container id=\"container\">\n          <Navbar.Brand href={config.BASE_PATH + \"/\"}>\n            <img alt=\"\" src={logo} className=\"d-inline-block align-top\" />\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" onClick={() => setExpanded(!expanded)} />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"ms-5\" onClick={() => setExpanded(false)}>\n              \n              {(user.role === \"ROLE_PROFESSOR\" ||\n                user.role === \"ROLE_STUDENT\") && (\n                <LinkContainer to={config.BASE_PATH + \"/\"}>\n                  <Nav.Link>\n                    <i className=\"bi bi-easel\"></i> {_t(\"classrooms_title\")}\n                  </Nav.Link>\n                </LinkContainer>\n              )}\n\n              {user.role === \"ROLE_STUDENT\" && (\n                <>\n                  {/*\n                  <LinkContainer to=\"/stu-stats\">\n                    <Nav.Link>\n                      <i className=\"bi bi-clipboard-data\"></i>{\" \"}\n                      {_t(\"stats_title\")}\n                    </Nav.Link>\n                  </LinkContainer>\n                  */}\n                  \n                  <LinkContainer to={config.BASE_PATH + \"/del-user\"}>\n                    <Nav.Link>\n                      <i className=\"bi bi-trash\"></i> {_t(\"delete_user\")}\n                    </Nav.Link>\n                  </LinkContainer>\n\n                  <LinkContainer to={config.BASE_PATH + \"/purge-user\"}>\n                    <Nav.Link>\n                    <i className=\"bi bi-eraser\"></i> {_t(\"remove_user_data\")}\n                    </Nav.Link>\n                  </LinkContainer>                  \n                </>\n              )}\n            </Nav>\n            <Nav className=\"ms-auto\"  onClick={() => setExpanded(false)}></Nav>\n            <Nav className=\"ms-5\"  onClick={() => setExpanded(false)}>\n              <NavDropdown.Divider />\n              {user.email ? (\n                <>\n                  <LinkContainer to={config.BASE_PATH + \"/lang\"}>\n                    <Nav.Link>\n                      <i className=\"bi bi-translate\"></i> {_t(\"link_language\")}\n                    </Nav.Link>\n                  </LinkContainer>\n\n                  <LinkContainer to={config.BASE_PATH + \"/chgpass\"}>\n                    <Nav.Link>\n                      <i className=\"bi bi-key\"></i> {_t(\"change_password\")}\n                    </Nav.Link>\n                  </LinkContainer>\n\n                  <Nav.Link onClick={props.logOut}>\n                    <i className=\"bi bi-box-arrow-left\"></i> {_t(\"link_logout\")}\n                  </Nav.Link>\n                </>\n              ) : (\n                <>\n                  <LinkContainer to={config.BASE_PATH + \"/login\"}>\n                    <Nav.Link>\n                      <i className=\"bi bi-box-arrow-in-right\"></i>{\" \"}\n                      {_t(\"link_login\")}\n                    </Nav.Link>\n                  </LinkContainer>\n\n                  <LinkContainer to={config.BASE_PATH + \"/register\"}>\n                    <Nav.Link>\n                      <i className=\"bi bi-person-plus\"></i>{\" \"}\n                      {_t(\"link_register\")}\n                    </Nav.Link>\n                  </LinkContainer>\n                </>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n\n      <div className=\"container-fluid mx-1 mt-5\">\n        <ScrollToTop smooth />\n        <div className=\"mx-auto mt-5 row\">\n          <p> </p>\n        </div>\n        <Outlet />\n        {props.children}\n      </div>\n    </div>\n  );\n}\n\nexport default Layout;\n","import React, { useState } from \"react\";\nimport backendService from \"../../services/backend.service\";\nimport _t from \"../../services/i18n.service\";\n\nexport default function ClassroomCard(props) {\n  let classroom = props.classroom;\n\n  const [visible, setVisible] = useState(classroom.state === \"active\");\n  const [enabled, setEnabled] = useState(classroom.reminder_status === 1);\n\n  function toggleVisible() {\n    const state = props.classroom.state === \"active\" ? \"disabled\" : \"active\";\n    props.classroom.state = state;\n    backendService.updateClassroomVisibility(props.classroom.code, state)\n      .then(() => { setVisible(!visible) });\n  }\n\n  function toggleEnable() {\n    const reminder_status = props.classroom.reminder_status === 1 ? 0 : 1;\n    console.log(reminder_status);\n    props.classroom.reminder_status = reminder_status;\n    backendService.updateClassroomReminderStatus(props.classroom.code, reminder_status)\n      .then(() => { setEnabled(!enabled) });\n  }\n\n  return (\n    <div className=\"card mt-4\" onClick={() => !props.isHeader && props.goToClassroom(classroom)}>\n      <div className={\"card-header \" + (visible ? \"bg-primary text-light\" : \"bg-light\")}>\n        <div className=\"row\">\n          <div className=\"col-4 d-flex justify-content-start\">\n            <b>{classroom.code.toUpperCase()}</b>\n          </div>\n          <div className=\"col-4 d-flex justify-content-center\">\n            {_t(\"phase\")} {classroom.phase}\n          </div>\n          <div className=\"col-4 d-flex justify-content-end\">\n            {classroom.students_count} <i className=\"bi bi-person-fill ms-1\"></i>\n          </div>\n        </div>\n      </div>\n      <div className=\"card-body\">\n        <div className=\"row\">\n          <div className=\"col-8\">\n            <h5 className=\"card-title d-flex justify-content-start\">\n              <span className=\"mx-2\">\n                <i className=\"bi bi-easel\"></i>\n              </span>{\" \"}\n              {classroom.title}\n            </h5>\n          </div>\n          {props.isHeader === true && (\n            <div className=\"col-4 d-flex justify-content-end\">\n              <button\n                className={visible ? \"bi bi-eye btn btn-primary\" : \"bi bi-eye-slash btn btn-light\"}\n                onClick={toggleVisible}\n                title={visible ? _t(\"classroom_active_tip\") : _t(\"classroom_inactive_tip\")}\n              ></button>\n              <span className=\"ms-2\"></span>\n              <button\n                className={enabled ? \"bi bi-bell btn btn-warning\" : \"bi bi-bell-slash btn btn-light\"}\n                onClick={toggleEnable}\n                title={enabled ? _t(\"reminders_enabled_tip\") : _t(\"reminders_disabled_tip\")}\n              ></button>\n              <span className=\"ms-2\"></span>\n              <button\n                className=\"bi bi-trash btn btn-danger\"\n                onClick={props.onClickDel}\n              ></button>\n            </div>\n          )}\n          {props.isHeader === false && (\n            <div className=\"col-4 d-flex justify-content-end\">\n              <i className=\"bi bi-chevron-right\"></i>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport Select from \"react-validation/build/select\";\nimport CheckButton from \"react-validation/build/button\";\nimport BackendService from \"../../services/backend.service\";\nimport _t from \"../../services/i18n.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nclass NewClassroom extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCreate = this.handleCreate.bind(this);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangePhase = this.onChangePhase.bind(this);\n    this.onChangeReminder = this.onChangeReminder.bind(this);\n\n    this.state = {\n      title: \"\",\n      phase: 1,\n      reminder: 0,\n\n      successful: false,\n      message: \"\",\n    };\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value,\n    });\n  }\n\n  onChangePhase(e) {\n    this.setState({\n      phase: e.target.value,\n    });\n  }\n\n  onChangeReminder(e) {\n    this.setState({\n      reminder: e.target.value,\n    });\n  }\n\n  handleCreate(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      BackendService.newClassroom({\n        title: this.state.title,\n        phase: this.state.phase,\n        reminder: this.state.reminder\n    }).then(\n        (response) => {\n          this.setState({\n            message: _t(\"classroom_created\"),\n            successful: true,\n          });\n          setTimeout(() => this.props.onNewClassroom(response), 1000);\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          this.setState({\n            successful: false,\n            message: resMessage,\n          });\n        }\n      );\n    }\n  }\n\n  render() {\n    const reminder_options = window.$settings.reminder_options;\n\n    return (\n      <div>\n        <div className=\"center-form\">\n          <div className=\"\">\n            <h5>{_t(\"new_classroom_title\")}</h5>\n            <Form\n              onSubmit={(e) => {\n                e.preventDefault();\n              }}\n              ref={(c) => {\n                this.form = c;\n              }}\n            >\n              {!this.state.successful && (\n                <div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"title\">{_t(\"title\")}</label>\n                    <Input\n                      type=\"text\"\n                      className=\"form-control\"\n                      name=\"title\"\n                      value={this.state.title}\n                      onChange={this.onChangeTitle}\n                      validations={[required]}\n                    />\n                  </div>\n\n                  <div className=\"form-group mt-2 mb-3\">\n                    <div className=\"form-check\">\n                      <input\n                        type=\"radio\"\n                        id=\"phase 1\"\n                        name=\"phase\"\n                        value=\"1\"\n                        className=\"form-check-input\"\n                        onChange={this.onChangePhase}\n                        defaultChecked\n                      />\n                      <label htmlFor=\"phase 1\" className=\"form-check-label\">\n                        {_t(\"phase\")} 1\n                      </label>\n                    </div>\n                    <div className=\"form-check\">\n                      <input\n                        type=\"radio\"\n                        id=\"phase 2\"\n                        name=\"phase\"\n                        value=\"2\"\n                        className=\"form-check-input\"\n                        onChange={this.onChangePhase}\n                      />\n                      <label htmlFor=\"phase 2\" className=\"form-check-label\">\n                        {_t(\"phase\")} 2\n                      </label>\n                    </div>\n                  </div>\n\n                  {this.state.phase === '2' && (<div className=\"form-group mt-2\">\n                    <label className=\"form-label\">{_t(\"reminder\")}:</label>\n                    <div className=\"col-12 text-center\">\n                      <Select\n                        name=\"reminder\"\n                        value={this.state.reminder}\n                        className=\"form-select\"\n                        validations={[]}\n                        onChange={this.onChangeReminder}\n                      >\n                        {Object.keys(reminder_options).map((k, i) => (\n                          <option key={i} value={k} name=\"reminder\">\n                            {reminder_options[k]}\n                          </option>\n                        ))}\n                      </Select>\n                    </div>\n                  </div>)}\n\n                  <div className=\"form-group mt-2 row\">\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-secondary btn-block\"\n                        onClick={this.props.onCancelNewClassroom}\n                      >\n                        {_t(\"cancel\")}\n                      </button>\n                    </div>\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-success btn-block\"\n                        onClick={this.handleCreate}\n                      >\n                        {_t(\"create\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {this.state.message && (\n                <div className=\"form-group\">\n                  <div\n                    className={\n                      this.state.successful\n                        ? \"alert alert-success\"\n                        : \"alert alert-danger\"\n                    }\n                    role=\"alert\"\n                  >\n                    {this.state.message}\n                  </div>\n                </div>\n              )}\n              <CheckButton\n                style={{ display: \"none\" }}\n                ref={(c) => {\n                  this.checkBtn = c;\n                }}\n              />\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NewClassroom;\n","export function toLocalTime (timeStr) {\n    return new Date(timeStr + \":00.000Z\");\n}\n\nexport function toServerTime(dateStr) {\n    // convert date string to a time stamp at the end of the day according to the local time zone\n    return (new Date(dateStr+\"T23:59\")).toISOString().slice(0,16);\n};\n\nexport function toLocalTimeString (date) {\n    return date.toLocaleString({}, {dateStyle: \"short\", timeStyle: \"short\"});\n}","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\nimport { toLocalTimeString } from \"../../services/time.service\";\n\nfunction QuestionCard(props) {\n  let question = props.question;\n\n  const deadline_date = new Date(question.deadline);\n  const deadline = toLocalTimeString(deadline_date);\n  const created_on_date = new Date(question.created_on);\n  const created_on = toLocalTimeString(created_on_date);\n\n  return (\n    <div className=\"card row mt-4 mx-4\">\n      <div className=\"card-header\">\n        <div className=\"row\">\n          <div className=\"col-6\"><i className=\"bi bi-question-circle\"></i>{' '}{question.title}</div>\n          <div className=\"col-2 d-flex justify-content-center\">{question.pre_post}</div>\n          <div className=\"col-2 d-flex justify-content-end\">\n            {question.answers_count} <i className=\"bi bi-person-fill text-secondary ms-1\"></i>\n          </div>\n          <div className=\"col-2 d-flex justify-content-end\">\n            <button\n              className=\"bi bi-trash btn btn-danger btn-sm\"\n              onClick={() => props.onDelete(question)}\n            ></button>\n          </div>\n        </div>\n      </div>\n      <div className=\"card-body\">\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <p>{question.description}</p>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-6\">\n            <p className=\"justify-content-start\">\n              ({_t(\"created_on\")})\n              <i className=\"bi bi-calendar-check me-1 ms-1\"></i> {created_on}\n            </p>\n          </div>\n          <div className=\"col-6\">\n            <p style={{ textAlign: 'end' }}>\n              ({_t(\"deadline\")})\n              <i className=\"bi bi-calendar-x me-1 ms-1\"></i> {deadline}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default QuestionCard;\n","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\n\nfunction ConfirmDeleteClassroom (props) {\n\n    return (\n      <div>\n        <h1>{_t('confirm_delete')}</h1>\n        <p>{_t('confirm_delete_classroom')} {props.classroom.title}</p>\n        \n        <div className=\"form-group mt-2 row\">\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-secondary btn-block\" onClick={() => props.onConfirm(false)}> {_t('cancel')} </button>\n            </div>\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-success btn-block\" onClick={() => props.onConfirm(true)}> {_t('ok')} </button>\n            </div>                                    \n        </div>\n      </div>\n    );\n  }\n\n  export default ConfirmDeleteClassroom;","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\n\nfunction ConfirmDeleteQuestion (props) {\n  \n    return (\n      <div>\n        <h1>{_t('confirm_delete')}</h1>\n        <p>{_t('confirm_delete_question')} {props.question.title}</p>\n        \n        <div className=\"form-group mt-2 row\">\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-secondary btn-block\" onClick={() => props.onConfirm(false)}> {_t('cancel')} </button>\n            </div>\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-success btn-block\" onClick={() => props.onConfirm(true)}> {_t('ok')} </button>\n            </div>                                    \n        </div>\n      </div>\n    );\n  }\n\n  export default ConfirmDeleteQuestion;","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Select from \"react-validation/build/select\";\nimport CheckButton from \"react-validation/build/button\";\nimport BackendService from \"../../services/backend.service\";\nimport _t from \"../../services/i18n.service\";\n\nfunction addMinutes(numOfMinutes, date = new Date()) {\n  // Add selected minutes to deadline date and convert to mysql format for submit\n  date.setTime(date.getTime() + numOfMinutes * 60 * 1000);\n  return date;\n}\n\nconst required = (value) => {\n  if (!value || value.length === 0) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nclass NewQuestion extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCreate = this.handleCreate.bind(this);\n    this.onSelectQuestion = this.onSelectQuestion.bind(this);\n    this.onSetPrePost = this.onSetPrePost.bind(this);\n    this.onSetDeadline = this.onSetDeadline.bind(this);\n    this.showPrePost = this.showPrePost.bind(this);\n\n    // Merit time is the number of minutes a student can change the answer after submitting it.\n    this.merit_time_options = window.$settings.merit_time_options;\n    this.merit_time_default = 5;\n\n    // Deadline time is the number of minutes the question is open for answers\n    this.deadline_options = [5, 10, 15];\n    this.deadline_default = 10;\n\n    const first_available_question_type = props.question_types.find(\n      (qt) => qt.prepost.length > 0\n    );\n    const id = first_available_question_type\n      ? first_available_question_type.id\n      : 0;\n    const title = first_available_question_type\n      ? first_available_question_type.question_options.title\n      : \"\";\n    const description = first_available_question_type\n      ? first_available_question_type.question_options.description\n      : \"\";\n    const prepost = first_available_question_type\n      ? first_available_question_type.prepost[0]\n      : \"\";\n\n    this.state = {\n      id: id,\n      title: title,\n      description: description,\n      deadline: this.deadline_default,\n      prepost: prepost,\n      merit_time: this.merit_time_default,\n      showPre: this.showPrePost(title, \"pre\"),\n      showPost: this.showPrePost(title, \"post\"),\n\n      first_available_question_type: first_available_question_type,\n\n      successful: false,\n      message: \"\",\n    };\n  }\n\n  showPrePost(title, prepost) {\n    const questions = this.props.question_types.find(\n      (qt) => qt.question_options.title === title\n    );\n    if (!questions) {\n      return true;\n    }\n    const show = questions.prepost.find((e) => e === prepost);\n    return show;\n  }\n\n  onSelectQuestion(e) {\n    const question_type_id = parseInt(e.target.value);\n    const question_options = this.props.question_types.find(\n      (q) => q.id === question_type_id\n    ).question_options;\n\n    const new_state = {\n      id: question_type_id,\n      title: question_options.title,\n      description: question_options.description,\n      showPre: this.showPrePost(question_options.title, \"pre\"),\n      showPost: this.showPrePost(question_options.title, \"post\"),\n    };\n\n    this.setState(new_state);\n  }\n\n  onSetDeadline(e) {\n    this.setState({ deadline: e.target.value });\n  }\n\n  onSetMerit(e) {\n    this.setState({\n      merit_time: e.target.value,\n    });\n  }\n\n  onSetPrePost(e) {\n    this.setState({\n      prepost: e.target.value,\n    });\n  }\n\n  handleCreate(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      const answer_options = this.props.question_types.find(\n        (q) => q.id === this.state.id\n      ).answer_options;\n\n      BackendService.newQuestion({\n        // question info\n        title: this.state.title,\n        description: this.state.description,\n        phase: this.props.classroom.phase,\n        pre_post: this.state.prepost,\n        language: window.$lang,\n        ClassroomCode: this.props.classroom.code,\n        deadline: addMinutes(this.state.deadline).toISOString(),\n        reminder: this.props.classroom.reminder,\n        merit_time: this.state.merit_time,\n        options: answer_options,\n      })\n        .then((res) => BackendService.notifyNewQuestion(this.props.classroom))\n        .then((res) => {\n          this.setState({\n            successful: true,\n          });\n          this.props.onNewQuestion(res);\n        })\n        .catch((error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          if (\n            error.response &&\n            error.response.status &&\n            error.response.status === 401\n          ) {\n            // token has expired\n            this.setState({\n              successful: false,\n              message: _t(\"session_expired\"),\n            });\n            setTimeout(this.props.logOut, 2000);\n          } else {\n            this.setState({\n              successful: false,\n              message: resMessage,\n            });\n          }\n        });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"center-form\">\n          <div className=\"\">\n            <h5>{_t(\"new_question_title\")}</h5>\n            {!this.state.first_available_question_type && (\n              <p>{_t(\"no_question_types\")}</p>\n            )}\n            {this.state.first_available_question_type && (\n              <Form\n                onSubmit={this.handleCreate}\n                ref={(c) => {\n                  this.form = c;\n                }}\n              >\n                {!this.state.successful && (\n                  <div>\n                    <div className=\"form-group mt-2\">\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">\n                          {_t(\"choose_question\")}:\n                        </label>\n                        <div className=\"form-check\">\n                          {this.props.question_types.map((q, i) => (\n                            <div key={`outer_${i}`}>\n                              {(this.showPrePost(\n                                q.question_options.title,\n                                \"pre\"\n                              ) ||\n                                this.showPrePost(\n                                  q.question_options.title,\n                                  \"post\"\n                                )) && (\n                                <div className=\"p-1\" key={`div_${i}`}>\n                                  <input\n                                    key={i}\n                                    type=\"radio\"\n                                    id={q.id}\n                                    name=\"title\"\n                                    className=\"form-check-input\"\n                                    value={q.id}\n                                    onChange={this.onSelectQuestion}\n                                    validations={[required]}\n                                    defaultChecked={\n                                      q.id ===\n                                      this.state.first_available_question_type\n                                        .id\n                                    }\n                                  />\n                                  <label\n                                    className=\"form-check-label\"\n                                    key={`label_${i}`}\n                                  >\n                                    {\" \"}\n                                    {q.question_options.title}\n                                  </label>\n                                </div>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"form-group mt-2 mb-3\">\n                      <label\n                        htmlFor=\"description\"\n                        className=\"form-check-label mb-1\"\n                      >\n                        {_t(\"description\")}:\n                      </label>\n                      <p className=\"text-secondary\">\n                        <i>{this.state.description}</i>\n                      </p>\n                    </div>\n\n                    <div className=\"form-group mt-2\">\n                      <label className=\"form-label\">\n                        {_t(\"deadline\")} ({_t(\"minutes\")}):\n                      </label>\n                      <div className=\"col-12 text-center\">\n                        <Select\n                          name=\"deadline\"\n                          className=\"form-select\"\n                          onChange={this.onSetDeadline}\n                          value={this.state.deadline}\n                        >\n                          {Object.keys(this.deadline_options).map((k, i) => (\n                            <option key={i} value={this.deadline_options[k]}>\n                              {this.deadline_options[k]}\n                            </option>\n                          ))}\n                        </Select>\n                      </div>\n                    </div>\n\n                    <div className=\"form-group mt-2 mb-3\">\n                      {this.state.showPre && (\n                        <div className=\"form-check\">\n                          <input\n                            type=\"radio\"\n                            id=\"pre\"\n                            name=\"prepost\"\n                            value=\"pre\"\n                            className=\"form-check-input\"\n                            defaultChecked\n                            onChange={this.onSetPrePost}\n                          />\n                          <label htmlFor=\"pre\" className=\"form-check-label\">\n                            Pre\n                          </label>\n                        </div>\n                      )}\n                      {this.state.showPost && (\n                        <div className=\"form-check\">\n                          <input\n                            type=\"radio\"\n                            id=\"post\"\n                            name=\"prepost\"\n                            value=\"post\"\n                            className=\"form-check-input\"\n                            onChange={this.onSetPrePost}\n                          />\n                          <label htmlFor=\"post\" className=\"form-check-label\">\n                            Post\n                          </label>\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"form-group mt-2\">\n                      <label className=\"form-label\">{_t(\"merit_time\")}:</label>\n                      <div className=\"col-12 text-center\">\n                        <Select\n                          name=\"merit_time\"\n                          value={this.merit_time_default}\n                          className=\"form-select\"\n                          validations={[required]}\n                          onChange={this.onSetMeritTime}\n                          defaultValue={this.merit_time_default}\n                        >\n                          {\n                            //<option value=\"0\">{_t(\"none\")}</option>\n                          }\n                          {Object.keys(this.merit_time_options).map((k, i) => (\n                            <option\n                              key={i}\n                              value={this.merit_time_options[k]}\n                            >\n                              {this.merit_time_options[k]}\n                            </option>\n                          ))}\n                        </Select>\n                        \n                      </div>\n                    </div>\n\n                    {this.state.message && (\n                      <div className=\"form-group\">\n                        <div\n                          className={\n                            this.state.successful\n                              ? \"alert alert-success\"\n                              : \"alert alert-danger\"\n                          }\n                          role=\"alert\"\n                        >\n                          {this.state.message}\n                        </div>\n                      </div>\n                    )}\n\n                    <div className=\"form-group mt-5 row\">\n                      <div className=\"col-6 text-center\">\n                        <button\n                          className=\"btn btn-secondary btn-block\"\n                          onClick={this.props.onCancelNewQuestion}\n                        >\n                          {_t(\"cancel\")}\n                        </button>\n                      </div>\n                      <div className=\"col-6 text-center\">\n                        <button\n                          className=\"btn btn-success btn-block\"\n                          onClick={this.handleCreate}\n                        >\n                          {_t(\"create\")}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                <CheckButton\n                  style={{ display: \"none\" }}\n                  ref={(c) => {\n                    this.checkBtn = c;\n                  }}\n                />\n              </Form>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NewQuestion;\n","import React from \"react\"\n\nexport default function Loading () {\n    return (\n        <div className=\"text-center mx-auto mt-5\">\n            <div className=\"spinner-border\">\n                <span className=\"visually-hidden\">Loading...</span>\n            </div>\n        </div>\n    );\n};","import React from \"react\"\n\nexport function Message (props) {\n\n    return (\n        <div className=\"m-4\" data-class=\"btn-close\">\n            <div className={\"alert alert-\" + props.type + \" alert-dismissible fade show\"} role=\"alert\">\n                <p>{props.text}</p>\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n            </div>\n        </div>\n    );\n};\n\nexport function showMsg(text, type, setFunc) {\n    setFunc({text: text, type: type, show: true});\n    setTimeout(() => {\n        setFunc({text: '', type: '', show: false});\n    }, 5000);\n};","import React, { useEffect, useState } from \"react\";\nimport _t from \"../../services/i18n.service\";\nimport ClassroomCard from \"./classroom_card.component\";\nimport QuestionCard from \"./question_card.component\";\nimport ConfirmDeleteClassroom from \"./confirm_delete_classroom.component\";\nimport ConfirmDeleteQuestion from \"./confirm_delete_question.component\";\nimport BackendService from \"../../services/backend.service\";\nimport NewQuestion from \"./new_question.component\";\nimport Loading from \"../loading.component\";\nimport { Message, showMsg } from \"../message.component\";\n\nfunction Classroom(props) {\n  \n  const [questions, setQuestions] = useState([]);\n  const [show, setShow] = useState(\"loading\");\n  const [question, setQuestion] = useState();\n  const [message, setMessage] = useState({ text: \"\", type: \"\", show: false });\n\n  const loadQuestions = () => {\n    setShow(\"loading\");\n    BackendService.getProfessorQuestions(props.classroom.code)\n      .then((res) => {\n        setQuestions(res);\n        setShow(\"default\");\n      })\n      .catch(() => {\n        showMsg(_t(\"unable_to_get_data\"), \"danger\", setMessage);\n      });\n  };\n\n  // scroll to top after populating questions\n  useEffect(() => {\n    setShow(\"default\");\n  }, [questions]);\n\n  useEffect(() => {\n    loadQuestions();\n  }, []);\n\n  const onDelClassroom = () => {\n    props.onDelClassroom(props.classroom.code);\n  };\n\n  const confirmDelQuestion = (question) => {\n    setShow(\"confirmQuestion\");\n    setQuestion(question);\n  };\n\n  const onDelQuestion = () => {\n    BackendService.delQuestion(question.Question_id)\n      .then(() => {\n        showMsg(_t(\"question_deleted\"), \"info\", setMessage);\n        setShow(\"\");\n        setTimeout(loadQuestions, 2000);\n      })\n      .catch(() => {\n        showMsg(_t(\"operation_failed\"), \"danger\", setMessage);\n      });\n  };\n\n  const onNewQuestion = () => {\n    showMsg(_t(\"question_created\"), \"success\", setMessage);\n    setTimeout(loadQuestions, 2000);\n  };\n\n  // Return those question types available \n  // In the same classroom, two questions cannot have same title/prepost combination of values\n  const questionTypes = (questions) => {\n\n    // Get all possible questions according to phase\n    let question_types = window.$settings.question_types.filter(\n      (q) => q.question_options.phase === props.classroom.phase\n    );\n\n    // Add a prepost field with avaible states\n    question_types = question_types.map(qt => {\n      const used = questions.filter(q => qt.question_options.title === q.title).map(q => q.pre_post);\n      let available = [];\n      used.find(e => e === \"pre\") || available.push(\"pre\")\n      used.find(e => e === \"post\") || available.push(\"post\")\n      qt.prepost = available;\n      return qt;\n    });\n\n    return question_types;\n  }\n\n  window.scrollTo({ top: 0, left: 0, behavior: \"instant\" });\n  return (\n    <div>\n      {message.show && <Message text={message.text} type={message.type} />}\n      {show === \"confirmClassroom\" && (\n        <ConfirmDeleteClassroom\n          classroom={props.classroom}\n          onConfirm={(a) => (a ? onDelClassroom() : setShow(\"default\"))}\n        />\n      )}\n      {show === \"confirmQuestion\" && (\n        <ConfirmDeleteQuestion\n          question={question}\n          onConfirm={(a) => (a ? onDelQuestion() : loadQuestions())}\n        />\n      )}\n      {show === \"loading\" && <Loading />}\n      {show === \"newQuestion\" && (\n        <NewQuestion\n          onNewQuestion={() => onNewQuestion()}\n          onCancelNewQuestion={() => setShow(\"default\")}\n          question_types={questionTypes(questions)}\n          classroom={props.classroom}\n          logOut={props.logOut}\n        />\n      )}\n      {show === \"default\" && (\n        <div>\n          <ClassroomCard classroom={props.classroom} isHeader={true} onClickDel={() => setShow(\"confirmClassroom\")} />\n\n          <div className=\"row mt-5\">\n            <div className=\"col-6\">\n              <h5>{_t(\"questions\")}</h5>\n            </div>\n            <div className=\"col-6 d-flex justify-content-end\">\n              <button\n                className=\"btn btn-success btn-block\"\n                onClick={() => setShow(\"newQuestion\")}\n              >\n                <i className=\"bi bi-plus-circle\"></i> {_t(\"add\")}\n              </button>\n            </div>\n          </div>\n          {questions.length === 0 && \n                (\n                    <p>{_t(\"no_questions\")}</p>\n          )}\n          {questions.map((q, i) => (\n            <QuestionCard key={i} question={q} onDelete={confirmDelQuestion} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Classroom;\n","import React, { Component } from \"react\";\nimport _t from \"../../services/i18n.service\";\nimport BackendService from \"../../services/backend.service\";\nimport ClassroomCard from \"./classroom_card.component\";\nimport NewClassroom from \"./new_classroom.component\";\nimport Classroom from \"./classroom.component\";\nimport Loading from \"../loading.component\";\nimport { Message, showMsg } from \"../message.component\";\n\nclass Professor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onNewClassroom = this.onNewClassroom.bind(this);\n    this.onCancelNewClassroom = this.onCancelNewClassroom.bind(this);\n    this.onDelClassroom = this.onDelClassroom.bind(this);\n    this.goToClassroom = this.goToClassroom.bind(this);\n    this.setMsg = this.setMsg.bind(this);\n\n    this.state = {\n      classrooms: [],\n\n      show: \"default\",\n      message: {show: false},\n    };\n  }\n\n  setMsg(message) {\n    this.setState({message: message});\n  }\n\n  componentDidMount() {    \n    this.setState({ show: \"loading\" });\n    BackendService.getClassrooms()\n    .then((res) => {\n        document.documentElement.scrollTop = 0;\n        this.setState({ classrooms: res, show: \"default\" });        \n    })\n    .catch((err) => {\n      if (err.response && err.response.status && err.response.status === 401) { // token has expired\n        document.documentElement.scrollTop = 0;\n        this.setState({show: \"default\"});\n        showMsg(_t(\"session_expired\"), \"danger\", this.setMsg);\n        setTimeout(this.props.logOut, 2000);\n      } else {\n        console.log(err);\n        document.documentElement.scrollTop = 0;\n        this.setState({show: \"default\"});\n        showMsg(_t(\"unable_to_get_data\"), \"danger\", this.setMsg);\n      }\n    });\n  }\n\n  onNewClassroom(classroom) {\n    this.componentDidMount();\n  }\n\n  onDelClassroom(code) {\n    BackendService.delClassroom(code)\n      .then(() => {\n        showMsg(_t('classroom_deleted'), \"info\", this.setMsg);\n        this.componentDidMount();\n      })\n      .catch(() => {\n        showMsg(_t(\"classroom_cannot_be_deleted\"), \"danger\", this.setMsg);\n      });\n  }\n\n  onNewQuestion(question) {\n    BackendService.NewQuestion(question);\n  }\n\n  onCancelNewClassroom(title) {\n    this.setState({ show: \"default\" });\n  }\n\n  goToClassroom(classroom) {\n    this.setState({ show: \"Classroom\", classroom: classroom });\n  }\n\n  render() {\n    const classrooms = this.state.classrooms;\n\n    return (\n        <>\n        {this.state.message.show && (\n          <Message text={this.state.message.text} type={this.state.message.type} />\n        )}\n        {this.state.show === \"NewClassroom\" && (\n          <NewClassroom\n            onNewClassroom={this.onNewClassroom}\n            onCancelNewClassroom={this.onCancelNewClassroom}\n          />\n        )}\n        {this.state.show === \"Classroom\" && (\n          <Classroom\n            onDelClassroom={this.onDelClassroom}\n            onDelQuestion={this.onDelQuestion}\n            onNewQuestion={this.onNewQuestion}\n            classroom={this.state.classroom}\n            logOut={this.props.logOut}\n          />\n        )}\n        {this.state.show === \"loading\" && <Loading />}\n        {this.state.show === \"default\" && (\n          <div>\n            <div>\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <h2>{_t(\"classrooms_title\")}</h2>\n                </div>\n                <div className=\"col-6 d-flex justify-content-end\">\n                  <button\n                    to=\"new_classroom\"\n                    className=\"btn btn-success btn-block\"\n                    onClick={() => this.setState({ show: \"NewClassroom\" })}\n                  >\n                    <i className=\"bi bi-plus-circle\"></i> {_t(\"add\")}\n                  </button>\n                </div>\n              </div>\n\n              {classrooms.map((c, i) => (\n                <ClassroomCard\n                  key={i}\n                  classroom={c}\n                  goToClassroom={this.goToClassroom}\n                  isHeader={false}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n        </>\n    );\n  }\n}\n\nexport default Professor;\n","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\n\nexport default function ClassroomCard(props) {\n  let classroom = props.classroom;\n  \n  return (\n    <div className=\"card mt-4\" onClick={() => props.header || classroom.state === \"disabled\" ? false : props.goToClassroom(classroom)}>\n      <div className={\"card-header \" + (classroom.state === \"active\" ?  \"bg-primary text-light\" : \"bg-light\")}>\n        <div className=\"row\">\n          <div className=\"col-6 d-flex justify-content-start\">\n            {classroom.code.toUpperCase()}\n          </div>\n          <div className=\"col-6 d-flex justify-content-end\">\n            {_t('phase') + \" \" + classroom.phase}\n          </div>\n        </div>\n      </div>\n      <div className=\"card-body\">\n        <div className=\"row\">\n          <div className=\"col-8\">\n            <h5 className=\"card-title d-flex justify-content-start\">\n              <span className=\"mx-2\">\n                <i className=\"bi bi-easel\"></i>\n              </span>{\" \"}\n              {classroom.title}\n            </h5>\n          </div>\n          <div className=\"col-4 d-flex justify-content-end\">\n            {!props.header && (<i className=\"bi bi-chevron-right\"></i>)}\n            {props.header && (\n              <button\n              className={props.history ? \"btn btn-secondary\" : \"btn btn-light\"}\n              onClick={props.toggleHistory}\n              >\n                <i className=\"bi bi-clipboard-check me-1\"></i> {_t('history')}\n              </button>\n              \n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\nimport { toLocalTimeString } from \"../../services/time.service\";\n\nfunction QuestionCard(props) {\n  let question = props.question;\n\n  const deadline_date = new Date(question.deadline);\n  const deadline = toLocalTimeString(deadline_date);\n  const created_on_date = new Date(question.created_on);\n  const created_on = toLocalTimeString(created_on_date);\n\n  return (\n    <div className=\"card row mt-4 mx-4\" onClick={() => props.header ? false : props.onEdit(question)}>\n      <div\n        className={\n          \"card-header \" +\n          (question.state === \"editable\"\n            ? \"bg-primary text-light\"\n            : question.state === \"pending\"\n              ? \"bg-warning\"\n              : question.state === \"answered\"\n                ? \"bg-success text-light\"\n                : \"\")\n        }\n      >\n        <div className=\"row\">\n          <div className=\"col-12\"><b>{question.title}</b></div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-6  d-flex justify-content-start\">{question.pre_post}</div>\n          <div className=\"col-6 d-flex justify-content-end\">\n   \n            {question.state === \"editable\" && (\n              <>{_t('edit')} <i className=\"bi bi-pencil-square ms-1\"></i></>\n            )}\n            {question.state === \"pending\" && (\n              <>{_t('pending')} <i className=\"bi bi-hourglass-split ms-1\"></i></>\n            )}\n            {question.state === \"answered\" && (\n              <>{_t('answered')} <i className=\"bi bi-check2-circle ms-1\"></i></>\n            )}\n            {question.state === \"unanswered\" && (\n              <>{_t('unanswered')} <i className=\"bi bi-x-circle ms-1\"></i></>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"card-body\">\n        <div className=\"row\">\n          <div className=\"col-12 text-secondary\">\n            <p>{question.description}</p>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-6\">\n            <p className=\" justify-content-start\">\n              ({_t(\"created_on\")})\n              <i className=\"bi bi-calendar-check me-1 ms-1\"></i> {created_on}\n            </p>\n          </div>\n          <div className=\"col-6\">\n            <p style={{ textAlign: 'end' }}>\n              ({_t(\"deadline\")})<i className=\"bi bi-calendar-x me-1 ms-1\"></i>{\" \"}\n              {deadline}\n            </p>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-8 d-flex justify-content-start\">\n            <span className={\n              (question.state === \"editable\"\n              ? \"text-primary\"\n              : question.state === \"pending\"\n              ? \"text-warning\"\n              : question.state === \"answered\"\n              ? \"text-success\"\n              : \"\")}>\n              <b>{question.response !== -1 ? `${_t('response')}: ${question.response}` : _t('no_response')}</b>\n              </span>\n              <span className=\"text-secondary ms-2\">\n                {(question.state === \"editable\" ? `(${_t(\"editable_until\")} ${toLocalTimeString(question.merit_time)})` : \"\")}\n              </span>\n          </div>\n          <div className=\"col-4 d-flex justify-content-end\">\n            {(question.state === \"editable\" ||\n              question.state === \"pending\") && !props.header && (\n                <i className=\"bi bi-chevron-right\"></i>\n              )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default QuestionCard;","import React, { Component } from \"react\"\nimport Form from \"react-validation/build/form\";\nimport CheckButton from \"react-validation/build/button\";\nimport QuestionCard from './question_card.component';\nimport _t from \"../../services/i18n.service\";\nimport stairs_img from '../../assets/stairs.jpg';\n\nconst required = value => {\n    if (!value || value.length === 0) {\n      return (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          {_t('field_required')}\n        </div>\n      );\n    }\n  };\n\nclass Question extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onChange = this.onChange.bind(this);\n\n        this.state = {\n            level: -1,\n\n            successful: false,\n            message: '',\n        }\n    }\n\n    onChange(e) {\n        const level = parseInt(e.target.value)\n        this.setState({\n          level: level\n        });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        this.setState({\n          message: \"\",\n          successful: false\n        });\n        this.form.validateAll();\n        this.props.onSubmit(this.state.level, this.props.question.Question_id);\n    }\n\n \n    render() {\n        const answer_options = window.$settings.question_types[0].answer_options;\n\n        return (\n            <div>\n                <div className=\"center-form\">\n                    <div>\n                        <QuestionCard question={this.props.question} header={true}/>\n                        \n                        <Form\n                            onSubmit={this.onSubmit}\n                            ref={c => {\n                                this.form = c;\n                            }}\n                        >\n                            <div className=\"row mt-5\">\n                                <div className='col-4 d-flex justify-content-end'>\n                                    {!this.state.successful && (\n                                    <div className=\"d-flex flex-column\">                                \n                                        {Object.keys(answer_options).reverse().map((k, i) => \n                                            <div  className=\"p-1\" key={i}>\n                                            <input\n                                            key={i}\n                                            type=\"radio\"\n                                            id={k}\n                                            name=\"level\"\n                                            value={k}\n                                            onChange={this.onChange}\n                                            validations={[required]}\n                                            /> {answer_options[k]}\n                                            </div>\n                                        )}\n                                    </div>\n                                    )}\n                                </div>\n                                <div className='col-8  d-flex justify-content-start'>\n                                    <img src={stairs_img} width=\"200\" alt=\"stairs\"/>\n                                </div>\n                            </div>\n\n                            <div className=\"form-group mt-5 row\">\n                                <div className=\"col-6 text-center\">\n                                    <button className=\"btn btn-secondary btn-block\" onClick={this.props.onClose}>{_t('close')}</button>\n                                </div>\n                                 <div className=\"col-6 text-center\">\n                                    <button className=\"btn btn-success btn-block\" onClick={this.onSubmit}>{_t('submit')}</button>\n                                </div>\n                            </div>\n      \n                            \n                            {this.state.message && (\n                            <div className=\"form-group\">\n                                <div\n                                className={\n                                    this.state.successful\n                                    ? \"alert alert-success\"\n                                    : \"alert alert-danger\"\n                                }\n                                role=\"alert\"\n                                >\n                                {this.state.message}\n                                </div>\n                            </div>\n                            )}\n                            <CheckButton\n                                style={{ display: \"none\" }}\n                                ref={c => {\n                                this.checkBtn = c;\n                                }}\n                            />\n                        </Form>\n                    </div>\n                </div>\n            </div>\n        );    \n    }\n} \n\nexport default Question;","import React from \"react\"\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Cell, Tooltip } from 'recharts';\n//import _t from \"../../services/i18n.service\"\n\n\nfunction Stats (props) {\n  \n  const data = [\n    {\n      name: 'pre',\n      answer: props.response.pre || 0,\n    },\n    {\n      name: 'post',\n      answer: props.response.post || 0,\n    },\n  ];\n\n  return (\n\n    <BarChart\n      width={400}\n      height={200}\n      data={data} \n      margin={{\n        top: 5,\n        right: 5,\n        left: 5,\n        bottom: 5,\n      }}\n    >\n      <CartesianGrid strokeDasharray=\"3 3\" />\n      <XAxis dataKey=\"name\" />\n      <YAxis domain={[0, 10]}/>\n      <Tooltip />\n      {/*<Legend />*/}\n      <Bar dataKey=\"answer\">\n        <Cell key=\"cell-0\" fill=\"#94e4c9\" />\n        <Cell key=\"cell-1\" fill=\"#509b7d\" />\n      </Bar>\n    </BarChart>\n\n  );\n}\n\nexport default Stats;","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\nimport Stats from \"./stats.component\";\n//import { toLocalTimeString } from \"../../services/time.service\";\n\nfunction QuestionHistory(props) {\n  let question = props.question;\n\n  return (\n    <div className=\"card row mt-4 mx-4\">\n      <div\n        className={\n          \"card-header \" +\n          (question.pre_answer && question.post_answer\n            ? \"bg-primary text-light\"\n            : \"bg-warning\"\n          )\n        }\n      >\n        <div className=\"row\">\n          <div className=\"col-7\">{question.title}</div>\n          <div className=\"col-5 d-flex justify-content-end\">\n            {question.pre_answer && question.post_answer  ? \n              <>{_t('answered')} <i className=\"bi bi-check2-circle ms-1\"></i></>\n              :\n              <>{_t('pending')} <i className=\"bi bi-hourglass-split ms-1\"></i></>\n            }\n          </div>\n        </div>\n      </div>\n      <div className=\"card-body\">\n        <div className=\"row\">\n          <div className=\"col-12 text-secondary\">\n            <p>{question.description}</p>\n          </div>\n        </div>\n        \n        <Stats response={question.response}/>\n      </div>\n    </div>\n  );\n}\n\nexport default QuestionHistory;\n","import React, { Component } from \"react\";\nimport _t from \"../../services/i18n.service\";\nimport Question from \"./question.component\";\nimport QuestionCard from \"./question_card.component\";\nimport QuestionHistory from \"./question_history.component\";\nimport ClassroomCard from \"./classroom_card.component\";\nimport BackendService from \"../../services/backend.service\";\nimport { Message, showMsg } from \"../message.component\";\n\nclass Classroom extends Component {\n  constructor(props) {\n    super(props);\n    this.onEdit = this.onEdit.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.setMsg = this.setMsg.bind(this);\n    this.getClosedQuestions = this.getClosedQuestions.bind(this);\n\n    this.state = {\n      show: \"classroom\",\n      history: false,\n      question: null,\n      message: { show: false },\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    window.scrollTo({ top: 0, left: 0, behavior: \"instant\" });\n  }\n\n  setMsg(message) {\n    this.setState({ message: message });\n  }\n\n  onEdit(q) {\n    this.setState({\n      show: \"question\",\n      question: q,\n    });\n  }\n\n  onSubmit(option, question_id) {\n    let promise =\n      this.state.question.response === -1\n        ? BackendService.newAnswer(option, question_id)\n        : BackendService.updateAnswer(option, question_id);\n\n    promise\n      .then((res) => {\n        showMsg(_t(\"answer_recorded\"), \"success\", this.setMsg);\n        setTimeout(this.props.refresh, 2000);\n      })\n      .catch((err) => {\n        showMsg(_t(\"operation_failed\"), \"danger\", this.setMsg);\n        setTimeout(this.props.refresh, 2000);\n      });\n  }\n\n  getClosedQuestions() {\n    const answered_questions = this.props.classroom.questions.filter(\n      (q) => q.state === \"answered\"\n    );\n    let closed_questions = [];\n    answered_questions.forEach(aq => {\n      const i = closed_questions.findIndex(cq => cq.title === aq.title);\n      if (i === -1) {\n        const question = {...aq};\n        question.response = {};\n        question.response[aq.pre_post] = aq.response;\n        closed_questions.push(question);\n      } else {\n        closed_questions[i].response[aq.pre_post] = aq.response;\n      }\n    });\n    return closed_questions;\n  }\n\n  render() {\n    const classroom = this.props.classroom;\n    const pending_questions = classroom.questions.filter(\n      (q) => q.state === \"pending\"\n    );\n    const editable_questions = classroom.questions.filter(\n      (q) => q.state === \"editable\"\n    );\n    const closed_questions = this.getClosedQuestions();\n    \n    return (\n      <div>\n        {this.state.message.show && (\n          <Message\n            text={this.state.message.text}\n            type={this.state.message.type}\n          />\n        )}\n        {this.state.show === \"classroom\" && (\n          <div>\n            <ClassroomCard\n              header={true}\n              classroom={classroom}\n              history={this.state.history}\n              toggleHistory={() => {\n                this.setState({ history: !this.state.history });\n              }}\n            />\n            <h5 className=\"mt-2\">{_t(\"questions\")}:</h5>\n\n            {!this.state.history ? ( // open questions\n              (editable_questions.length === 0 &&\n                pending_questions.length === 0 && (\n                  <p>{_t(\"no_questions\")}</p>\n                )) || (\n                <>\n                  {editable_questions.length > 0 &&\n                    editable_questions.map((q, i) => (\n                      <QuestionCard\n                        key={i}\n                        question={q}\n                        onEdit={this.onEdit}\n                        header={false}\n                      />\n                    ))}\n\n                  {pending_questions.length > 0 &&\n                    pending_questions.map((q, i) => (\n                      <QuestionCard\n                        key={i}\n                        question={q}\n                        onEdit={this.onEdit}\n                        header={false}\n                      />\n                    ))}\n                </>\n              )\n            ) : closed_questions.length > 0 ? ( // closed questions\n              closed_questions.map((q, i) => (\n                <QuestionHistory key={i} question={q} />\n              ))\n            ) : (\n              <p>{_t(\"no_questions\")}</p>\n            )}\n          </div>\n        )}\n        {this.state.show === \"question\" && (\n          <Question\n            onSubmit={this.onSubmit}\n            onClose={() => {\n              this.setState({ show: \"classroom\" });\n            }}\n            question={this.state.question}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Classroom;\n","import React, { Component } from \"react\";\nimport _t from \"../../services/i18n.service\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport ClassroomCard from \"./classroom_card.component\";\nimport BackendService from \"../../services/backend.service\";\nimport Classroom from \"./classroom.component.js\";\nimport Loading from \"../loading.component\";\nimport { Message, showMsg } from \"../message.component\";\nimport authService from \"../../services/auth.service\";\nimport OneSignal from 'react-onesignal';\n\nclass Student extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeClassroom = this.onChangeClassroom.bind(this);\n    this.onSelectClassroom = this.onSelectClassroom.bind(this);\n    this.onJoinClassroom = this.onJoinClassroom.bind(this);\n    this.goToClassroom = this.goToClassroom.bind(this);\n    this.loadClassrooms = this.loadClassrooms.bind(this);\n    this.setMsg = this.setMsg.bind(this);\n\n    this.state = {\n      classrooms: [],\n      classroom_new_id: \"\",\n      classroom_id: \"\",\n      classroom: {},\n\n      show: \"loading\",\n\n      successful: false,\n      message: { show: false },\n    };\n  }\n\n  setMsg(message) {\n    this.setState({ message: message });\n  }\n\n  loadClassrooms() {\n    this.setState({\n      classroom_new_id: \"\",\n      show: \"loading\",\n    });\n\n    BackendService.getClassrooms()\n      .then(async (res) => {\n        const classrooms = res.filter((c) => c.state === \"active\");\n        this.setState({ classrooms: classrooms, show: \"default\" });\n\n        // Subscribe to classroom notifications\n        const user_id = await OneSignal.getUserId();\n        const user = authService.getCurrentUser();\n        console.log(\"user_id\", user_id);\n\n        for (let i=0; i<classrooms.length; i++) {\n          await BackendService.subscribeToNotifications(classrooms[i].code.toUpperCase(), user_id);\n        }\n\n        console.log(\"subscribing\", user.email, user_id)\n        await BackendService.subscribeToNotifications(user.email, user_id);\n      })\n      .catch((err) => {\n        if (\n          err.response &&\n          err.response.status &&\n          err.response.status === 401\n        ) {\n          // token has expired\n          document.documentElement.scrollTop = 0;\n          this.setState({ show: \"default\" });\n          showMsg(_t(\"session_expired\"), \"danger\", this.setMsg);\n          setTimeout(this.props.logOut, 2000);\n        } else {\n          console.log(err);\n          this.setState({ show: \"default\" });\n          showMsg(_t(\"unable_to_get_data\"), \"danger\", this.setMsg);\n        }\n      });\n  }\n\n  componentDidMount() {\n    this.loadClassrooms();\n  }\n\n  onChangeClassroom(e) {\n    this.setState({\n      classroom_new_id: e.target.value,\n    });\n  }\n\n  goToClassroom(classroom) {\n    window.scrollTo({ top: 0, left: 0, behavior: \"instant\" });\n    this.setState({ show: \"loading\" });\n    BackendService.getStudentQuestions(classroom.code)\n      .then((res) => {\n        classroom.questions = res;\n        this.setState({\n          classroom: classroom,\n          show: \"classroom\",\n        });\n      })\n      .catch((err) => {\n        if (\n          err.response &&\n          err.response.status &&\n          err.response.status === 401\n        ) {\n          // token has expired\n          document.documentElement.scrollTop = 0;\n          this.setState({ show: \"default\" });\n          showMsg(_t(\"session_expired\"), \"danger\", this.setMsg);\n          setTimeout(this.props.logOut, 2000);\n        } else {\n          showMsg(_t(\"unable_to_get_data\"), \"danger\", this.setMsg);\n          setTimeout(() => {\n            this.setState({ show: \"default\" });\n          }, 10000);\n        }\n      });\n  }\n\n  onSelectClassroom(e) {\n    this.setState({\n      classroom_id: e.target.value,\n    });\n  }\n\n  onJoinClassroom(e) {\n    e.preventDefault();\n\n    const code =\n      this.state.classroom_new_id.length > 0\n        ? this.state.classroom_new_id\n        : this.state.classroom_id;\n\n    // check if already subscribed\n    if (this.state.classrooms.find((e) => e.code === code)) {\n      showMsg(_t(\"already_enroled\"), \"info\", this.setMsg);\n      setTimeout(() => {}, 4000);\n      return;\n    }\n\n    const user = authService.getCurrentUser();\n\n    // not subscribed, so let's subscribe!\n    BackendService.subscribeToClassroom(code, user.email)\n      .then(() => {\n        return OneSignal.getUserId()\n      })\n      .then((user_id) => {\n        return BackendService.subscribeToNotifications(code, user_id)\n      })\n      .then(() => {this.componentDidMount();})\n      .catch((err) => {\n        console.log(\"Error\", err);\n        if (err.message === \"Classroom does not exist.\") {\n          err.message = _t(\"classroom_not_found\");\n        }\n        showMsg(err.message, \"danger\", this.setMsg);\n        setTimeout(() => {this.componentDidMount()}, 4000);\n      })\n  }\n\n  render() {\n    const classrooms = this.state.classrooms;\n    return (\n      <>\n        {this.state.message.show && (\n          <Message\n            text={this.state.message.text}\n            type={this.state.message.type}\n          />\n        )}\n\n        {this.state.show === \"loading\" && <Loading />}\n\n        {this.state.show === \"classroom\" && (\n          <Classroom\n            classroom={this.state.classroom}\n            goBack={() => this.componentDidMount()}\n            refresh={() => this.goToClassroom(this.state.classroom)}\n          />\n        )}\n\n        {this.state.show === \"default\" && (\n          <div>\n            <Form>\n              <div className=\"form-group mt-2 row\">\n                <div className=\"col-8\">\n                  <Input\n                    type=\"text\"\n                    className=\"form-control col-10\"\n                    placeholder={_t(\"new_classroom_id\")}\n                    name=\"classroom_new_id\"\n                    value={this.state.classroom_new_id}\n                    onChange={this.onChangeClassroom}\n                    maxLength=\"4\"\n                    validations={[]}\n                  />\n                </div>\n\n                <div className=\"col-4 d-flex justify-content-end\">\n                  <button\n                    className=\"btn btn-success btn-block\"\n                    onClick={this.onJoinClassroom}\n                    \n                  >\n                    {_t(\"join\")}\n                  </button>\n                </div>\n              </div>\n            </Form>\n\n            {classrooms.length === 0 && (\n              <p className=\"mt-2 text-center\">{_t(\"no_enrolments\")}</p>\n            )}\n\n            {classrooms.map((c, i) => (\n              <ClassroomCard\n                key={i}\n                classroom={c}\n                goToClassroom={this.goToClassroom}\n              />\n            ))}\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nexport default Student;\n","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { useNavigate } from \"react-router-dom\";\nimport BackendService from \"../../services/backend.service\";\nimport OneSignal from 'react-onesignal';\nimport _t from \"../../services/i18n.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nclass DelUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = this.handleDelete.bind(this);\n    this.onChangePass = this.onChangePass.bind(this);\n\n    this.state = {\n      pass: \"\",\n\n      successful: false,\n      message: \"\",\n    };\n  }\n\n  onChangePass(e) {\n    this.setState({\n      pass: e.target.value,\n    });\n  }\n\n  fakeGetUserId() {\n    return new Promise((res, rej) => res(1));\n  }\n\n  handleDelete(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      BackendService.getClassrooms()\n        .then(async (classrooms) => {\n          const user_id = await OneSignal.getUserId();\n          //const user_id = 1;\n          return ([classrooms, user_id]);\n        })\n        .then(async ([classrooms, user_id]) => {\n          for (let i=0; i<classrooms.length; i++) {\n            await BackendService.unsubscribeFromNotifications(classrooms[i].code.toUpperCase(), user_id);\n          }\n          await BackendService.unsubscribeFromNotifications(this.props.user.email, user_id);\n          await BackendService.delFromNotificationServer(user_id);\n        })\n        .then(() => {\n          return BackendService.delUser(this.props.user.email, this.state.pass);\n        })\n        .then((res) => {\n          this.setState({\n            message: res.message,\n            successful: true,\n          });\n          setTimeout(() => this.props.delUser(true), 1000);\n        })\n        .catch((err) => {\n          this.setState({\n            successful: false,\n            message: err.message,\n        });\n        });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"center-form\">\n          <div className=\"\">\n            <h5>{_t(\"del_user_instructions\")}</h5>\n            <Form\n              onSubmit={this.handleDelete}\n              ref={(c) => {\n                this.form = c;\n              }}\n            >\n              {!this.state.successful && (\n                <div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"password\">{_t(\"enter_password\")}</label>\n                    <Input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"password\"\n                      value={this.state.pass}\n                      onChange={this.onChangePass}\n                      validations={[required]}\n                    />\n                  </div>\n                  <div className=\"form-group mt-2 row\">\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-secondary btn-block\"\n                        onClick={() => this.props.navigate(-1)}\n                      >\n                        {_t(\"cancel\")}\n                      </button>\n                    </div>\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-danger btn-block\"\n                        onClick={this.handleDelete}\n                      >\n                        {_t(\"delete\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {this.state.message && (\n                <div className=\"form-group\">\n                  <div\n                    className={\n                      this.state.successful\n                        ? \"alert alert-success\"\n                        : \"alert alert-danger\"\n                    }\n                    role=\"alert\"\n                  >\n                    {this.state.message}\n                  </div>\n                </div>\n              )}\n              <CheckButton\n                style={{ display: \"none\" }}\n                ref={(c) => {\n                  this.checkBtn = c;\n                }}\n              />\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Wrap and export\nexport default function(props) {\n  const navigate = useNavigate();\n\n  return <DelUser {...props} navigate={navigate} />;\n}\n","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { useNavigate } from \"react-router-dom\";\nimport BackendService from \"../../services/backend.service\";\nimport OneSignal from 'react-onesignal';\nimport _t from \"../../services/i18n.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nclass PurgeUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = this.handleDelete.bind(this);\n    this.onChangePass = this.onChangePass.bind(this);\n\n    this.state = {\n      pass: \"\",\n\n      successful: false,\n      message: \"\",\n    };\n  }\n\n  onChangePass(e) {\n    this.setState({\n      pass: e.target.value,\n    });\n  }\n\n  handleDelete(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      BackendService.getClassrooms()\n        .then(async (classrooms) => {\n          const user_id = await OneSignal.getUserId();\n          //const user_id = 1;\n          return ([classrooms, user_id]);\n        })\n        .then(async ([classrooms, user_id]) => {\n          for (let i=0; i<classrooms.length; i++) {\n            await BackendService.unsubscribeFromNotifications(classrooms[i].code.toUpperCase(), user_id);\n          }\n        })\n        .then(() => {\n          return BackendService.purgeUser(this.props.user.email, this.state.pass);\n        })\n        .then(\n          (response) => {\n            this.setState({\n              message: response.message,\n              successful: true,\n            });\n            setTimeout(() => this.props.delUser(true), 1000);\n        })\n        .catch(\n          (err) => {\n            this.setState({\n                successful: false,\n                message: err.message,\n            });\n          }\n        );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"center-form\">\n          <div className=\"\">\n            <h5>{_t(\"purge_user_instructions\")}</h5>\n            <Form\n              onSubmit={this.handleDelete}\n              ref={(c) => {\n                this.form = c;\n              }}\n            >\n              {!this.state.successful && (\n                <div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"password\">{_t(\"enter_password\")}</label>\n                    <Input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"password\"\n                      value={this.state.pass}\n                      onChange={this.onChangePass}\n                      validations={[required]}\n                    />\n                  </div>\n                  <div className=\"form-group mt-2 row\">\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-secondary btn-block\"\n                        onClick={() => this.props.navigate(-1)}\n                      >\n                        {_t(\"cancel\")}\n                      </button>\n                    </div>\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-danger btn-block\"\n                        onClick={this.handleDelete}\n                      >\n                        {_t(\"delete\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {this.state.message && (\n                <div className=\"form-group\">\n                  <div\n                    className={\n                      this.state.successful\n                        ? \"alert alert-success\"\n                        : \"alert alert-danger\"\n                    }\n                    role=\"alert\"\n                  >\n                    {this.state.message}\n                  </div>\n                </div>\n              )}\n              <CheckButton\n                style={{ display: \"none\" }}\n                ref={(c) => {\n                  this.checkBtn = c;\n                }}\n              />\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Wrap and export\nexport default function(props) {\n  const navigate = useNavigate();\n\n  return <PurgeUser {...props} navigate={navigate} />;\n}\n","import React from \"react\";\n\nconst NotFound = () => {\n    return (<h1>Page not found</h1>);\n};\n\nexport default NotFound;","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { useNavigate } from \"react-router-dom\";\nimport BackendService from \"../services/backend.service\";\nimport _t from \"../services/i18n.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nclass ChangePassword extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onChangePass = this.onChangePass.bind(this);\n    this.onChangeNewPass = this.onChangeNewPass.bind(this);    \n\n    this.state = {\n      pass: \"\",\n      new_pass: \"\",\n\n      successful: false,\n      message: \"\",\n    };\n  }\n\n  onChangePass(e) {\n    this.setState({\n      pass: e.target.value,\n    });\n  }\n\n  onChangeNewPass(e) {\n    this.setState({\n      new_pass: e.target.value,\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      BackendService.changePassword(\n        this.props.user.email,\n        this.state.pass,\n        this.state.new_pass,\n      ).then(\n        (response) => {\n          this.setState({\n            message: response.message,\n            successful: true,\n          });\n          setTimeout(() => this.props.onChangePassword(true), 1000);\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          this.setState({\n            successful: false,\n            message: resMessage,\n          });\n        }\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"center-form\">\n          <div className=\"\">\n            <h5>{_t(\"change_password\")}</h5>\n            <Form\n              onSubmit={this.handleSubmit}\n              ref={(c) => {\n                this.form = c;\n              }}\n            >\n              {!this.state.successful && (\n                <div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"password\">{_t(\"enter_curr_password\")}</label>\n                    <Input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"password\"\n                      value={this.state.pass}\n                      onChange={this.onChangePass}\n                      validations={[required]}\n                    />\n                  </div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"password\">{_t(\"enter_new_password\")}</label>\n                    <Input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"new_password\"\n                      value={this.state.new_pass}\n                      onChange={this.onChangeNewPass}\n                      validations={[required]}\n                    />\n                  </div>                  \n                  <div className=\"form-group mt-2 row\">\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-secondary btn-block\"\n                        onClick={() => this.props.navigate(-1)}\n                      >\n                        {_t(\"cancel\")}\n                      </button>\n                    </div>\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-success btn-block\"\n                        onClick={this.handleSubmit}\n                      >\n                        {_t(\"submit\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {this.state.message && (\n                <div className=\"form-group\">\n                  <div\n                    className={\n                      this.state.successful\n                        ? \"alert alert-success\"\n                        : \"alert alert-danger\"\n                    }\n                    role=\"alert\"\n                  >\n                    {this.state.message}\n                  </div>\n                </div>\n              )}\n              <CheckButton\n                style={{ display: \"none\" }}\n                ref={(c) => {\n                  this.checkBtn = c;\n                }}\n              />\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Wrap and export\nexport default function(props) {\n  const navigate = useNavigate();\n\n  return <ChangePassword {...props} navigate={navigate} />;\n}\n","import React, { useReducer, useState, useEffect } from \"react\";\nimport {\n  HashRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from \"react-router-dom\";\nimport config from \"./config\";\n//import AuthService from \"./services/fake_auth.service\";\nimport AuthService from \"./services/auth.service\";\n\nimport ACL from \"./services/acl.service\";\nimport BackendService from \"./services/backend.service\";\nimport Unauthorized from \"./components/unauthorized.component\";\nimport Login from \"./components/login.component\";\nimport Register from \"./components/register.component\";\nimport Language from \"./components/language.component\";\nimport _t from \"./services/i18n.service\";\n\nimport ResetPassword from \"./components/reset_password\";\nimport Layout from \"./components/layout.component\";\nimport Professor from \"./components/professor/professor.component\";\nimport Student from \"./components/student/student.component\";\nimport Stats from \"./components/student/stats.component\";\nimport DelUser from \"./components/student/del_user.component\";\nimport PurgeUser from \"./components/student/purge_user.component\";\nimport NotFound from \"./components/notfound.component\";\nimport ChangePassword from \"./components/change_password.component\";\nimport OneSignal from 'react-onesignal';\n\n\nfunction App () {\n   \n  const [user, setUser] = useState(AuthService.getCurrentUser());\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n\n  useEffect(() => {\n\n    // Logs modification time\n    console.log('Version 20230131-14:30'); \n  \n    // Update user data\n    setUser(AuthService.getCurrentUser());\n\n    // Get stored language\n    const lang = window.localStorage.getItem(\"lang\");\n    window.$lang = lang ? lang : \"en\";\n\n    BackendService.getSettings()\n    .then(settings => {window.$settings = settings})\n    .catch(console.log);\n\n    // Push service UNCOMMENT AT DEPLOYMENT\n    OneSignal.init({ appId: 'cca1bd1f-8df1-47e4-a28e-454eeb0b5ab3', allowLocalhostAsSecureOrigin: true });\n    // OneSignal.showSlidedownPrompt();\n\n    let isIOS = (/iPad|iPhone|iPod/.test(navigator.platform) ||\n    (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)) &&\n    !window.MSStream;\n\n    // do not check for push notifications when in iOS\n    if (!isIOS) {\n      OneSignal.showNativePrompt()\n    .then(() => Promise.resolve(OneSignal.isPushNotificationsEnabled()))\n    .then((value) => {\n      console.log('Checking push notifications status... => ', value);\n      if (!value) {\n        alert(_t('enable_push_alert'));\n      }\n    })\n    .catch(() => {\n      alert(_t('enable_push_alert'));\n    });\n  }\n  \n  }, []);\n\n  const logIn = () => {\n    setUser(AuthService.getCurrentUser());\n  }\n\n  const logOut = () => {\n    AuthService.logout();\n    setUser(AuthService.getCurrentUser());\n    window.location = config.BASE_PATH;\n  }\n\n  const onChangeLang = (lang) => {\n    window.$lang = lang;\n    localStorage.setItem(\"lang\", lang);\n    forceUpdate();\n  }\n\n  const delUser = (successful) => {\n    if (successful) {\n      logOut();\n    }\n  }\n\n  const purgeUser = (successful) => {\n    if (successful) {\n      forceUpdate();\n    }\n  }\n\n  const onChangePassword = (successful) => {\n    if (successful) {\n      logOut();\n    }\n  }\n\n  // Render!\n  return (\n      <Router>\n        <Routes>\n          <Route path={config.BASE_PATH+\"/\"} element={<Layout user={user} logOut={logOut} />}>\n            <Route\n              index\n              element={\n                user.role && user.role === \"ROLE_PROFESSOR\" ? (\n                  <Navigate to={config.BASE_PATH+\"/prof\"} replace />\n                ) : user.role && user.role === \"ROLE_STUDENT\" ? (\n                  <Navigate to={config.BASE_PATH+\"/stu\"} replace />\n                ) : (\n                  <Navigate to={config.BASE_PATH+\"/login\"} replace />\n                )\n              }\n            />\n            <Route\n              path=\"login\"\n              element={\n                <Login cb={logIn} onChangeLang={onChangeLang} />\n              }\n            />\n\n            <Route\n              path={config.BASE_PATH+\"reset-password\"}\n              element={\n                <ResetPassword onChangeLang={onChangeLang} />\n              }\n            />\n\n            <Route path={config.BASE_PATH+\"unauthorized\"} element={<Unauthorized />} />\n            <Route\n              path={config.BASE_PATH+\"register\"}\n              element={\n                <Register user={user} onChangeLang={onChangeLang} />\n              }\n            />\n            <Route\n              path={config.BASE_PATH+\"lang\"}\n              element={<Language onClick={onChangeLang} />}\n            />\n\n            <Route\n              path={config.BASE_PATH+\"prof\"}\n              element={\n                <ACL roles={[\"ROLE_PROFESSOR\"]}>\n                  <Professor user={user} logOut={logOut}/>\n                </ACL>\n              }\n            />\n\n            <Route\n              path={config.BASE_PATH+\"stu\"}\n              element={\n                <ACL roles={[\"ROLE_STUDENT\"]}>\n                  <Student user={user} logOut={logOut}/>\n                </ACL>\n              }\n            />\n\n            <Route\n              path={config.BASE_PATH+\"stu-stats\"}\n              element={\n                <ACL roles={[\"ROLE_STUDENT\"]}>\n                  <Stats user={user} />\n                </ACL>\n              }\n            />\n\n            <Route\n              path={config.BASE_PATH+\"del-user\"}\n              element={\n                <ACL roles={[\"ROLE_STUDENT\"]}>\n                  <DelUser user={user} delUser={delUser} />\n                </ACL>\n              }\n            />\n\n            <Route\n              path={config.BASE_PATH+\"purge-user\"}\n              element={\n                <ACL roles={[\"ROLE_STUDENT\"]}>\n                  <PurgeUser user={user} delUser={purgeUser} />\n                </ACL>\n              }\n            />\n\n            <Route\n              path={config.BASE_PATH+\"chgpass\"}\n              element={\n                <ACL roles={[\"ROLE_STUDENT\", \"ROLE_PROFESSOR\"]}>\n                  <ChangePassword\n                    user={user}\n                    onChangePassword={onChangePassword}\n                  />\n                </ACL>\n              }\n            />\n            <Route path=\"*\" element={<NotFound />} />\n          </Route>\n        </Routes>\n      </Router>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport './app.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration.js';\nimport reportWebVitals from './reportWebVitals';\n\n// ========================================\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n    <>\n    <link rel=\"manifest\" href=\"/manifest.json\"></link>\n    \n    <App />\n    </>\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n"],"sourceRoot":""}