{"version":3,"sources":["assets/LevelUP_128_white.png","assets/stairs.jpg","config.js","services/auth.service.js","services/acl.service.js","services/i18n.service.js","services/backend.service.js","components/unauthorized.component.js","components/language.component.js","components/login.component.js","components/register.component.js","components/reset_password.js","components/layout.component.js","components/professor/classroom_card.component.js","components/professor/new_classroom.component.js","services/time.service.js","components/professor/question_card.component.js","components/professor/confirm_delete_classroom.component.js","components/professor/confirm_delete_question.component.js","components/professor/confirm_activate_reminders.js","components/professor/new_question.component.js","components/loading.component.js","components/message.component.js","components/professor/classroom.component.js","components/professor/professor.component.js","components/student/classroom_card.component.js","components/student/question_card.component.js","components/student/question.component.js","components/student/stats.component.js","components/student/question_history.component.js","components/student/classroom.component.js","components/student/student.component.js","components/student/del_user.component.js","components/student/purge_user.component.js","components/notfound.component.js","components/change_password.component.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","config","API_URL","BASE_PATH","VERSION","auth_service","email","password","axios","post","then","res","user_data","role_id","data","role","user_id","jwt","localStorage","setItem","JSON","stringify","removeItem","RoleId","userJSON","getItem","parse","ACL","_ref","children","roles","user","AuthService","getCurrentUser","includes","react_default","a","createElement","react_router","to","replace","msg","es","professor","student","link_language","link_login","link_register","link_logout","enter_email","enter_password","enter_curr_password","enter_new_password","invalid_email","invalid_password","password_instructions","field_required","new_account_title","new_account_text","close","classrooms_title","stats_title","add","phase","questions","title","new_classroom_title","cancel","create","creation_failed","classroom_created","confirm","confirm_delete","confirm_delete_classroom","confirm_delete_question","confirm_activation","confirm_activate_reminders","reminders_activated","reminders_not_activated","no_reminder_without_enrolments","ok","question_deleted","new_question_title","none","Once per day","Once per week","Once per month","choose_question","question_type_1","question_type_2","question_type_3","question_created","new_classroom_id","select_previous","join","submit","edit","pending","answered","unanswered","delete","delete_classroom","delete_user","del_user_instructions","user_deleted","user_purged","purge_user_instructions","aswer_recorded","user_registered","user_not_registered","change_password","password_changed","error_400","error_401","error_500","login_failed","from","unable_to_get_data","reminder","operation_failed","classroom_deleted","email_already_exists","description","deadline","deadline_posterior","session_expired","classroom_not_found","no_enrolments","already_enroled","no_questions","answer_recorded","classroom_cannot_be_deleted","merit_time","user_data_deleted","remove_user_data","created_on","history","response","no_response","editable_until","no_question_types","new_question_notification","classroom_active_tip","classroom_inactive_tip","reminders_enabled_tip","reminders_disabled_tip","reminder_headings","reminder_subtitle","enable_push_alert","minutes","reset_password_msg","reset_password","no_notifications_warning","en","gr","de","classroom_title","once_per_day","once_per_week","once_per_month","medit_time","_t","k","window","$lang","backend_service","headers","Authorization","concat","Object","objectSpread","new_password","_this","this","Promise","resolve","reject","newPassword","bearerConfig","updateJWT","message","catch","err","status","get","settings","options","question_types","classrooms","length","sort","b","id","code","asyncToGenerator","_regeneratorRuntime","mark","_callee2","i","answers_count","wrap","_context2","prev","next","Question_id","total_answers","count","sent","abrupt","stop","_x2","apply","arguments","classroom_info","state","_this2","question_data","classroom","classroomCode","toUpperCase","headings","subtitle","click_url","location","host","path","_this3","put","reminder_status","_this4","_this5","_ref2","_callee4","question","answer","last_response","deadline_passed","merit_time_passed","_context4","results","pop","selected_option","Date","_x3","userEmail","enrolment","Error","classroom_code","player_id","option","question_id","UserId","QuestionId","Unauthorized","className","Language","props","lang","map","l","style","fontWeight","textDecoration","type","key","onClick","required","value","vemail","isEmail","Login","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleLogin","bind","assertThisInitialized","onChangeEmail","onChangePassword","loading","e","setState","target","navigate","preventDefault","form","validateAll","checkBtn","context","_errors","login","cb","err_msg","form_default","onSubmit","ref","c","htmlFor","input_default","name","onChange","validations","disabled","button_default","display","react_router_bootstrap","Nav","Link","language_component","onChangeLang","Component","login_component","useNavigate","login_component_Login","assign","vpassword","RegisterOk","Register","handleRegister","onChangeRole","successful","register","defaultChecked","ResetPassword","handleReset","BackendService","resetPassword","setTimeout","error","resMessage","toString","Fragment","reset_password_ResetPassword","Layout","_useState","useState","_useState2","slicedToArray","expanded","setExpanded","Navbar","bg","expand","variant","fixed","Container","Brand","href","alt","src","logo","Toggle","aria-controls","Collapse","NavDropdown","Divider","logOut","dist_default","smooth","ClassroomCard","visible","setVisible","enabled","isHeader","goToClassroom","students_count","backendService","updateClassroomVisibility","onClickActivateReminders","onClickDel","NewClassroom","handleCreate","onChangeTitle","onChangePhase","onChangeReminder","newClassroom","onNewClassroom","reminder_options","$settings","select_default","keys","onCancelNewClassroom","toLocalTimeString","date","toLocaleString","dateStyle","timeStyle","QuestionCard","pre_post","onDelete","textAlign","ConfirmDeleteClassroom","onConfirm","ConfirmDeleteQuestion","ConfirmActivateReminders","addMinutes","numOfMinutes","undefined","setTime","getTime","NewQuestion","onSelectQuestion","onSetPrePost","onSetDeadline","showPrePost","merit_time_options","merit_time_default","deadline_options","deadline_default","first_available_question_type","find","qt","prepost","question_options","showPre","showPost","question_type_id","parseInt","q","new_state","answer_options","newQuestion","language","ClassroomCode","toISOString","notifyNewQuestion","onNewQuestion","onSetMeritTime","defaultValue","onCancelNewQuestion","Loading","Message","data-class","text","data-bs-dismiss","aria-label","showMsg","setFunc","show","Classroom","setQuestions","_useState3","_useState4","setShow","_useState5","_useState6","setQuestion","_useState7","_useState8","setMessage","loadQuestions","getProfessorQuestions","useEffect","confirmDelQuestion","scrollTo","top","left","behavior","onActivateReminders","confirm_delete_classroom_component","onDelClassroom","confirm_delete_question_component","delQuestion","new_question_component","filter","used","available","push","questionTypes","question_card_component","Professor","setMsg","getClassrooms","document","documentElement","scrollTop","componentDidMount","delClassroom","updateClassroomReminderStatus","new_classroom_component","classroom_component","onDelQuestion","header","toggleHistory","onEdit","Question","level","student_question_card_component","reverse","stairs_img","width","onClose","Stats","pre","BarChart","height","margin","right","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","domain","Tooltip","Bar","Cell","fill","QuestionHistory","pre_answer","post_answer","stats_component","getClosedQuestions","prevProps","prevState","newAnswer","updateAnswer","refresh","answered_questions","closed_questions","forEach","aq","findIndex","cq","pending_questions","editable_questions","classroom_card_component_ClassroomCard","question_history_component","question_component","Student","onChangeClassroom","onSelectClassroom","onJoinClassroom","loadClassrooms","classroom_new_id","classroom_id","student_component_regeneratorRuntime","_callee","_context","OneSignal","getUserId","authService","subscribeToNotifications","_x","getStudentQuestions","subscribeToClassroom","finally","student_classroom_component","goBack","placeholder","maxLength","DelUser","handleDelete","onChangePass","pass","rej","delUser","del_user_component_regeneratorRuntime","_ref3","_ref4","unsubscribeFromNotifications","delFromNotificationServer","del_user_component","del_user_component_DelUser","PurgeUser","purgeUser","purge_user_component_regeneratorRuntime","console","log","purge_user_component","purge_user_component_PurgeUser","NotFound","ChangePassword","handleSubmit","onChangeNewPass","new_pass","changePassword","change_password_component","change_password_component_ChangePassword","App","setUser","_useReducer","useReducer","x","forceUpdate","getSettings","init","appId","allowLocalhostAsSecureOrigin","test","navigator","platform","maxTouchPoints","MSStream","showNativePrompt","isPushNotificationsEnabled","alert","logout","createBrowserHistory","basename","react_router_dom","element","layout_component","index","register_component_Register","acl_service","professor_component","student_component","notfound_component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","rel","src_App","URL","process","origin","addEventListener","fetch","Service-Worker","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.7fa49482.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/stairs.7b1ff811.jpg\";","const config = {\r\n    'API_URL': 'https://dev.silversky3d.com/api-levelup',\r\n    'BASE_PATH': '',\r\n    'VERSION': 'Version 20230720-13:10',\r\n};\r\n\r\nexport default config;","import axios from \"axios\";\r\nimport config from \"../config\";\r\n\r\nclass AuthService {\r\n\r\n  login(email, password) {\r\n    return axios.post(config.API_URL + \"/login\", {\r\n      email: email,\r\n      password: password\r\n    })\r\n    .then(res => {\r\n      let user_data = {\r\n        email: email,\r\n        role_id: res.data.role_id,\r\n        role: res.data.role_id === 1 ? 'ROLE_PROFESSOR' : 'ROLE_STUDENT',\r\n        user_id: res.data.user_id,\r\n        jwt: res.data.jwt,\r\n      }; \r\n      localStorage.setItem('user', JSON.stringify(user_data));\r\n      return user_data;\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem(\"user\");\r\n  }\r\n\r\n  register(email, password, role) {\r\n    return axios.post(config.API_URL + \"/user/create\", {\r\n      email: email,\r\n      password: password,\r\n      RoleId: role === 'ROLE_PROFESSOR' ? 1 : 2\r\n    });\r\n  }\r\n\r\n  getCurrentUser() {\r\n    var userJSON = localStorage.getItem('user');\r\n    userJSON = userJSON === \"undefined\" || !userJSON ? '{\"email\": null, \"role\": null}' : userJSON;\r\n    const user = JSON.parse(userJSON);\r\n    return user;\r\n  }\r\n}\r\n\r\nexport default new AuthService();","import React from 'react';\nimport { Navigate } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\n\nfunction ACL({ children, roles }) {  \n  const user = AuthService.getCurrentUser();\n  return (!user || !user.role) ? <Navigate to=\"/login\" replace /> : (user.role && roles.includes(user.role)) ? children : <Navigate to=\"/unauthorized\" replace />\n}\n\nexport default ACL","const msg = {\r\n  es: {\r\n    professor: \"profesor/a\",\r\n    student: \"estudiante\",\r\n    link_language: \"Idioma\",\r\n    link_login: \"Entrar\",\r\n    link_register: \"Registrarse\",\r\n    link_logout: \"Salir\",\r\n    password: \"Contraseña\",\r\n    enter_email: \"Introduzca su email\",\r\n    enter_password: \"Establezca una contraseña\",\r\n    enter_curr_password: \"Introduzca contraseña actual\",\r\n    enter_new_password: \"Introduzca nueva contraseña\",\r\n    invalid_email: \"El email introducido no es válido\",\r\n    invalid_password: \"La contraseña introducida no es válida\",\r\n    password_instructions: \"La contraseña debe tener entre 6 y 40 caracteres\",\r\n    field_required: \"Este campo es obligatorio\",\r\n    new_account_title: \"Nueva cuenta creada\",\r\n    new_account_text:\r\n      \"Por favor, revise su correo electrónico para confirmar la cuenta.\",\r\n    close: \"Cerrar\",\r\n    classrooms_title: \"Clases\",\r\n    stats_title: \"Tus estadísticas\",\r\n    add: \"Añadir\",\r\n    phase: \"Fase\",\r\n    questions: \"Preguntas\",\r\n    title: \"Título\",\r\n    new_classroom_title: \"Nueva clase\",\r\n    cancel: \"Cancelar\",\r\n    create: \"Crear\",\r\n    creation_failed: \"No se pudo crear el elemento\",\r\n    classroom_created: \"La clase se ha creado\",\r\n    confirm: \"Confirmación\",\r\n    confirm_delete: \"¿Seguro que quiere borrar?\",\r\n    confirm_delete_classroom:\r\n      \"Las preguntas de la clase siguiente también serán eliminadas: \",\r\n    confirm_delete_question:\r\n      \"La siguiente pregunta va a ser eliminada (incluyendo sus respuestas): \",\r\n    confirm_activation: \"¿Activar recordatorios?\",\r\n    confirm_activate_reminders:\r\n      \"¿Está seguro de que desea iniciar la campaña de recordatorios?. Durará una semana. Si la activa, los recordatorios se enviarán a los alumnos matriculados. Los estudiantes que se matriculen más tarde no recibirán los recordatorios.\",\r\n    reminders_activated: \"Recordatorios activados\",\r\n    reminders_not_activated: \"No se pudo activar los recordatorios\",\r\n    no_reminder_without_enrolments: \"No se activaron los recordatorios al no haber alumnos matriculados.\",\r\n    ok: \"Ok\",\r\n    question_deleted: \"Pregunta eliminada\",\r\n    new_question_title: \"Nueva pregunta\",\r\n    none: \"Ninguno\",\r\n    \"Once per day\": \"Una vez al día\",\r\n    \"Once per week\": \"Una vez a la semana\",\r\n    \"Once per month\": \"Una vez al mes\",\r\n    choose_question: \"Elige pregunta\",\r\n    question_type_1: \"Auto-control\",\r\n    question_type_2: \"Conocer tu valía\",\r\n    question_type_3: \"Fijar metas\",\r\n    question_created: \"La pregunta se ha añadido\",\r\n    new_classroom_id: \"ID de nueva clase\",\r\n    select_previous: \"Seleccionar clase ya suscrita\",\r\n    join: \"Unirse\",\r\n    submit: \"Enviar\",\r\n    edit: \"editar\",\r\n    pending: \"pendiente\",\r\n    answered: \"contestada\",\r\n    unanswered: \"no contestada\",\r\n    delete: \"Eliminar\",\r\n    delete_classroom: \"Eliminar clase\",\r\n    delete_user: \"Eliminar cuenta\",\r\n    del_user_instructions:\r\n      \"Toda tu información y tu cuenta serán eliminados. Por favor, introduce tu contraseña para confirmar la operación.\",\r\n    user_deleted: \"La cuenta ha sido eliminada. Abandonando sesión...\",\r\n    user_purged: \"La información ha sido eliminada.\",\r\n    purge_user_instructions:\r\n      \"Toda tu información será eliminada. Por favor, introduce tu contraseña para confirmar la operación.\",\r\n    aswer_recorded: \"Su respuesta ha quedado registrada.\",\r\n    user_registered: \"La cuenta ha sido creada. Puede iniciar sesión.\",\r\n    user_not_registered: \"La cuenta no ha podido ser creada.\",\r\n    change_password: \"Cambiar contraseña\",\r\n    password_changed: \"La contraseña se ha actualizado. La sesión debe reiniciarse.\",\r\n    error_400: \"Faltan parámetros: email, contraseña o contraseña anterior.\",\r\n    error_401: \"Cambio no autorizado: email o contraseña inválidos.\",\r\n    error_500: \"La contraseña no se ha actualizado debido a un error del servidor.\",\r\n    login_failed: \"No se ha podido iniciar sesión. Por favor, revise sus datos de acceso.\",\r\n    from: \"Desde:\",\r\n    to: \"Hasta:\",\r\n    unable_to_get_data: \"No se ha podido descargar la información.\",\r\n    reminder: \"Recordatorios\",\r\n    operation_failed: \"No se ha podido completar la operación. Inténtelo de nuevo más tarde.\",\r\n    classroom_deleted: \"La clase ha sido eliminada.\",\r\n    email_already_exists: \"Ya existe una cuenta con ese correo electrónico.\",\r\n    description: \"Descripción\",\r\n    deadline: \"Fecha límite\",\r\n    deadline_posterior: \"Debe indicarse una fecha posterior a hoy\",\r\n    session_expired: \"La sesión ha expirado. Debe volver a iniciarla.\",\r\n    classroom_not_found: \"No se ha encontrado ninguna clase con el código introducido.\",\r\n    no_enrolments: \"No se ha unido a ninguna clase.\",\r\n    already_enroled: \"Ya está registrado en esta clase.\",\r\n    no_questions: \"Todavía no has activado ninguna pregunta para esta clase.\",\r\n    answer_recorded: \"Respuesta registrada.\",\r\n    classroom_cannot_be_deleted: \"La clase no se ha podido eliminar. Puede que haya estudiantes ya registrado/as.\",\r\n    merit_time: \"Número de minutos para cambiar respuesta\",\r\n    user_data_deleted: \"Todas tus suscripciones y respuestas se han eliminado.\",\r\n    remove_user_data: \"Eliminar suscripciones y respuestas\",\r\n    created_on: \"Inicio\",\r\n    history: \"Histórico\",\r\n    response: \"Respuesta\",\r\n    no_response: \"Sin respuesta\",\r\n    editable_until: \"editable hasta\",\r\n    no_question_types: \"Todas las preguntas posibles ya se han añadido a esta clase.\",\r\n    new_question_notification: \"Se ha añadido una nueva pregunta a la clase siguiente:\",\r\n    classroom_active_tip: \"La clase está activada. Haga clic para inactivarla.\",\r\n    classroom_inactive_tip: \"La clase está inactiva. Haga clic para activarla.\",\r\n    reminders_enabled_tip: \"Los recordatorios están activados.\",\r\n    reminders_disabled_tip: \"Los recordatorios están desactivados. Haga clic para activarlos.\",\r\n    reminder_headings: \"Saludos desde la clase\",\r\n    reminder_subtitle: \"Acuérdate de trabajar hoy en el desarrollo de tus habilidades.\",\r\n    enable_push_alert: '¡Las notificaciones deben ser permitidas!',\r\n    minutes: \"minutos\",\r\n    reset_password_msg: \"Se ha enviado un enlace de restablecimiento de contraseña a su correo electrónico.\",\r\n    reset_password: \"Restablecer contraseña\",\r\n    no_notifications_warning: \"No recibirá notificaciones de los profesores\"\r\n\r\n  },\r\n  en: {\r\n    professor: \"professor\",\r\n    student: \"student\",\r\n    link_language: \"Language\",\r\n    link_login: \"Login\",\r\n    link_register: \"Sign Up\",\r\n    link_logout: \"Logout\",\r\n    password: \"Password\",\r\n    enter_email: \"Enter valid email\",\r\n    enter_password: \"Enter a password\",\r\n    enter_curr_password: \"Enter current password\",\r\n    enter_new_password: \"Enter new password\",\r\n    invalid_email: \"This is not a valid email\",\r\n    invalid_password: \"Invalid password\",\r\n    password_instructions: \"The password must be between 6 and 40 characters\",\r\n    field_required: \"This field is required\",\r\n    new_account_title: \"New account created\",\r\n    new_account_text: \"Please, check your email to confirm registration.\",\r\n    close: \"Close\",\r\n    classrooms_title: \"Classrooms\",\r\n    stats_title: \"Your stats\",\r\n    add: \"Add\",\r\n    phase: \"Phase\",\r\n    questions: \"Questions\",\r\n    title: \"Title\",\r\n    new_classroom_title: \"New classroom\",\r\n    cancel: \"Cancel\",\r\n    create: \"Create\",\r\n    creation_failed: \"Could not create new item\",\r\n    classroom_created: \"Classroom created\",\r\n    confirm: \"Confirmation required\",\r\n    confirm_delete: \"Are you sure you want to remove?\",\r\n    confirm_delete_classroom:\r\n      \"Questions on this following classroom will also be erased: \",\r\n    confirm_delete_question:\r\n      \"Following question will be removed (answers will be lost): \",\r\n    confirm_activation: \"Activate reminders?\",\r\n    confirm_activate_reminders:\r\n      \"Are you sure you want to start the reminders campaign? It will last for one week. If activated, reminders will be sent to enrolled students. Students enrolled later will not receive the reminders.\",\r\n    reminders_activated: \"Reminders activated\",\r\n    reminders_not_activated: \"Reminders could not be activated\",\r\n    no_reminder_without_enrolments: \"Reminders were not triggered as there were no students enrolled\",\r\n    ok: \"Ok\",\r\n    question_deleted: \"Question deleted\",\r\n    new_question_title: \"New question\",\r\n    none: \"None\",\r\n    \"Once per day\": \"Once per day\",\r\n    \"Once per week\": \"Once per week\",\r\n    \"Once per month\": \"Once per month\",\r\n    choose_question: \"Choose question\",\r\n    question_type_1: \"Self-regulation\",\r\n    question_type_2: \"Knowing your values\",\r\n    question_type_3: \"Setting goals\",\r\n    question_created: \"The question has been added\",\r\n    new_classroom_id: \"New classroom ID\",\r\n    select_previous: \"Select joined classroom\",\r\n    join: \"Join\",\r\n    submit: \"Submit\",\r\n    edit: \"edit\",\r\n    pending: \"pending\",\r\n    answered: \"answered\",\r\n    unanswered: \"unanswered\",\r\n    delete: \"Delete\",\r\n    delete_classroom: \"Delete classroom\",\r\n    delete_user: \"Remove account\",\r\n    del_user_instructions:\r\n      \"All your data and account will be erased. Please, enter your password to confirm operation.\",\r\n    user_deleted: \"The account has been removed. Closing session...\",\r\n    user_purged: \"Information has been purged\",\r\n    purge_user_instructions:\r\n      \"All your information will be purged. Please enter your password to confirm the operation\",\r\n    aswer_recorded: \"Your answer has been registered.\",\r\n    user_registered: \"New account created. You can open a session.\",\r\n    user_not_registered: \"Unable to create new account.\",\r\n    change_password: \"Change password\",\r\n    password_changed: \"Password updated. Session must be restarted.\",\r\n    error_400: \"Missing parameters: email, password or old password.\",\r\n    error_401: \"Unauthorized: Invalid email or password.\",\r\n    error_500: \"Internal Server Error: Unable to change password.\",\r\n    login_failed: \"Login failed. Please, verify your connection and access credentials.\",\r\n    from: \"From:\",\r\n    to: \"To:\",\r\n    unable_to_get_data: \"Unable to retrieve data from server.\",\r\n    reminder: \"Reminders\",\r\n    operation_failed: \"Unable to complete action. Please, try again later.\",\r\n    classroom_deleted: \"Classroom deleted.\",\r\n    email_already_exists: \"Email address already exists.\",\r\n    description: \"Description\",\r\n    deadline: \"Deadline\",\r\n    deadline_posterior: \"Deadline must be set in the future.\",\r\n    session_expired: \"The session has expired. You must log in again.\",\r\n    classroom_not_found: \"No classroom found with this code.\",\r\n    no_enrolments: \"You have not joined any classroom.\",\r\n    already_enroled: \"You have already joined this classroom.\",\r\n    no_questions: \"You haven't activated any questions yet for this class.\",\r\n    answer_recorded: \"Answer registered.\",\r\n    classroom_cannot_be_deleted: \"Classroom has not been deleted. There may be students already registered.\",\r\n    merit_time: \"Number of minutes to change answers\",\r\n    user_data_deleted: \"All your enrolments and answers have been removed.\",\r\n    remove_user_data: \"Erase enrolments and answers\",\r\n    created_on: \"Started on\",\r\n    history: \"History\",\r\n    response: \"Response\",\r\n    no_response: \"Unanswered\",\r\n    editable_until: \"editable until\",\r\n    no_question_types: \"All possible questions have already been added to this classroom.\",\r\n    new_question_notification: \"A new question has been added to this classroom:\",\r\n    classroom_active_tip: \"Classroom is activated. Click to make inactive.\",\r\n    classroom_inactive_tip: \"Classroom is inactive. Click to activate.\",\r\n    reminders_enabled_tip: \"Reminders are active.\",\r\n    reminders_disabled_tip: \"Reminders are disabled. Click to enable.\",\r\n    reminder_headings: \"Hello from classroom\",\r\n    reminder_subtitle: \"Remember to work on your skill building today.\",    \r\n    enable_push_alert: \"Push Notifications must be enabled!\",\r\n    minutes: \"minutes\",\r\n    reset_password_msg: \"Password reset link has been sent to your email.\",\r\n    reset_password: \"Reset password\",\r\n    no_notifications_warning: \"You will not receive any notifications from the Teachers\"\r\n  },\r\n  gr: {\r\n    professor: \"καθηγητής\",\r\n    student: \"μαθητής\",\r\n    link_language: \"Γλώσσα\",\r\n    link_login: \"Σύνδεση\",\r\n    link_register: \"Εγγραφή\",\r\n    link_logout: \"Αποσύνδεση\",\r\n    password: \"Κωδικός\",\r\n    enter_email: \"Εισαγάγετε έγκυρο email\",\r\n    enter_password: \"Ορισμός κωδικού πρόσβασης\",\r\n    enter_curr_password: \"Enter current password\",\r\n    enter_new_password: \"Πληκτρολογείστε τον υπάρχοντα κωδικό\",\r\n    invalid_email: \"This is not a valid email\",\r\n    invalid_password: \"Μη έγκυρο email\",\r\n    password_instructions: \"Ο κωδικός πρόσβασης πρέπει να είναι από 6 έως 40 χαρακτήρες\",\r\n    field_required: \"Αυτό το πεδίο είναι υποχρεωτικό\",\r\n    new_account_title: \"Δημιουργήθηκε νέος λογαριασμός\",\r\n    new_account_text: \"Ελέγξτε το email σας για να επιβεβαιώσετε την εγγραφή.\",\r\n    close: \"Κλείσιμο\",\r\n    classrooms_title: \"Αίθουσες διδασκαλίας\",\r\n    stats_title: \"Τα στατιστικά σας\",\r\n    add: \"Προσθήκη\",\r\n    phase: \"Φάση\",\r\n    questions: \"Ερωτήσεις\",\r\n    title: \"Τίτλος\",\r\n    new_classroom_title: \"Νέα αίθουσα διδασκαλίας\",\r\n    cancel: \"Ακύρωση\",\r\n    create: \"Δημιουργία\",\r\n    creation_failed: \"Δεν ήταν δυνατή η δημιουργία νέου στοιχείου\",\r\n    classroom_created: \"Δημιουργήθηκε η αίθουσα διδασκαλίας\",\r\n    confirm: \"Απαιτείται επιβεβαίωση\",\r\n    confirm_delete: \"Είστε βέβαιοι ότι θέλετε να καταργήσετε?\",\r\n    confirm_delete_classroom:\r\n      \"Οι ερωτήσεις σχετικά με αυτήν την τάξη που ακολουθεί θα διαγραφούν επίσης: \",\r\n    confirm_delete_question:\r\n      \"Η ακόλουθη ερώτηση θα αφαιρεθεί (οι απαντήσεις θα χαθούν): \",\r\n    confirm_activation: \"Ενεργοποίηση υπενθυμίσεων?\",\r\n    confirm_activate_reminders:\r\n        \"Είστε σίγουροι ότι θέλετε να ξεκινήσετε την καμπάνια υπενθυμίσεων? Θα διαρκέσει μία εβδομάδα. Εάν ενεργοποιηθεί, θα σταλούν υπενθυμίσεις στους εγγεγραμμένους φοιτητές. Οι φοιτητές που εγγράφονται αργότερα δεν θα λάβουν τις υπενθυμίσεις.\",\r\n    reminders_activated: \"Herinneringen geactiveerd\",\r\n    reminders_not_activated: \"Herinneringen konden niet worden geactiveerd\",\r\n    reminder_headings: \"Γεια σας από την αίθουσα διδασκαλίας\",\r\n    reminder_subtitle: \"Θυμηθείτε να δουλέψετε στην ανάπτυξη των δεξιοτήτων σας σήμερα.\",\r\n    ok: \"Ok\",\r\n    question_deleted: \"Η ερώτηση διαγράφηκε\",\r\n    new_question_title: \"Νέα ερώτηση\",\r\n    none: \"None\",\r\n    \"Once per day\": \"Μία φορά την ημέρα\",\r\n    \"Once per week\": \"Μία φορά την εβδομάδα\",\r\n    \"Once per month\": \"Μία φορά τον μήνα\",\r\n    choose_question: \"Διάλεξε ερώτηση\",\r\n    question_type_1: \"Self-regulation\",\r\n    question_type_2: \"Knowing your values\",\r\n    question_type_3: \"Setting goals\",\r\n    question_created: \"The question has been added\",\r\n    new_classroom_id: \"Νέα ταυτότητα τάξης\",\r\n    select_previous: \"Επιλέξτε προηγούμενο\",\r\n    join: \"συμμετοχή\",\r\n    submit: \"υποβολή\",\r\n    edit: \"επεξεργασια\",\r\n    pending: \"εκκρεμής\",\r\n    answered: \"απαντήθηκε\",\r\n    unanswered: \"δεν απαντήθηκε\",\r\n    delete: \"Διαγραφή\",\r\n    delete_classroom: \"Διαγραφή αίθουσων διδασκαλίας\",\r\n    delete_user: \"Διαγραφή λογαριασμού\",\r\n    del_user_instructions:\r\n      \"Όλα τα δεδομένα και ο λογαριασμός σας θα διαγραφούν. Εισαγάγετε τον κωδικό πρόσβασής σας για να επιβεβαιώσετε τη λειτουργία.\",\r\n    user_deleted: \"Ο λογαριασμός έχει αφαιρεθεί. Κλείσιμο συνεδρίας...\",\r\n    user_purged: \"Οι πληροφορίες έχουν διαγραφεί\",\r\n    purge_user_instructions:\r\n      \"Όλες οι πληροφορίες σας θα διαγραφούν. Παρακαλώ εισάγετε τον κωδικό πρόσβασής σας για να επιβεβαιώσετε τη λειτουργία\",\r\n    aswer_recorded: \"Η απάντησή σας έχει καταχωρηθεί.\",\r\n    user_registered: \"Δημιουργήθηκε νέος λογαριασμός. Μπορείτε να ανοίξετε μια συνεδρία.\",\r\n    user_not_registered: \"Δεν είναι δυνατή η δημιουργία νέου λογαριασμού.\",\r\n    change_password: \"Αλλαξε κωδικό\",\r\n    password_changed: \"Ο κωδικός ενημερώθηκε. Η συνεδρία πρέπει να επανεκκινηθεί.\",\r\n    error_400: \"Λείπουν παράμετροι: email, κωδικός πρόσβασης ή παλιός κωδικός πρόσβασης.\",\r\n    error_401: \"Μη εξουσιοδοτημένο: Μη έγκυρο email ή κωδικός πρόσβασης.\",\r\n    error_500: \"Εσωτερικό σφάλμα διακομιστή: Δεν είναι δυνατή η αλλαγή κωδικού πρόσβασης.\",\r\n    login_failed: \"Η σύνδεση απέτυχε. Παρακαλούμε, επαληθεύστε τη σύνδεσή σας και αποκτήστε πρόσβαση στα διαπιστευτήρια.\",\r\n    from: \"From:\",\r\n    to: \"To:\",\r\n    // TRANSLATED WITH DEEPL:\r\n    unable_to_get_data: \"Αδυναμία λήψης πληροφοριών\",\r\n    reminder: \"Υπενθυμίσεις\",\r\n    operation_failed: \"Η λειτουργία δεν μπόρεσε να ολοκληρωθεί. Προσπαθήστε ξανά αργότερα.\",\r\n    classroom_deleted: \"αίθουσα διδασκαλίας διαγράφηκε.\",\r\n    email_already_exists: \"Η διεύθυνση ηλεκτρονικού ταχυδρομείου υπάρχει ήδη\",\r\n    description: \"περιγραφή\",\r\n    deadline: \"προθεσμία\",\r\n    deadline_posterior: \"Πρέπει να αναφέρεται ημερομηνία μετά τη σημερινή\",\r\n    session_expired: \"Η συνεδρία σας έχει λήξει. Πρέπει να συνδεθείτε ξανά.\",\r\n    classroom_not_found: \"Δεν βρέθηκε αίθουσα διδασκαλίας με αυτόν τον κωδικό.\",\r\n    no_enrolments: \"Δεν έχετε ενταχθεί σε καμία τάξη.\",\r\n    already_enroled: \"Έχετε ήδη ενταχθεί σε αυτή την τάξη.\",\r\n    no_questions: \"Δεν έχετε ενεργοποιήσει ακόμα καμία ερώτηση για αυτή την κατηγορία.\",\r\n    answer_recorded: \"Εγγεγραμμένη απάντηση.\",\r\n    classroom_cannot_be_deleted: \"Η κλάση δεν μπόρεσε να διαγραφεί. Μπορεί να υπάρχουν ήδη εγγεγραμμένοι μαθητές.\",\r\n    merit_time: \"Αριθμός λεπτών για την αλλαγή των απαντήσεων\",\r\n    user_data_deleted: \"Όλες οι εγγραφές και οι απαντήσεις σας έχουν αφαιρεθεί.\",\r\n    remove_user_data: \"Κατάργηση συνδρομών και απαντήσεων\",\r\n    created_on: \"έναρξη\",\r\n    history: \"Ιστορία\",\r\n    response: \"Απάντηση\",\r\n    no_response: \"Καμία απάντηση\",\r\n    editable_until: \"επεξεργάσιμη έως\",\r\n    no_question_types: \"Όλες οι πιθανές ερωτήσεις έχουν ήδη προστεθεί σε αυτή την τάξη.\",\r\n    new_question_notification: \"Μια νέα ερώτηση έχει προστεθεί στην επόμενη τάξη:\",\r\n    classroom_active_tip: \"Η τάξη είναι ενεργοποιημένη. Κάντε κλικ για να την κάνετε ανενεργή.\",\r\n    classroom_inactive_tip: \"Η τάξη είναι ανενεργή. Κάντε κλικ για να την ενεργοποιήσετε.\",\r\n    reminders_enabled_tip: \"οι υπενθυμίσεις είναι ενεργές.\",\r\n    reminders_disabled_tip: \"Οι υπενθυμίσεις είναι απενεργοποιημένες. Κάντε κλικ για να τις ενεργοποιήσετε.\",\r\n    no_reminder_without_enrolments: \"Οι υπενθυμίσεις δεν ενεργοποιήθηκαν καθώς δεν υπήρχαν εγγεγραμμένοι μαθητές\",\r\n    enable_push_alert: \"Οι ειδοποιήσεις Push πρέπει να είναι ενεργοποιημένες!\",\r\n    minutes: \"λεπτά\",\r\n    reset_password_msg: \"Ο σύνδεσμος επαναφοράς κωδικού πρόσβασης έχει σταλεί στο email σας.\",\r\n    reset_password: \"επαναφορά κωδικού πρόσβασης\",\r\n    no_notifications_warning: \"Δεν θα λαμβάνετε ειδοποιήσεις από τους δασκάλους\"\r\n  },\r\n  de: {\r\n    professor: \"professor\",\r\n    student: \"student\",\r\n    link_language: \"Taal\",\r\n    link_login: \"Login\",\r\n    link_register: \"Aanmelden\",\r\n    link_logout: \"Uitloggen\",\r\n    password: \"Wachtwoord\",\r\n    enter_email: \"Voer een geldig e-mailadres in\",\r\n    enter_password: \"Voer een wachtwoord in\",\r\n    enter_curr_password: \"Huidig wachtwoord invoeren\",\r\n    enter_new_password: \"Nieuw wachtwoord invoeren\",\r\n    invalid_email: \"Dit is geen geldig e-mailadres\",\r\n    invalid_password: \"Ongeldig wachtwoord\",\r\n    password_instructions: \"Het wachtwoord moet tussen de 6 en 40 karakters zijn\",\r\n    field_required: \"Dit veld is verplicht\",\r\n    new_account_title: \"Nieuw account aangemaakt\",\r\n    new_account_text: \"Controleer alstublieft uw e-mail om de registratie te bevestigen.\",\r\n    close: \"Sluiten\",\r\n    classroom_title: \"Klaslokalen\",\r\n    stats_title: \"Uw statistieken\",\r\n    add: \"Toevoegen\",\r\n    phase: \"Fase\",\r\n    questions: \"Vragen\",\r\n    title: \"Titel\",\r\n    new_classroom_title: \"Nieuw klaslokaal\",\r\n    cancel: \"Annuleren\",\r\n    create: \"Create\",\r\n    creation_failed: \"Kon geen nieuw item aanmaken\",\r\n    classroom_created: \"Klaslokaal aangemaakt\",\r\n    confirm: \"Bevestiging vereist\",\r\n    confirm_delete: \"Weet u zeker dat u wilt verwijderen?\",\r\n    confirm_delete_classroom:\r\n      \"Vragen over dit volgende klaslokaal zullen ook worden gewist: \",\r\n    confirm_delete_question:\r\n      \"Volgende vraag zal worden verwijderd (antwoorden gaan verloren): \",\r\n    confirm_activation: \"Herinneringen activeren?\",\r\n    confirm_activate_reminders:\r\n      \"Weet je zeker dat je de herinneringscampagne wilt starten? Deze zal een week duren. Indien geactiveerd, worden er herinneringen gestuurd naar ingeschreven studenten. Studenten die zich later inschrijven zullen de herinneringen niet ontvangen.\",\r\n    reminders_activated: \"Herinneringen geactiveerd\",\r\n    reminders_not_activated: \"Herinneringen konden niet worden geactiveerd\",\r\n    reminder_headings: \"Hallo uit de klas\",\r\n    reminder_subtitle: \"Vergeet niet om vandaag aan je vaardigheden te werken.\",\r\n    no_reminder_without_enrolments: \"Herinneringen werden niet getriggerd omdat er geen studenten ingeschreven waren\",\r\n    ok: \"Ok\",\r\n    question_deleted: \"Vraag verwijderd\",\r\n    new_question_title: \"Nieuwe vraag\",\r\n    none: \"Geen\",\r\n    once_per_day: \"Eenmaal per dag\",\r\n    once_per_week: \"Eenmaal per week\",\r\n    once_per_month: \"Eenmaal per maand\",\r\n    choose_question: \"Kies vraag\",\r\n    question_type_1: \"Zelfregulatie\",\r\n    question_type_2: \"Je waarden kennen\",\r\n    question_type_3: \"Doelen stellen\",\r\n    question_created: \"De vraag is toegevoegd\",\r\n    new_classroom_id: \"ID van het nieuwe klaslokaal\",\r\n    select_previous: \"Selecteer lid geworden klaslokaal\",\r\n    join: \"Join\",\r\n    submit: \"Submit\",\r\n    edit: \"bewerken\",\r\n    pending: \"in afwachting van\",\r\n    answered: \"answered\",\r\n    unanswered: \"unanswered\",\r\n    delete: \"Delete\",\r\n    delete_classroom: \"Verwijder klaslokaal\",\r\n    delete_user: \"Verwijder account\",\r\n    del_user_instructions:\r\n      \"Al uw gegevens en account zullen worden gewist. Voer uw wachtwoord in om de bewerking te bevestigen.\",\r\n    user_deleted: \"Het account is verwijderd. Sessie sluiten...\",\r\n    user_purged: \"Informatie is gezuiverd\",\r\n    purge_user_instructions:\r\n      \"Al uw informatie zal worden gezuiverd. Voer uw wachtwoord in om de bewerking te bevestigen\",\r\n    aswer_recorded: \"Uw antwoord is geregistreerd.\",\r\n    user_registered: \"Nieuw account aangemaakt. U kunt een sessie openen.\", \r\n    user_not_registered: \"Niet in staat om nieuwe account aan te maken.\",\r\n    change_password: \"Wijzig wachtwoord\",\r\n    password_changed: \"Wachtwoord bijgewerkt. Sessie moet opnieuw worden opgestart.\",\r\n    error_400: \"Ontbrekende parameters: e-mail, wachtwoord of oude wachtwoord.\",\r\n    error_401: \"Niet geautoriseerd: Ongeldige e-mail of wachtwoord.\", \r\n    error_500: \"nterne serverfout: Wachtwoord kan niet worden gewijzigd.\",\r\n    login_failed: \"Inloggen mislukt. Gelieve uw verbinding en toegangsgegevens te verifiëren.\",\r\n    from: \"Van:\",\r\n    to: \"Aan:\",\r\n    unable_to_get_data: \"Kan gegevens niet ophalen van server.\",\r\n    reminder: \"Herinneringen\",\r\n    operation_failed: \"Niet in staat om actie te voltooien. Probeer het later nog eens.\",\r\n    classroom_deleted: \"Klaslokaal verwijderd.\",\r\n    email_already_exists: \"Emailadres bestaat al.\",\r\n    description: \"Omschrijving\",\r\n    deadline: \"Deadline\",\r\n    deadline_posterior: \"Deadline moet in de toekomst worden gesteld\",\r\n    session_expired: \"De sessie is verlopen. U moet zich opnieuw aanmelden.\",\r\n    classroom_not_found: \"Geen klaslokaal gevonden met deze code.\",\r\n    no_enrolments: \"U bent niet lid geworden van een klaslokaal.\",\r\n    already_enroled: \"U bent al lid geworden van dit klaslokaal.\",\r\n    no_questions: \"Je hebt nog geen vragen geactiveerd voor deze klas.\",\r\n    answer_recorded: \"Antwoord geregistreerd.\",\r\n    classroom_cannot_be_deleted: \"Klaslokaal is niet verwijderd. Er zijn mogelijk al studenten ingeschreven.\",\r\n    medit_time: \"Aantal minuten om antwoorden te wijzigen\",\r\n    user_data_deleted: \"Al uw inschrijvingen en antwoorden zijn verwijderd.\",\r\n    remove_user_data: \"Inschrijvingen en antwoorden wissen\",\r\n    created_on: \"Gestart op\",\r\n    history: \"Geschiedenis\",\r\n    response: \"Reactie\",\r\n    no_response: \"Unanswered\",\r\n    editable_until: \"Bewerkbaar tot\",\r\n    no_question_types: \"Alle mogelijke vragen zijn al toegevoegd aan deze klas.\",\r\n    new_question_notification: \"Er is een nieuwe vraag toegevoegd aan dit klaslokaal:\",\r\n    classroom_active_tip: \"Klaslokaal is geactiveerd. Klik om inactief te maken.\",\r\n    classroom_inactive_tip: \"Klaslokaal is inactief. Klik om te activeren.\",\r\n    reminders_enabled_tip: \"Herinneringen zijn actief.\",\r\n    reminders_disabled_tip: \"Herinneringen zijn uitgeschakeld. Klik om in te schakelen.\",\r\n    enable_push_alert: \"Push-meldingen moeten ingeschakeld zijn!\",\r\n    minutes: \"minuten\",\r\n    reset_password_msg: \"Wachtwoord reset link is verzonden naar uw e-mail.\",\r\n    reset_password: \"Wachtwoord resetten\",\r\n    no_notifications_warning: \"U ontvangt geen meldingen van de Leraren\"\r\n  },\r\n};\r\n\r\nfunction _t(k) {\r\n  return msg[window.$lang || \"en\"][k];\r\n}\r\n\r\nexport default _t;\r\n","import axios from \"axios\";\r\nimport AuthService from \"./auth.service\";\r\nimport config from \"../config\";\r\n// import { professor_data, student_data, classroom_data } from \"./fake-content\";\r\nimport _t from \"./i18n.service\";\r\n// import { toServerTime } from \"./time.service\";\r\n// import OneSignal from 'react-onesignal';\r\n\r\nclass BackendService {\r\n  bearerConfig() {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const config = {\r\n      headers: { Authorization: `Bearer ${user.jwt}` },\r\n    };\r\n    return config;\r\n  }\r\n\r\n  updateJWT(res) {\r\n    if (res && res.data && res.data.jwt) {\r\n      const user = {\r\n        ...JSON.parse(localStorage.getItem(\"user\")),\r\n        jwt: res.data.jwt,\r\n      };\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n    }\r\n  }\r\n\r\n  changePassword(email, password, new_password) {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post(\r\n          config.API_URL + \"/change-password\",\r\n          {\r\n            email: email,\r\n            password: password,\r\n            newPassword: new_password,\r\n          },\r\n          this.bearerConfig()\r\n        )\r\n        .then((res) => {\r\n          this.updateJWT(res);\r\n          resolve({ message: _t(\"password_changed\") });\r\n        })\r\n        .catch((err) => {\r\n          reject({ message: _t(\"error_\" + err.response.status) });\r\n        });\r\n    });\r\n  }\r\n\r\n  async getSettings() {\r\n    //console.log(\"Getting settings\");\r\n\r\n    const settings = await axios\r\n      .get(config.API_URL + \"/question-settings\")\r\n      .then(res => res.data.settings[0])\r\n      .catch(err => { throw err });\r\n\r\n    const options = await axios\r\n      .get(config.API_URL + \"/question-options\")\r\n      .then(res => res.data.options)\r\n      .catch(err => { throw err });\r\n\r\n    return { ...settings, question_types: options };\r\n  }\r\n\r\n  getClassrooms() {\r\n    return axios\r\n      .get(config.API_URL + \"/classrooms/user\", this.bearerConfig())\r\n      .then((res) => {\r\n        let classrooms = res.data.classrooms;\r\n        if (classrooms.length > 0) {\r\n          classrooms = classrooms.sort((a, b) => b.id - a.id); // sort: newests first\r\n        }\r\n        return classrooms;\r\n      })\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  resetPassword(email) {\r\n    return axios\r\n      .post(config.API_URL + \"/forgot-password\", { email: email })\r\n      .then(res => res)\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  // --------------------------------------------------------------------------\r\n  // PROFESSOR API CALLS\r\n  // --------------------------------------------------------------------------\r\n\r\n  async getProfessorQuestions(code) {\r\n    return axios\r\n      .get(\r\n        config.API_URL + \"/questions/\" + code,\r\n        this.bearerConfig()\r\n      )\r\n      .then(async (res) => {\r\n        let questions = res.data.questions;\r\n        if (questions.length > 0) {\r\n          questions = questions.sort((a, b) => b.Question_id - a.Question_id);\r\n          for (let i = 0; i < questions.length; i++) {\r\n            const answers_count = await axios\r\n              .get(config.API_URL + `/answers/count/${questions[i].Question_id}`)\r\n              .then(res => res.data.total_answers[0].count);\r\n            questions[i].answers_count = answers_count;\r\n          }\r\n        }\r\n        return questions;\r\n      })\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  newClassroom(classroom_info) {\r\n    return axios\r\n      .post(\r\n        config.API_URL + \"/classroom/create\",\r\n        {\r\n          \"title\": classroom_info.title,\r\n          \"phase\": classroom_info.phase,\r\n          \"reminder\": classroom_info.phase,\r\n          \"state\": \"disabled\"\r\n        },\r\n        this.bearerConfig()\r\n      )\r\n      .then(res => res.data)\r\n      .catch(err => { throw err });\r\n  }\r\n\r\n  delClassroom(code) {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .delete(\r\n          config.API_URL + \"/classroom/delete/\" + code,\r\n          this.bearerConfig()\r\n        )\r\n        .then((res) => {\r\n          this.updateJWT(res);\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  newQuestion(question_data) {\r\n    return axios\r\n      .post(\r\n        config.API_URL + \"/question/create\",\r\n        question_data,\r\n        this.bearerConfig()\r\n      )\r\n      .then((res) => res.data)\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  notifyNewQuestion(classroom) {\r\n    return axios\r\n    .post(\r\n      config.API_URL + \"/web-push\",\r\n      {\r\n        classroomCode: classroom.code.toUpperCase(),\r\n        headings: _t('new_question_title'),\r\n        subtitle: _t('new_question_notification') + ` ${classroom.title} (${classroom.code.toUpperCase()})`,\r\n        click_url: 'https://' + window.location.host + (window.location.path ? window.location.path : '')\r\n      },\r\n      this.bearerConfig()\r\n    )\r\n    .then(() => classroom)\r\n    .catch(err => err);\r\n  }\r\n\r\n  delQuestion(id) {\r\n    return axios\r\n      .delete(\r\n        config.API_URL + `/question/delete/ ${id}`,\r\n        this.bearerConfig()\r\n      )\r\n      .then((res) => {\r\n        this.updateJWT(res);\r\n        return res;\r\n      })\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  updateClassroomVisibility(code, state) {\r\n    const user = AuthService.getCurrentUser();\r\n    return axios\r\n      .put(config.API_URL + `/classroom/change-state/${user.email}/${code}/${state}`, {}, this.bearerConfig());\r\n  }\r\n\r\n  updateClassroomReminderStatus(classroom, reminder_status) {\r\n    // classroomCode, headings, subtitle, campaign, topic, click_url \r\n    const user = AuthService.getCurrentUser();\r\n    return axios\r\n      .put(config.API_URL + `/classroom/change-reminder-status/${user.email}/${classroom.code}/${reminder_status}`, {}, this.bearerConfig())\r\n      .then((res) => axios.post(\r\n        config.API_URL + \"/web_push_reminder\",\r\n        {\r\n          classroomCode: classroom.code.toUpperCase(),\r\n          headings: _t('reminder_headings') + ` ${classroom.title} (${classroom.code.toUpperCase()})`,\r\n          subtitle: _t('reminder_subtitle'),\r\n          click_url: 'https://' + window.location.host + (window.location.path ? window.location.path : '')\r\n        },\r\n        this.bearerConfig()\r\n      ))\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  // --------------------------------------------------------------------------\r\n  // STUDENT API CALLS\r\n  // --------------------------------------------------------------------------\r\n \r\n  getStudentQuestions(code) {\r\n    const user = AuthService.getCurrentUser();\r\n    return axios\r\n      .get(config.API_URL + \"/questions/\" + code, this.bearerConfig())\r\n      .then(async res => {\r\n        let questions = res.data.questions;\r\n        if (questions.length > 0) {\r\n          questions = questions.sort((a, b) => b.Question_id - a.Question_id);\r\n        }\r\n        for (let i = 0; i < questions.length; i++) {\r\n          let question = questions[i];\r\n          let answer = await axios.get(config.API_URL + \"/answer/\" + user.email + \"/\" + question.Question_id, this.bearerConfig());\r\n          if (answer.data.response) {\r\n            question.response = answer.data.response;\r\n          }\r\n            \r\n          if (answer.data.results) {\r\n            const last_response = answer.data.results.pop();\r\n            question.response = last_response.selected_option;\r\n            question.merit_time = new Date (last_response.merit_time);\r\n          }\r\n          const deadline = new Date(question.deadline);\r\n          const answered = question.response !== -1;\r\n          const deadline_passed = new Date() > deadline;\r\n\r\n          if (answered) {\r\n            const merit_time_passed = new Date() > question.merit_time;\r\n            question.state = deadline_passed ? \"answered\" : merit_time_passed ? \"answered\" : \"editable\";\r\n          } else {\r\n            question.state = deadline_passed ? \"unanswered\" : \"pending\";\r\n          }\r\n\r\n          questions[i] = question;\r\n        }\r\n        return questions;\r\n      });\r\n  }\r\n\r\n  subscribeToClassroom(code, email) {\r\n    return axios\r\n      .post(\r\n        config.API_URL + \"/enrolment/create\",\r\n        {\r\n          classroomCode: code.toUpperCase(),\r\n          userEmail: email\r\n        },\r\n        this.bearerConfig()\r\n      )\r\n      .then((res) => res.data.enrolment)\r\n      .catch((err) => {\r\n        if (err.response && err.response.data) {\r\n          throw new Error(err.response.data.message);\r\n        } else {\r\n          //console.log(\"ERROR\", err);\r\n          throw new Error();\r\n        }\r\n      });\r\n  }\r\n\r\n  async subscribeToNotifications(classroom_code, user_id) {\r\n    if (!user_id) {\r\n      throw new Error(_t(\"no_notifications_warning\"));\r\n    }\r\n    return axios\r\n      .put(\r\n        config.API_URL + \"/device\",\r\n        {\r\n          classroomCode: classroom_code,\r\n          player_id: user_id\r\n        },\r\n        this.bearerConfig()\r\n      )\r\n      .then((res) => res)\r\n      .catch((err) => {\r\n        //console.log(err); \r\n        throw new Error(err.response.data.message)\r\n      });\r\n  }\r\n\r\n  unsubscribeFromNotifications(classroom_code, user_id) {\r\n    /*return new Promise((res, rej) => {\r\n      console.log(classroom_code, user_id);\r\n      res();\r\n    });*/\r\n\r\n    return axios\r\n      .put(\r\n        config.API_URL + \"/device/classroom-unsubscribe\",\r\n        {\r\n          classroomCode: classroom_code,\r\n          player_id: user_id\r\n        },\r\n        this.bearerConfig()\r\n      )      \r\n      .then((res) => res)\r\n      .catch((err) => ({ status: err.response.status }));\r\n  }\r\n\r\n  delFromNotificationServer(user_id) {\r\n    return axios\r\n      .delete(\r\n        config.API_URL + \"/device/delete\",\r\n        { \r\n          data: {\r\n            player_id: user_id\r\n          },\r\n          ...this.bearerConfig()\r\n        },\r\n        \r\n      )\r\n      .then((res) => res);\r\n  }\r\n\r\n  newAnswer(option, question_id) {\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    return axios\r\n      .post(\r\n        config.API_URL + \"/answer/submit\",\r\n        {\r\n          UserId: user.user_id,\r\n          QuestionId: question_id,\r\n          selected_option: option,\r\n        },\r\n        this.bearerConfig()\r\n      )\r\n      .then(() => { })\r\n      .catch(err => { throw err });\r\n  }\r\n\r\n  updateAnswer(option, question_id) {\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    return axios\r\n      .put(\r\n        config.API_URL + `/answer/change/${user.email}/${question_id}/${option}`, \r\n        {}, this.bearerConfig()\r\n      );\r\n  }\r\n\r\n  purgeUser(email, password) {\r\n    return axios\r\n      .delete(config.API_URL + \"/purge-data\", {\r\n        data: {\r\n          email: email,\r\n          password: password,\r\n        },\r\n        ...this.bearerConfig(),\r\n      })\r\n      .catch(err => {\r\n        if (err.response && err.response.data) {\r\n          if (err.response.data.message === 'Invalid email/password') {\r\n            throw new Error(_t('error_401'));\r\n          }\r\n        }\r\n        throw new Error(_t('operation_failed'));\r\n      });      \r\n  }\r\n\r\n  delUser(email, password) {\r\n    return axios\r\n      .delete(config.API_URL + \"/user/delete\", {\r\n        data: {\r\n          email: email,\r\n          password: password,\r\n        },\r\n        ...this.bearerConfig(),\r\n      })\r\n      .then(() => ({ message: _t(\"user_deleted\") }))\r\n      .catch((err) => {\r\n        if (err.response && err.response.data) {\r\n          if (err.response.data.message === 'Invalid email/password') {\r\n            throw new Error(_t('error_401'));\r\n          }\r\n        }\r\n        throw new Error(_t('operation_failed'));\r\n      });   \r\n  }\r\n}\r\n\r\nexport default new BackendService();\r\n","import React from \"react\";\n\nexport default function Unauthorized () {\n    return (<div className=\"alert-danger text-center\">Access denied</div>);\n}","import React from 'react';\r\n\r\nfunction Language(props) {\r\n\r\n    let languages = [\r\n        { lang: 'English', code: 'en' },\r\n        { lang: 'Español', code: 'es' },\r\n        { lang: 'Ελληνικά', code: 'gr' },\r\n        { lang: 'Dutch', code: 'de' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"btn-group text-center col-12 mt-3\" role=\"group\">\r\n            {languages.map((l) => (\r\n                <button style={{ fontWeight: l.code === window.$lang ? 'bold' : 'lighter', textDecoration: 'none' }}\r\n                    className=\"col-4 btn btn-link\"\r\n                    type=\"button\"\r\n                    key={l.code}\r\n                    onClick={() => props.onClick(l.code)}\r\n                >\r\n                    {l.lang}\r\n                </button>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Language;","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\n//import AuthService from \"../services/fake_auth.service\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport { isEmail } from \"validator\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport _t from \"../services/i18n.service\";\r\nimport Language from \"./language.component\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport config from \"../config\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = (value) => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"invalid_email\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleLogin(e) {\r\n    const { navigate } = this.props;\r\n\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      loading: true,\r\n    });\r\n\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      AuthService.login(this.state.email, this.state.password).then(\r\n        (user) => {\r\n          this.props.cb();\r\n          if (user.role === \"ROLE_PROFESSOR\") {\r\n            navigate(config.BASE_PATH+\"/prof\", { replace: true });\r\n          } else {\r\n            navigate(config.BASE_PATH+\"/stu\", { replace: true });\r\n          }\r\n        },\r\n        (err) => {\r\n          const err_msg = err.response.data.message;\r\n          if (err_msg === 'Invalid email/password') {\r\n            this.setState({\r\n              loading: false,\r\n              message: _t('login_failed'),\r\n            });\r\n          } else {\r\n            this.setState({\r\n              loading: false,\r\n              message: err_msg,\r\n            });\r\n\r\n          }\r\n        });\r\n    } else {\r\n      this.setState({\r\n        loading: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"center-form\">\r\n        <div>\r\n          <Form\r\n            onSubmit={this.handleLogin}\r\n            ref={(c) => {\r\n              this.form = c;\r\n            }}\r\n          >\r\n            <div className=\"form-group\">\r\n              <div className=\"form-group mt-2\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"email\"\r\n                  value={this.state.email}\r\n                  onChange={this.onChangeEmail}\r\n                  validations={[required, vemail]}\r\n                />\r\n              </div>\r\n              <div className=\"form-group mt-2\">\r\n                <label htmlFor=\"password\">{_t(\"password\")}</label>\r\n                <Input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  name=\"password\"\r\n                  value={this.state.password}\r\n                  onChange={this.onChangePassword}\r\n                  validations={[required]}\r\n                />\r\n              </div>\r\n              <div className=\"form-group mt-2 text-center\">\r\n                <button\r\n                  className=\"btn btn-success btn-block\"\r\n                  disabled={this.state.loading}\r\n                >\r\n                  {this.state.loading && (\r\n                    <span className=\"spinner-border spinner-border-sm\"></span>\r\n                  )}\r\n                  <span className=\"ms-1\">{_t(\"link_login\")}</span>\r\n                </button>\r\n              </div>\r\n              {this.state.message && (\r\n                <div className=\"form-group\">\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {this.state.message}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <CheckButton\r\n                style={{ display: \"none\" }}\r\n                ref={(c) => {\r\n                  this.checkBtn = c;\r\n                }}\r\n              />\r\n            </div>\r\n          </Form>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <LinkContainer to={config.BASE_PATH + \"/reset-password\"}>\r\n            <Nav.Link>\r\n              <i className=\"bi bi-key\"></i> {_t(\"reset_password\")}\r\n            </Nav.Link>\r\n          </LinkContainer>\r\n        </div>\r\n        <Language onClick={this.props.onChangeLang} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Wrap and export\r\nexport default function(props) {\r\n  const navigate = useNavigate();\r\n\r\n  return <Login {...props} navigate={navigate} />;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { isEmail } from \"validator\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport _t from \"../services/i18n.service\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Language from \"./language.component\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = (value) => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"invalid_email\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vpassword = (value) => {\r\n  if (value.length < 6 || value.length > 40) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"password_instructions\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nfunction RegisterOk() {\r\n  let navigate = useNavigate();\r\n\r\n  return (\r\n    <div>\r\n      <h1>{_t(\"new_account_title\")}</h1>\r\n      <p>{_t(\"user_registered\")}</p>\r\n      <button\r\n        className=\"btn btn-primary btn-block\"\r\n        onClick={() => navigate(\"/login\")}\r\n      >\r\n        {_t(\"close\")}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleRegister = this.handleRegister.bind(this);\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.onChangeRole = this.onChangeRole.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      successful: false,\r\n      message: \"\",\r\n      role: \"ROLE_STUDENT\",\r\n    };\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeRole(e) {\r\n    this.setState({\r\n      role: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleRegister(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      successful: false,\r\n    });\r\n\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      AuthService.register(\r\n        this.state.email,\r\n        this.state.password,\r\n        this.state.role\r\n      ).then(\r\n        (res) => {\r\n          this.setState({\r\n            message: _t('user_registered'),\r\n            successful: true,\r\n          });\r\n      })\r\n      .catch(\r\n        (err) => {\r\n          //console.log(err);\r\n          const err_msg = err.response.data.message;\r\n          if (err_msg === 'Email address already exists.') {\r\n              this.setState({\r\n                message: _t('email_already_exists'),\r\n                successful: false,\r\n              });\r\n          } else {\r\n            this.setState({\r\n              message: err_msg,\r\n              successful: false,\r\n            });\r\n          }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {!this.state.successful ? (\r\n          <div className=\"center-form\">\r\n            <div className=\"\">\r\n              <Form\r\n                onSubmit={this.handleRegister}\r\n                ref={(c) => {\r\n                  this.form = c;\r\n                }}\r\n              >\r\n                {!this.state.successful && (\r\n                  <div>\r\n                    <div className=\"form-group mt-2\">\r\n                      <label htmlFor=\"email\">{_t(\"enter_email\")}</label>\r\n                      <Input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"email\"\r\n                        value={this.state.email}\r\n                        onChange={this.onChangeEmail}\r\n                        validations={[required, vemail]}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group mt-2\">\r\n                      <label htmlFor=\"password\">{_t(\"enter_password\")}</label>\r\n                      <Input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        name=\"password\"\r\n                        value={this.state.password}\r\n                        onChange={this.onChangePassword}\r\n                        validations={[required, vpassword]}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group mt-2 row\">\r\n                      <label htmlFor=\"student\" className=\"col-6 text-center\">\r\n                        {_t(\"student\")}\r\n                      </label>\r\n                      <label htmlFor=\"professor\" className=\"col-6 text-center\">\r\n                        {_t(\"professor\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        id=\"student\"\r\n                        className=\"col-6\"\r\n                        name=\"role\"\r\n                        value=\"ROLE_STUDENT\"\r\n                        defaultChecked\r\n                        onChange={this.onChangeRole}\r\n                      />\r\n\r\n                      <input\r\n                        type=\"radio\"\r\n                        id=\"professor\"\r\n                        className=\"col-6\"\r\n                        name=\"role\"\r\n                        value=\"ROLE_PROFESSOR\"\r\n                        onChange={this.onChangeRole}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group mt-2 text-center\">\r\n                      <button className=\"btn btn-success btn-block\">\r\n                        {_t(\"link_register\")}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {this.state.message && (\r\n                  <div className=\"form-group\">\r\n                    <div\r\n                      className={\r\n                        this.state.successful\r\n                          ? \"alert alert-success\"\r\n                          : \"alert alert-danger\"\r\n                      }\r\n                      role=\"alert\"\r\n                    >\r\n                      {this.state.message}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <CheckButton\r\n                  style={{ display: \"none\" }}\r\n                  ref={(c) => {\r\n                    this.checkBtn = c;\r\n                  }}\r\n                />\r\n              </Form>\r\n            </div>\r\n            <Language onClick={this.props.onChangeLang} />\r\n          </div>\r\n        ) : (\r\n          <RegisterOk />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport BackendService from \"../services/backend.service\";\r\nimport { isEmail } from \"validator\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport _t from \"../services/i18n.service\";\r\nimport Language from \"./language.component\";\r\nimport config from \"../config\";\r\n\r\nconst required = value => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t('field_required')}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = value => {\r\n    if (!isEmail(value)) {\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {_t('invalid_email')}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\nclass ResetPassword extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.state = {\r\n      email: \"\",\r\n      loading: false,\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value\r\n    });\r\n  }\r\n\r\n\r\n  handleReset(e) {\r\n\r\n    const { navigate } = this.props;\r\n\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      loading: true\r\n    });\r\n   \r\n    this.form.validateAll();     \r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      BackendService.resetPassword(this.state.email).then(\r\n        res => {\r\n            this.setState({ message: _t('reset_password_msg')})\r\n            setTimeout( () => navigate(config.BASE_PATH+\"/login\", {replace: true}), 4000);\r\n        },\r\n        error => {\r\n          const resMessage =\r\n            (error.response &&\r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n          this.setState({\r\n            loading: false,\r\n            message: resMessage\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"center-form\">\r\n        <div>\r\n\r\n          <Form\r\n            onSubmit={this.handleReset}\r\n            ref={c => {\r\n              this.form = c;\r\n            }}>\r\n            \r\n            \r\n            <div className=\"form-group\">\r\n            \r\n            {!this.state.message && (\r\n            <>\r\n            <div className=\"form-group mt-2\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <Input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"email\"\r\n                value={this.state.email}\r\n                onChange={this.onChangeEmail}\r\n                validations={[required, vemail]}\r\n                />\r\n            </div>\r\n            <div className=\"form-group mt-2 text-center\">\r\n              <button\r\n                className=\"btn btn-success btn-block\"\r\n                disabled={this.state.loading}\r\n              >\r\n                {this.state.loading && (\r\n                  <span className=\"spinner-border spinner-border-sm\"></span>\r\n                )}\r\n                <span className=\"ms-1\">{_t('reset_password')}</span>\r\n              </button>\r\n            </div>\r\n            </>\r\n            )}\r\n\r\n            {this.state.message && (\r\n              <div className=\"form-group\">\r\n                <div className=\"alert alert-info\" role=\"alert\">\r\n                  {this.state.message}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <CheckButton\r\n              style={{ display: \"none\" }}\r\n              ref={c => {\r\n                this.checkBtn = c;\r\n              }}\r\n            />\r\n            </div>\r\n          </Form>          \r\n        </div>\r\n        <Language onClick={this.props.onChangeLang}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Wrap and export\r\nexport default function(props) {\r\n    const navigate = useNavigate();\r\n  \r\n    return <ResetPassword {...props} navigate={navigate} />;\r\n}","import React, { useState } from \"react\";\r\nimport { Outlet }from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { Container, Navbar, Nav, NavDropdown } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n//import config from \"../config\";\r\nimport _t from \"../services/i18n.service\";\r\nimport logo from \"../assets/LevelUP_128_white.png\";\r\nimport ScrollToTop from \"react-scroll-to-top\";\r\nimport config from \"../config\";\r\n\r\nfunction Layout(props) {\r\n\r\n  const user = props.user;\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  return (\r\n    <div>\r\n      <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\" fixed=\"top\" expanded={expanded}>\r\n        <Container id=\"container\">\r\n          <Navbar.Brand href={config.BASE_PATH + \"/\"}>\r\n            <img alt=\"\" src={logo} className=\"d-inline-block align-top\" />\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" onClick={() => setExpanded(!expanded)} />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"ms-5\" onClick={() => setExpanded(false)}>\r\n              \r\n              {(user.role === \"ROLE_PROFESSOR\" ||\r\n                user.role === \"ROLE_STUDENT\") && (\r\n                <LinkContainer to=\"/\">\r\n                  <Nav.Link>\r\n                    <i className=\"bi bi-easel\"></i> {_t(\"classrooms_title\")}\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n              )}\r\n\r\n              {user.role === \"ROLE_STUDENT\" && (\r\n                <>\r\n                  {/*\r\n                  <LinkContainer to=\"/stu-stats\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-clipboard-data\"></i>{\" \"}\r\n                      {_t(\"stats_title\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n                  */}\r\n                  \r\n                  <LinkContainer to=\"del-user\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-trash\"></i> {_t(\"delete_user\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n\r\n                  <LinkContainer to=\"purge-user\">\r\n                    <Nav.Link>\r\n                    <i className=\"bi bi-eraser\"></i> {_t(\"remove_user_data\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>                  \r\n                </>\r\n              )}\r\n            </Nav>\r\n            <Nav className=\"ms-auto\"  onClick={() => setExpanded(false)}></Nav>\r\n            <Nav className=\"ms-5\"  onClick={() => setExpanded(false)}>\r\n              <NavDropdown.Divider />\r\n              {user.email ? (\r\n                <>\r\n                  <LinkContainer to=\"lang\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-translate\"></i> {_t(\"link_language\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n\r\n                  <LinkContainer to=\"chgpass\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-key\"></i> {_t(\"change_password\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n\r\n                  <Nav.Link onClick={props.logOut}>\r\n                    <i className=\"bi bi-box-arrow-left\"></i> {_t(\"link_logout\")}\r\n                  </Nav.Link>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <LinkContainer to=\"login\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-box-arrow-in-right\"></i>{\" \"}\r\n                      {_t(\"link_login\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n\r\n                  <LinkContainer to=\"register\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-person-plus\"></i>{\" \"}\r\n                      {_t(\"link_register\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n                </>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n\r\n      <div className=\"container-fluid mx-1 mt-5\">\r\n        <ScrollToTop smooth />\r\n        <div className=\"mx-auto mt-5 row\">\r\n          <p> </p>\r\n        </div>\r\n        <Outlet />\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Layout;\r\n","import React, { useState } from \"react\";\r\nimport backendService from \"../../services/backend.service\";\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nexport default function ClassroomCard(props) {\r\n  let classroom = props.classroom;\r\n\r\n  const [visible, setVisible] = useState(classroom.state === \"active\");\r\n  const enabled = classroom.reminder_status === 1;\r\n\r\n  function toggleVisible() {\r\n    const state = props.classroom.state === \"active\" ? \"disabled\" : \"active\";\r\n    props.classroom.state = state;\r\n    backendService.updateClassroomVisibility(props.classroom.code, state)\r\n      .then(() => { setVisible(!visible) });\r\n  }\r\n/*\r\n  function toggleEnable() {\r\n    const reminder_status = props.classroom.reminder_status === 1 ? 0 : 1;\r\n    //console.log(reminder_status);\r\n    props.classroom.reminder_status = reminder_status;\r\n    backendService.updateClassroomReminderStatus(props.classroom.code, reminder_status)\r\n      .then(() => { setEnabled(!enabled) });\r\n  }\r\n*/\r\n  return (\r\n    <div className=\"card mt-4\" onClick={() => !props.isHeader && props.goToClassroom(classroom)}>\r\n      <div className={\"card-header \" + (visible ? \"bg-primary text-light\" : \"bg-light\")}>\r\n        <div className=\"row\">\r\n          <div className=\"col-4 d-flex justify-content-start\">\r\n            <b>{classroom.code.toUpperCase()}</b>\r\n          </div>\r\n          <div className=\"col-4 d-flex justify-content-center\">\r\n            {_t(\"phase\")} {classroom.phase}\r\n          </div>\r\n          <div className=\"col-4 d-flex justify-content-end\">\r\n            {classroom.students_count} <i className=\"bi bi-person-fill ms-1\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8\">\r\n            <h5 className=\"card-title d-flex justify-content-start\">\r\n              <span className=\"mx-2\">\r\n                <i className=\"bi bi-easel\"></i>\r\n              </span>{\" \"}\r\n              {classroom.title}\r\n            </h5>\r\n          </div>\r\n          {props.isHeader === true && (\r\n            <div className=\"col-4 d-flex justify-content-end\">\r\n              <button\r\n                className={visible ? \"bi bi-eye btn btn-primary\" : \"bi bi-eye-slash btn btn-light\"}\r\n                onClick={toggleVisible}\r\n                title={visible ? _t(\"classroom_active_tip\") : _t(\"classroom_inactive_tip\")}\r\n              ></button>\r\n              <span className=\"ms-2\"></span>\r\n              {props.classroom.phase === 2 && (<button\r\n                disabled={enabled}\r\n                className={enabled ? \"bi bi-bell btn btn-warning\" : \"bi bi-bell-slash btn btn-light\"}\r\n                onClick={props.onClickActivateReminders}\r\n                title={enabled ? _t(\"reminders_enabled_tip\") : _t(\"reminders_disabled_tip\")}\r\n              ></button>)}\r\n              <span className=\"ms-2\"></span>\r\n              <button\r\n                className=\"bi bi-trash btn btn-danger\"\r\n                onClick={props.onClickDel}\r\n              ></button>\r\n            </div>\r\n          )}\r\n          {props.isHeader === false && (\r\n            <div className=\"col-4 d-flex justify-content-end\">\r\n              <i className=\"bi bi-chevron-right\"></i>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport Select from \"react-validation/build/select\";\nimport CheckButton from \"react-validation/build/button\";\nimport BackendService from \"../../services/backend.service\";\nimport _t from \"../../services/i18n.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nclass NewClassroom extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCreate = this.handleCreate.bind(this);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangePhase = this.onChangePhase.bind(this);\n    this.onChangeReminder = this.onChangeReminder.bind(this);\n\n    this.state = {\n      title: \"\",\n      phase: 1,\n      reminder: 0,\n\n      successful: false,\n      message: \"\",\n    };\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value,\n    });\n  }\n\n  onChangePhase(e) {\n    this.setState({\n      phase: e.target.value,\n    });\n  }\n\n  onChangeReminder(e) {\n    this.setState({\n      reminder: e.target.value,\n    });\n  }\n\n  handleCreate(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      BackendService.newClassroom({\n        title: this.state.title,\n        phase: this.state.phase,\n        reminder: this.state.reminder\n    }).then(\n        (response) => {\n          this.setState({\n            message: _t(\"classroom_created\"),\n            successful: true,\n          });\n          setTimeout(() => this.props.onNewClassroom(response), 1000);\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          this.setState({\n            successful: false,\n            message: resMessage,\n          });\n        }\n      );\n    }\n  }\n\n  render() {\n    const reminder_options = window.$settings.reminder_options;\n\n    return (\n      <div>\n        <div className=\"center-form\">\n          <div className=\"\">\n            <h5>{_t(\"new_classroom_title\")}</h5>\n            <Form\n              onSubmit={(e) => {\n                e.preventDefault();\n              }}\n              ref={(c) => {\n                this.form = c;\n              }}\n            >\n              {!this.state.successful && (\n                <div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"title\">{_t(\"title\")}</label>\n                    <Input\n                      type=\"text\"\n                      className=\"form-control\"\n                      name=\"title\"\n                      value={this.state.title}\n                      onChange={this.onChangeTitle}\n                      validations={[required]}\n                    />\n                  </div>\n\n                  <div className=\"form-group mt-2 mb-3\">\n                    <div className=\"form-check\">\n                      <input\n                        type=\"radio\"\n                        id=\"phase 1\"\n                        name=\"phase\"\n                        value=\"1\"\n                        className=\"form-check-input\"\n                        onChange={this.onChangePhase}\n                        defaultChecked\n                      />\n                      <label htmlFor=\"phase 1\" className=\"form-check-label\">\n                        {_t(\"phase\")} 1\n                      </label>\n                    </div>\n                    <div className=\"form-check\">\n                      <input\n                        type=\"radio\"\n                        id=\"phase 2\"\n                        name=\"phase\"\n                        value=\"2\"\n                        className=\"form-check-input\"\n                        onChange={this.onChangePhase}\n                      />\n                      <label htmlFor=\"phase 2\" className=\"form-check-label\">\n                        {_t(\"phase\")} 2\n                      </label>\n                    </div>\n                  </div>\n\n                  {this.state.phase === '2' && (<div className=\"form-group mt-2\">\n                    <label className=\"form-label\">{_t(\"reminder\")}:</label>\n                    <div className=\"col-12 text-center\">\n                      <Select\n                        name=\"reminder\"\n                        value={this.state.reminder}\n                        className=\"form-select\"\n                        validations={[]}\n                        onChange={this.onChangeReminder}\n                      >\n                        {Object.keys(reminder_options).map((k, i) => (\n                          <option key={i} value={k} name=\"reminder\">\n                            {reminder_options[k]}\n                          </option>\n                        ))}\n                      </Select>\n                    </div>\n                  </div>)}\n\n                  <div className=\"form-group mt-2 row\">\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-secondary btn-block\"\n                        onClick={this.props.onCancelNewClassroom}\n                      >\n                        {_t(\"cancel\")}\n                      </button>\n                    </div>\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-success btn-block\"\n                        onClick={this.handleCreate}\n                      >\n                        {_t(\"create\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {this.state.message && (\n                <div className=\"form-group\">\n                  <div\n                    className={\n                      this.state.successful\n                        ? \"alert alert-success\"\n                        : \"alert alert-danger\"\n                    }\n                    role=\"alert\"\n                  >\n                    {this.state.message}\n                  </div>\n                </div>\n              )}\n              <CheckButton\n                style={{ display: \"none\" }}\n                ref={(c) => {\n                  this.checkBtn = c;\n                }}\n              />\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NewClassroom;\n","export function toLocalTime (timeStr) {\r\n    return new Date(timeStr + \":00.000Z\");\r\n}\r\n\r\nexport function toServerTime(dateStr) {\r\n    // convert date string to a time stamp at the end of the day according to the local time zone\r\n    return (new Date(dateStr+\"T23:59\")).toISOString().slice(0,16);\r\n};\r\n\r\nexport function toLocalTimeString (date) {\r\n    return date.toLocaleString({}, {dateStyle: \"short\", timeStyle: \"short\"});\r\n}","import React from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport { toLocalTimeString } from \"../../services/time.service\";\r\n\r\nfunction QuestionCard(props) {\r\n  let question = props.question;\r\n\r\n  const deadline_date = new Date(question.deadline);\r\n  const deadline = toLocalTimeString(deadline_date);\r\n  const created_on_date = new Date(question.created_on);\r\n  const created_on = toLocalTimeString(created_on_date);\r\n\r\n  return (\r\n    <div className=\"card row mt-4 mx-4\">\r\n      <div className=\"card-header\">\r\n        <div className=\"row\">\r\n          <div className=\"col-6\"><i className=\"bi bi-question-circle\"></i>{' '}{question.title}</div>\r\n          <div className=\"col-2 d-flex justify-content-center\">{question.pre_post}</div>\r\n          <div className=\"col-2 d-flex justify-content-end\">\r\n            {question.answers_count} <i className=\"bi bi-person-fill text-secondary ms-1\"></i>\r\n          </div>\r\n          <div className=\"col-2 d-flex justify-content-end\">\r\n            <button\r\n              className=\"bi bi-trash btn btn-danger btn-sm\"\r\n              onClick={() => props.onDelete(question)}\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <p>{question.description}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">\r\n            <p className=\"justify-content-start\">\r\n              ({_t(\"created_on\")})\r\n              <i className=\"bi bi-calendar-check me-1 ms-1\"></i> {created_on}\r\n            </p>\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <p style={{ textAlign: 'end' }}>\r\n              ({_t(\"deadline\")})\r\n              <i className=\"bi bi-calendar-x me-1 ms-1\"></i> {deadline}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuestionCard;\r\n","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\n\nfunction ConfirmDeleteClassroom (props) {\n\n    return (\n      <div>\n        <h1>{_t('confirm_delete')}</h1>\n        <p>{_t('confirm_delete_classroom')} {props.classroom.title}</p>\n        \n        <div className=\"form-group mt-2 row\">\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-secondary btn-block\" onClick={() => props.onConfirm(false)}> {_t('cancel')} </button>\n            </div>\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-success btn-block\" onClick={() => props.onConfirm(true)}> {_t('ok')} </button>\n            </div>                                    \n        </div>\n      </div>\n    );\n  }\n\n  export default ConfirmDeleteClassroom;","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\n\nfunction ConfirmDeleteQuestion (props) {\n  \n    return (\n      <div>\n        <h1>{_t('confirm_delete')}</h1>\n        <p>{_t('confirm_delete_question')} {props.question.title}</p>\n        \n        <div className=\"form-group mt-2 row\">\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-secondary btn-block\" onClick={() => props.onConfirm(false)}> {_t('cancel')} </button>\n            </div>\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-success btn-block\" onClick={() => props.onConfirm(true)}> {_t('ok')} </button>\n            </div>                                    \n        </div>\n      </div>\n    );\n  }\n\n  export default ConfirmDeleteQuestion;","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\n\nfunction ConfirmActivateReminders (props) {\n  \n    return (\n      <div>\n        <h1>{_t('confirm_activation')}</h1>\n        <p>{_t('confirm_activate_reminders')} </p>\n        \n        <div className=\"form-group mt-2 row\">\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-secondary btn-block\" onClick={() => props.onConfirm(false)}> {_t('cancel')} </button>\n            </div>\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-success btn-block\" onClick={() => props.onConfirm(true)}> {_t('ok')} </button>\n            </div>                                    \n        </div>\n      </div>\n    );\n  }\n\n  export default ConfirmActivateReminders;","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Select from \"react-validation/build/select\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nfunction addMinutes(numOfMinutes, date = new Date()) {\r\n  // Add selected minutes to deadline date and convert to mysql format for submit\r\n  date.setTime(date.getTime() + numOfMinutes * 60 * 1000);\r\n  return date;\r\n}\r\n\r\nconst required = (value) => {\r\n  if (!value || value.length === 0) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass NewQuestion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleCreate = this.handleCreate.bind(this);\r\n    this.onSelectQuestion = this.onSelectQuestion.bind(this);\r\n    this.onSetPrePost = this.onSetPrePost.bind(this);\r\n    this.onSetDeadline = this.onSetDeadline.bind(this);\r\n    this.showPrePost = this.showPrePost.bind(this);\r\n\r\n    // Merit time is the number of minutes a student can change the answer after submitting it.\r\n    this.merit_time_options = window.$settings.merit_time_options;\r\n    this.merit_time_default = 5;\r\n\r\n    // Deadline time is the number of minutes the question is open for answers\r\n    this.deadline_options = [5, 10, 15];\r\n    this.deadline_default = 10;\r\n\r\n    const first_available_question_type = props.question_types.find(\r\n      (qt) => qt.prepost.length > 0\r\n    );\r\n    const id = first_available_question_type\r\n      ? first_available_question_type.id\r\n      : 0;\r\n    const title = first_available_question_type\r\n      ? first_available_question_type.question_options.title\r\n      : \"\";\r\n    const description = first_available_question_type\r\n      ? first_available_question_type.question_options.description\r\n      : \"\";\r\n    const prepost = first_available_question_type\r\n      ? first_available_question_type.prepost[0]\r\n      : \"\";\r\n\r\n    this.state = {\r\n      id: id,\r\n      title: title,\r\n      description: description,\r\n      deadline: this.deadline_default,\r\n      prepost: prepost,\r\n      merit_time: this.merit_time_default,\r\n      showPre: this.showPrePost(title, \"pre\"),\r\n      showPost: this.showPrePost(title, \"post\"),\r\n\r\n      first_available_question_type: first_available_question_type,\r\n\r\n      successful: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n\r\n  showPrePost(title, prepost) {\r\n    const questions = this.props.question_types.find(\r\n      (qt) => qt.question_options.title === title\r\n    );\r\n    if (!questions) {\r\n      return true;\r\n    }\r\n    const show = questions.prepost.find((e) => e === prepost);\r\n    return show;\r\n  }\r\n\r\n  onSelectQuestion(e) {\r\n    const question_type_id = parseInt(e.target.value);\r\n    const question_options = this.props.question_types.find(\r\n      (q) => q.id === question_type_id\r\n    ).question_options;\r\n\r\n    const new_state = {\r\n      id: question_type_id,\r\n      title: question_options.title,\r\n      description: question_options.description,\r\n      showPre: this.showPrePost(question_options.title, \"pre\"),\r\n      showPost: this.showPrePost(question_options.title, \"post\"),\r\n    };\r\n\r\n    this.setState(new_state);\r\n  }\r\n\r\n  onSetDeadline(e) {\r\n    this.setState({ deadline: e.target.value });\r\n  }\r\n\r\n  onSetMerit(e) {\r\n    this.setState({\r\n      merit_time: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSetPrePost(e) {\r\n    this.setState({\r\n      prepost: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleCreate(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      successful: false,\r\n    });\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      const answer_options = this.props.question_types.find(\r\n        (q) => q.id === this.state.id\r\n      ).answer_options;\r\n\r\n      BackendService.newQuestion({\r\n        // question info\r\n        title: this.state.title,\r\n        description: this.state.description,\r\n        phase: this.props.classroom.phase,\r\n        pre_post: this.state.prepost,\r\n        language: window.$lang,\r\n        ClassroomCode: this.props.classroom.code,\r\n        deadline: addMinutes(this.state.deadline).toISOString(),\r\n        reminder: this.props.classroom.reminder,\r\n        merit_time: this.state.merit_time,\r\n        options: answer_options,\r\n      })\r\n        .then((res) => BackendService.notifyNewQuestion(this.props.classroom))\r\n        .then((res) => {\r\n          this.setState({\r\n            successful: true,\r\n          });\r\n          this.props.onNewQuestion(res);\r\n        })\r\n        .catch((error) => {\r\n          const resMessage =\r\n            (error.response &&\r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n          if (\r\n            error.response &&\r\n            error.response.status &&\r\n            error.response.status === 401\r\n          ) {\r\n            // token has expired\r\n            this.setState({\r\n              successful: false,\r\n              message: _t(\"session_expired\"),\r\n            });\r\n            setTimeout(this.props.logOut, 2000);\r\n          } else {\r\n            this.setState({\r\n              successful: false,\r\n              message: resMessage,\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"center-form\">\r\n          <div className=\"\">\r\n            <h5>{_t(\"new_question_title\")}</h5>\r\n            {!this.state.first_available_question_type && (\r\n              <p>{_t(\"no_question_types\")}</p>\r\n            )}\r\n            {this.state.first_available_question_type && (\r\n              <Form\r\n                onSubmit={this.handleCreate}\r\n                ref={(c) => {\r\n                  this.form = c;\r\n                }}\r\n              >\r\n                {!this.state.successful && (\r\n                  <div>\r\n                    <div className=\"form-group mt-2\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">\r\n                          {_t(\"choose_question\")}:\r\n                        </label>\r\n                        <div className=\"form-check\">\r\n                          {this.props.question_types.map((q, i) => (\r\n                            <div key={`outer_${i}`}>\r\n                              {(this.showPrePost(\r\n                                q.question_options.title,\r\n                                \"pre\"\r\n                              ) ||\r\n                                this.showPrePost(\r\n                                  q.question_options.title,\r\n                                  \"post\"\r\n                                )) && (\r\n                                <div className=\"p-1\" key={`div_${i}`}>\r\n                                  <input\r\n                                    key={i}\r\n                                    type=\"radio\"\r\n                                    id={q.id}\r\n                                    name=\"title\"\r\n                                    className=\"form-check-input\"\r\n                                    value={q.id}\r\n                                    onChange={this.onSelectQuestion}\r\n                                    validations={[required]}\r\n                                    defaultChecked={\r\n                                      q.id ===\r\n                                      this.state.first_available_question_type\r\n                                        .id\r\n                                    }\r\n                                  />\r\n                                  <label\r\n                                    className=\"form-check-label\"\r\n                                    key={`label_${i}`}\r\n                                  >\r\n                                    {\" \"}\r\n                                    {q.question_options.title}\r\n                                  </label>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group mt-2 mb-3\">\r\n                      <label\r\n                        htmlFor=\"description\"\r\n                        className=\"form-check-label mb-1\"\r\n                      >\r\n                        {_t(\"description\")}:\r\n                      </label>\r\n                      <p className=\"text-secondary\">\r\n                        <i>{this.state.description}</i>\r\n                      </p>\r\n                    </div>\r\n\r\n                    <div className=\"form-group mt-2\">\r\n                      <label className=\"form-label\">\r\n                        {_t(\"deadline\")} ({_t(\"minutes\")}):\r\n                      </label>\r\n                      <div className=\"col-12 text-center\">\r\n                        <Select\r\n                          name=\"deadline\"\r\n                          className=\"form-select\"\r\n                          onChange={this.onSetDeadline}\r\n                          value={this.state.deadline}\r\n                        >\r\n                          {Object.keys(this.deadline_options).map((k, i) => (\r\n                            <option key={i} value={this.deadline_options[k]}>\r\n                              {this.deadline_options[k]}\r\n                            </option>\r\n                          ))}\r\n                        </Select>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group mt-2 mb-3\">\r\n                      {this.state.showPre && (\r\n                        <div className=\"form-check\">\r\n                          <input\r\n                            type=\"radio\"\r\n                            id=\"pre\"\r\n                            name=\"prepost\"\r\n                            value=\"pre\"\r\n                            className=\"form-check-input\"\r\n                            defaultChecked\r\n                            onChange={this.onSetPrePost}\r\n                          />\r\n                          <label htmlFor=\"pre\" className=\"form-check-label\">\r\n                            Pre\r\n                          </label>\r\n                        </div>\r\n                      )}\r\n                      {this.state.showPost && (\r\n                        <div className=\"form-check\">\r\n                          <input\r\n                            type=\"radio\"\r\n                            id=\"post\"\r\n                            name=\"prepost\"\r\n                            value=\"post\"\r\n                            className=\"form-check-input\"\r\n                            onChange={this.onSetPrePost}\r\n                          />\r\n                          <label htmlFor=\"post\" className=\"form-check-label\">\r\n                            Post\r\n                          </label>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"form-group mt-2\">\r\n                      <label className=\"form-label\">{_t(\"merit_time\")}:</label>\r\n                      <div className=\"col-12 text-center\">\r\n                        <Select\r\n                          name=\"merit_time\"\r\n                          value={this.merit_time_default}\r\n                          className=\"form-select\"\r\n                          validations={[required]}\r\n                          onChange={this.onSetMeritTime}\r\n                          defaultValue={this.merit_time_default}\r\n                        >\r\n                          {\r\n                            //<option value=\"0\">{_t(\"none\")}</option>\r\n                          }\r\n                          {Object.keys(this.merit_time_options).map((k, i) => (\r\n                            <option\r\n                              key={i}\r\n                              value={this.merit_time_options[k]}\r\n                            >\r\n                              {this.merit_time_options[k]}\r\n                            </option>\r\n                          ))}\r\n                        </Select>\r\n                        \r\n                      </div>\r\n                    </div>\r\n\r\n                    {this.state.message && (\r\n                      <div className=\"form-group\">\r\n                        <div\r\n                          className={\r\n                            this.state.successful\r\n                              ? \"alert alert-success\"\r\n                              : \"alert alert-danger\"\r\n                          }\r\n                          role=\"alert\"\r\n                        >\r\n                          {this.state.message}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div className=\"form-group mt-5 row\">\r\n                      <div className=\"col-6 text-center\">\r\n                        <button\r\n                          className=\"btn btn-secondary btn-block\"\r\n                          onClick={this.props.onCancelNewQuestion}\r\n                        >\r\n                          {_t(\"cancel\")}\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"col-6 text-center\">\r\n                        <button\r\n                          className=\"btn btn-success btn-block\"\r\n                          onClick={this.handleCreate}\r\n                        >\r\n                          {_t(\"create\")}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <CheckButton\r\n                  style={{ display: \"none\" }}\r\n                  ref={(c) => {\r\n                    this.checkBtn = c;\r\n                  }}\r\n                />\r\n              </Form>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewQuestion;\r\n","import React from \"react\"\n\nexport default function Loading () {\n    return (\n        <div className=\"text-center mx-auto mt-5\">\n            <div className=\"spinner-border\">\n                <span className=\"visually-hidden\">Loading...</span>\n            </div>\n        </div>\n    );\n};","import React from \"react\"\n\nexport function Message (props) {\n\n    return (\n        <div className=\"m-4\" data-class=\"btn-close\">\n            <div className={\"alert alert-\" + props.type + \" alert-dismissible fade show\"} role=\"alert\">\n                <p>{props.text}</p>\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n            </div>\n        </div>\n    );\n};\n\nexport function showMsg(text, type, setFunc) {\n    setFunc({text: text, type: type, show: true});\n    setTimeout(() => {\n        setFunc({text: '', type: '', show: false});\n    }, 5000);\n};","import React, { useEffect, useState } from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport ClassroomCard from \"./classroom_card.component\";\r\nimport QuestionCard from \"./question_card.component\";\r\nimport ConfirmDeleteClassroom from \"./confirm_delete_classroom.component\";\r\nimport ConfirmDeleteQuestion from \"./confirm_delete_question.component\";\r\nimport ConfirmActivateReminders from \"./confirm_activate_reminders\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport NewQuestion from \"./new_question.component\";\r\nimport Loading from \"../loading.component\";\r\nimport { Message, showMsg } from \"../message.component\";\r\n\r\nfunction Classroom(props) {\r\n  \r\n  const [questions, setQuestions] = useState([]);\r\n  const [show, setShow] = useState(\"loading\");\r\n  const [question, setQuestion] = useState();\r\n  const [message, setMessage] = useState({ text: \"\", type: \"\", show: false });\r\n\r\n  const loadQuestions = () => {\r\n    setShow(\"loading\");\r\n    BackendService.getProfessorQuestions(props.classroom.code)\r\n      .then((res) => {\r\n        setQuestions(res);\r\n        setShow(\"default\");\r\n      })\r\n      .catch(() => {\r\n        showMsg(_t(\"unable_to_get_data\"), \"danger\", setMessage);\r\n      });\r\n  };\r\n\r\n  // scroll to top after populating questions\r\n  useEffect(() => {\r\n    setShow(\"default\");\r\n  }, [questions]);\r\n\r\n  useEffect(() => {\r\n    loadQuestions();\r\n  }, []);\r\n\r\n  const onDelClassroom = () => {\r\n    props.onDelClassroom(props.classroom.code);\r\n  };\r\n\r\n  const onActivateReminders = () => {\r\n    props.onActivateReminders(props.classroom);\r\n  };\r\n\r\n  const confirmDelQuestion = (question) => {\r\n    setShow(\"confirmQuestion\");\r\n    setQuestion(question);\r\n  };\r\n\r\n  const onDelQuestion = () => {\r\n    BackendService.delQuestion(question.Question_id)\r\n      .then(() => {\r\n        showMsg(_t(\"question_deleted\"), \"info\", setMessage);\r\n        setShow(\"\");\r\n        setTimeout(loadQuestions, 2000);\r\n      })\r\n      .catch(() => {\r\n        showMsg(_t(\"operation_failed\"), \"danger\", setMessage);\r\n      });\r\n  };\r\n\r\n  const onNewQuestion = () => {\r\n    showMsg(_t(\"question_created\"), \"success\", setMessage);\r\n    setTimeout(loadQuestions, 2000);\r\n  };\r\n\r\n  // Return those question types available \r\n  // In the same classroom, two questions cannot have same title/prepost combination of values\r\n  const questionTypes = (questions) => {\r\n\r\n    // Get all possible questions according to phase\r\n    let question_types = window.$settings.question_types.filter(\r\n      (q) => q.question_options.phase === props.classroom.phase\r\n    );\r\n\r\n    // Add a prepost field with avaible states\r\n    question_types = question_types.map(qt => {\r\n      const used = questions.filter(q => qt.question_options.title === q.title).map(q => q.pre_post);\r\n      let available = [];\r\n      used.find(e => e === \"pre\") || available.push(\"pre\")\r\n      used.find(e => e === \"post\") || available.push(\"post\")\r\n      qt.prepost = available;\r\n      return qt;\r\n    });\r\n\r\n    return question_types;\r\n  }\r\n\r\n  window.scrollTo({ top: 0, left: 0, behavior: \"instant\" });\r\n  return (\r\n    <div>\r\n      {message.show && <Message text={message.text} type={message.type} />}\r\n      {show === \"confirmActivateReminders\" && (\r\n        <ConfirmActivateReminders\r\n          classroom={props.classroom}\r\n          onConfirm={(a) => (a ? onActivateReminders() : setShow(\"default\"))}\r\n        />\r\n      )}\r\n      {show === \"confirmClassroom\" && (\r\n        <ConfirmDeleteClassroom\r\n          classroom={props.classroom}\r\n          onConfirm={(a) => (a ? onDelClassroom() : setShow(\"default\"))}\r\n        />\r\n      )}\r\n      {show === \"confirmQuestion\" && (\r\n        <ConfirmDeleteQuestion\r\n          question={question}\r\n          onConfirm={(a) => (a ? onDelQuestion() : loadQuestions())}\r\n        />\r\n      )}\r\n      {show === \"loading\" && <Loading />}\r\n      {show === \"newQuestion\" && (\r\n        <NewQuestion\r\n          onNewQuestion={() => onNewQuestion()}\r\n          onCancelNewQuestion={() => setShow(\"default\")}\r\n          question_types={questionTypes(questions)}\r\n          classroom={props.classroom}\r\n          logOut={props.logOut}\r\n        />\r\n      )}\r\n      {show === \"default\" && (\r\n        <div>\r\n          <ClassroomCard classroom={props.classroom} isHeader={true} onClickDel={() => setShow(\"confirmClassroom\")} onClickActivateReminders={() => setShow(\"confirmActivateReminders\")}/>\r\n\r\n          <div className=\"row mt-5\">\r\n            <div className=\"col-6\">\r\n              <h5>{_t(\"questions\")}</h5>\r\n            </div>\r\n            <div className=\"col-6 d-flex justify-content-end\">\r\n              <button\r\n                className=\"btn btn-success btn-block\"\r\n                onClick={() => setShow(\"newQuestion\")}\r\n              >\r\n                <i className=\"bi bi-plus-circle\"></i> {_t(\"add\")}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {questions.length === 0 && \r\n                (\r\n                    <p>{_t(\"no_questions\")}</p>\r\n          )}\r\n          {questions.map((q, i) => (\r\n            <QuestionCard key={i} question={q} onDelete={confirmDelQuestion} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Classroom;\r\n","import React, { Component } from \"react\";\nimport _t from \"../../services/i18n.service\";\nimport BackendService from \"../../services/backend.service\";\nimport ClassroomCard from \"./classroom_card.component\";\nimport NewClassroom from \"./new_classroom.component\";\nimport Classroom from \"./classroom.component\";\nimport Loading from \"../loading.component\";\nimport { Message, showMsg } from \"../message.component\";\n\nclass Professor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onNewClassroom = this.onNewClassroom.bind(this);\n    this.onCancelNewClassroom = this.onCancelNewClassroom.bind(this);\n    this.onDelClassroom = this.onDelClassroom.bind(this);\n    this.goToClassroom = this.goToClassroom.bind(this);\n    this.setMsg = this.setMsg.bind(this);\n    this.onActivateReminders = this.onActivateReminders.bind(this);\n\n    this.state = {\n      classrooms: [],\n\n      show: \"default\",\n      message: {show: false},\n    };\n  }\n\n  setMsg(message) {\n    this.setState({message: message});\n  }\n\n  componentDidMount() {    \n    this.setState({ show: \"loading\" });\n    BackendService.getClassrooms()\n    .then((res) => {\n        document.documentElement.scrollTop = 0;\n        this.setState({ classrooms: res, show: \"default\" });        \n    })\n    .catch((err) => {\n      if (err.response && err.response.status && err.response.status === 401) { // token has expired\n        document.documentElement.scrollTop = 0;\n        this.setState({show: \"default\"});\n        showMsg(_t(\"session_expired\"), \"danger\", this.setMsg);\n        setTimeout(this.props.logOut, 2000);\n      } else {\n        //console.log(err);\n        document.documentElement.scrollTop = 0;\n        this.setState({show: \"default\"});\n        showMsg(_t(\"unable_to_get_data\"), \"danger\", this.setMsg);\n      }\n    });\n  }\n\n  onNewClassroom(classroom) {\n    this.componentDidMount();\n  }\n\n  onDelClassroom(code) {\n    BackendService.delClassroom(code)\n      .then(() => {\n        showMsg(_t('classroom_deleted'), \"info\", this.setMsg);\n        this.componentDidMount();\n      })\n      .catch(() => {\n        showMsg(_t(\"classroom_cannot_be_deleted\"), \"danger\", this.setMsg);\n      });\n  }\n\n  onActivateReminders(classroom) {\n    if (classroom.students_count == 0) {\n      showMsg(_t('no_reminder_without_enrolments'), \"danger\", this.setMsg)\n      this.componentDidMount();\n    } else {\n      BackendService.updateClassroomReminderStatus(classroom, 1)\n        .then(() => { \n          showMsg(_t('reminders_activated'), \"info\", this.setMsg);\n          this.componentDidMount();\n        })\n        .catch(() => {\n          showMsg(_t('reminders_not_activated'), \"danger\", this.setMsg);\n        });\n    }\n  }\n\n  onNewQuestion(question) {\n    BackendService.NewQuestion(question);\n  }\n\n  onCancelNewClassroom(title) {\n    this.setState({ show: \"default\" });\n  }\n\n  goToClassroom(classroom) {\n    this.setState({ show: \"Classroom\", classroom: classroom });\n  }\n\n  render() {\n    const classrooms = this.state.classrooms;\n\n    return (\n        <>\n        {this.state.message.show && (\n          <Message text={this.state.message.text} type={this.state.message.type} />\n        )}\n        {this.state.show === \"NewClassroom\" && (\n          <NewClassroom\n            onNewClassroom={this.onNewClassroom}\n            onCancelNewClassroom={this.onCancelNewClassroom}\n          />\n        )}\n        {this.state.show === \"Classroom\" && (\n          <Classroom\n            onDelClassroom={this.onDelClassroom}\n            onDelQuestion={this.onDelQuestion}\n            onNewQuestion={this.onNewQuestion}\n            onActivateReminders={this.onActivateReminders}\n            classroom={this.state.classroom}\n            logOut={this.props.logOut}\n          />\n        )}\n        {this.state.show === \"loading\" && <Loading />}\n        {this.state.show === \"default\" && (\n          <div>\n            <div>\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <h2>{_t(\"classrooms_title\")}</h2>\n                </div>\n                <div className=\"col-6 d-flex justify-content-end\">\n                  <button\n                    to=\"new_classroom\"\n                    className=\"btn btn-success btn-block\"\n                    onClick={() => this.setState({ show: \"NewClassroom\" })}\n                  >\n                    <i className=\"bi bi-plus-circle\"></i> {_t(\"add\")}\n                  </button>\n                </div>\n              </div>\n\n              {classrooms.map((c, i) => (\n                <ClassroomCard\n                  key={i}\n                  classroom={c}\n                  goToClassroom={this.goToClassroom}\n                  isHeader={false}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n        </>\n    );\n  }\n}\n\nexport default Professor;\n","import React from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nexport default function ClassroomCard(props) {\r\n  let classroom = props.classroom;\r\n  \r\n  return (\r\n    <div className=\"card mt-4\" onClick={() => props.header || classroom.state === \"disabled\" ? false : props.goToClassroom(classroom)}>\r\n      <div className={\"card-header \" + (classroom.state === \"active\" ?  \"bg-primary text-light\" : \"bg-light\")}>\r\n        <div className=\"row\">\r\n          <div className=\"col-6 d-flex justify-content-start\">\r\n            {classroom.code.toUpperCase()}\r\n          </div>\r\n          <div className=\"col-6 d-flex justify-content-end\">\r\n            {_t('phase') + \" \" + classroom.phase}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8\">\r\n            <h5 className=\"card-title d-flex justify-content-start\">\r\n              <span className=\"mx-2\">\r\n                <i className=\"bi bi-easel\"></i>\r\n              </span>{\" \"}\r\n              {classroom.title}\r\n            </h5>\r\n          </div>\r\n          <div className=\"col-4 d-flex justify-content-end\">\r\n            {!props.header && (<i className=\"bi bi-chevron-right\"></i>)}\r\n            {props.header && (\r\n              <button\r\n              className={props.history ? \"btn btn-secondary\" : \"btn btn-light\"}\r\n              onClick={props.toggleHistory}\r\n              >\r\n                <i className=\"bi bi-clipboard-check me-1\"></i> {_t('history')}\r\n              </button>\r\n              \r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport { toLocalTimeString } from \"../../services/time.service\";\r\n\r\nfunction QuestionCard(props) {\r\n  let question = props.question;\r\n\r\n  const deadline_date = new Date(question.deadline);\r\n  const deadline = toLocalTimeString(deadline_date);\r\n  const created_on_date = new Date(question.created_on);\r\n  const created_on = toLocalTimeString(created_on_date);\r\n\r\n  return (\r\n    <div className=\"card row mt-4 mx-4\" onClick={() => props.header ? false : props.onEdit(question)}>\r\n      <div\r\n        className={\r\n          \"card-header \" +\r\n          (question.state === \"editable\"\r\n            ? \"bg-primary text-light\"\r\n            : question.state === \"pending\"\r\n              ? \"bg-warning\"\r\n              : question.state === \"answered\"\r\n                ? \"bg-success text-light\"\r\n                : \"\")\r\n        }\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-12\"><b>{question.title}</b></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-6  d-flex justify-content-start\">{question.pre_post}</div>\r\n          <div className=\"col-6 d-flex justify-content-end\">\r\n   \r\n            {question.state === \"editable\" && (\r\n              <>{_t('edit')} <i className=\"bi bi-pencil-square ms-1\"></i></>\r\n            )}\r\n            {question.state === \"pending\" && (\r\n              <>{_t('pending')} <i className=\"bi bi-hourglass-split ms-1\"></i></>\r\n            )}\r\n            {question.state === \"answered\" && (\r\n              <>{_t('answered')} <i className=\"bi bi-check2-circle ms-1\"></i></>\r\n            )}\r\n            {question.state === \"unanswered\" && (\r\n              <>{_t('unanswered')} <i className=\"bi bi-x-circle ms-1\"></i></>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 text-secondary\">\r\n            <p>{question.description}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">\r\n            <p className=\" justify-content-start\">\r\n              ({_t(\"created_on\")})\r\n              <i className=\"bi bi-calendar-check me-1 ms-1\"></i> {created_on}\r\n            </p>\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <p style={{ textAlign: 'end' }}>\r\n              ({_t(\"deadline\")})<i className=\"bi bi-calendar-x me-1 ms-1\"></i>{\" \"}\r\n              {deadline}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-8 d-flex justify-content-start\">\r\n            <span className={\r\n              (question.state === \"editable\"\r\n              ? \"text-primary\"\r\n              : question.state === \"pending\"\r\n              ? \"text-warning\"\r\n              : question.state === \"answered\"\r\n              ? \"text-success\"\r\n              : \"\")}>\r\n              <b>{question.response !== -1 ? `${_t('response')}: ${question.response}` : _t('no_response')}</b>\r\n              </span>\r\n              <span className=\"text-secondary ms-2\">\r\n                {(question.state === \"editable\" ? `(${_t(\"editable_until\")} ${toLocalTimeString(question.merit_time)})` : \"\")}\r\n              </span>\r\n          </div>\r\n          <div className=\"col-4 d-flex justify-content-end\">\r\n            {(question.state === \"editable\" ||\r\n              question.state === \"pending\") && !props.header && (\r\n                <i className=\"bi bi-chevron-right\"></i>\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuestionCard;","import React, { Component } from \"react\"\r\nimport Form from \"react-validation/build/form\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport QuestionCard from './question_card.component';\r\nimport _t from \"../../services/i18n.service\";\r\nimport stairs_img from '../../assets/stairs.jpg';\r\n\r\nconst required = value => {\r\n    if (!value || value.length === 0) {\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {_t('field_required')}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\nclass Question extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n\r\n        this.state = {\r\n            level: -1,\r\n\r\n            successful: false,\r\n            message: '',\r\n        }\r\n    }\r\n\r\n    onChange(e) {\r\n        const level = parseInt(e.target.value)\r\n        this.setState({\r\n          level: level\r\n        });\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        this.setState({\r\n          message: \"\",\r\n          successful: false\r\n        });\r\n        this.form.validateAll();\r\n        this.props.onSubmit(this.state.level, this.props.question.Question_id);\r\n    }\r\n\r\n \r\n    render() {\r\n        const answer_options = window.$settings.question_types[0].answer_options;\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"center-form\">\r\n                    <div>\r\n                        <QuestionCard question={this.props.question} header={true}/>\r\n                        \r\n                        <Form\r\n                            onSubmit={this.onSubmit}\r\n                            ref={c => {\r\n                                this.form = c;\r\n                            }}\r\n                        >\r\n                            <div className=\"row mt-5\">\r\n                                <div className='col-4 d-flex justify-content-end'>\r\n                                    {!this.state.successful && (\r\n                                    <div className=\"d-flex flex-column\">                                \r\n                                        {Object.keys(answer_options).reverse().map((k, i) => \r\n                                            <div  className=\"p-1\" key={i}>\r\n                                            <input\r\n                                            key={i}\r\n                                            type=\"radio\"\r\n                                            id={k}\r\n                                            name=\"level\"\r\n                                            value={k}\r\n                                            onChange={this.onChange}\r\n                                            validations={[required]}\r\n                                            /> {answer_options[k]}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    )}\r\n                                </div>\r\n                                <div className='col-8  d-flex justify-content-start'>\r\n                                    <img src={stairs_img} width=\"200\" alt=\"stairs\"/>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group mt-5 row\">\r\n                                <div className=\"col-6 text-center\">\r\n                                    <button className=\"btn btn-secondary btn-block\" onClick={this.props.onClose}>{_t('close')}</button>\r\n                                </div>\r\n                                 <div className=\"col-6 text-center\">\r\n                                    <button className=\"btn btn-success btn-block\" onClick={this.onSubmit}>{_t('submit')}</button>\r\n                                </div>\r\n                            </div>\r\n      \r\n                            \r\n                            {this.state.message && (\r\n                            <div className=\"form-group\">\r\n                                <div\r\n                                className={\r\n                                    this.state.successful\r\n                                    ? \"alert alert-success\"\r\n                                    : \"alert alert-danger\"\r\n                                }\r\n                                role=\"alert\"\r\n                                >\r\n                                {this.state.message}\r\n                                </div>\r\n                            </div>\r\n                            )}\r\n                            <CheckButton\r\n                                style={{ display: \"none\" }}\r\n                                ref={c => {\r\n                                this.checkBtn = c;\r\n                                }}\r\n                            />\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );    \r\n    }\r\n} \r\n\r\nexport default Question;","import React from \"react\"\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Cell, Tooltip } from 'recharts';\r\n//import _t from \"../../services/i18n.service\"\r\n\r\n\r\nfunction Stats (props) {\r\n  \r\n  const data = [\r\n    {\r\n      name: 'pre',\r\n      answer: props.response.pre || 0,\r\n    },\r\n    {\r\n      name: 'post',\r\n      answer: props.response.post || 0,\r\n    },\r\n  ];\r\n\r\n  return (\r\n\r\n    <BarChart\r\n      width={400}\r\n      height={200}\r\n      data={data} \r\n      margin={{\r\n        top: 5,\r\n        right: 5,\r\n        left: 5,\r\n        bottom: 5,\r\n      }}\r\n    >\r\n      <CartesianGrid strokeDasharray=\"3 3\" />\r\n      <XAxis dataKey=\"name\" />\r\n      <YAxis domain={[0, 10]}/>\r\n      <Tooltip />\r\n      {/*<Legend />*/}\r\n      <Bar dataKey=\"answer\">\r\n        <Cell key=\"cell-0\" fill=\"#94e4c9\" />\r\n        <Cell key=\"cell-1\" fill=\"#509b7d\" />\r\n      </Bar>\r\n    </BarChart>\r\n\r\n  );\r\n}\r\n\r\nexport default Stats;","import React from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport Stats from \"./stats.component\";\r\n//import { toLocalTimeString } from \"../../services/time.service\";\r\n\r\nfunction QuestionHistory(props) {\r\n  let question = props.question;\r\n\r\n  return (\r\n    <div className=\"card row mt-4 mx-4\">\r\n      <div\r\n        className={\r\n          \"card-header \" +\r\n          (question.pre_answer && question.post_answer\r\n            ? \"bg-primary text-light\"\r\n            : \"bg-warning\"\r\n          )\r\n        }\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-7\">{question.title}</div>\r\n          <div className=\"col-5 d-flex justify-content-end\">\r\n            {question.pre_answer && question.post_answer  ? \r\n              <>{_t('answered')} <i className=\"bi bi-check2-circle ms-1\"></i></>\r\n              :\r\n              <>{_t('pending')} <i className=\"bi bi-hourglass-split ms-1\"></i></>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 text-secondary\">\r\n            <p>{question.description}</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <Stats response={question.response}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuestionHistory;\r\n","import React, { Component } from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport Question from \"./question.component\";\r\nimport QuestionCard from \"./question_card.component\";\r\nimport QuestionHistory from \"./question_history.component\";\r\nimport ClassroomCard from \"./classroom_card.component\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport { Message, showMsg } from \"../message.component\";\r\n\r\nclass Classroom extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onEdit = this.onEdit.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.setMsg = this.setMsg.bind(this);\r\n    this.getClosedQuestions = this.getClosedQuestions.bind(this);\r\n\r\n    this.state = {\r\n      show: \"classroom\",\r\n      history: false,\r\n      question: null,\r\n      message: { show: false },\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    window.scrollTo({ top: 0, left: 0, behavior: \"instant\" });\r\n  }\r\n\r\n  setMsg(message) {\r\n    this.setState({ message: message });\r\n  }\r\n\r\n  onEdit(q) {\r\n    this.setState({\r\n      show: \"question\",\r\n      question: q,\r\n    });\r\n  }\r\n\r\n  onSubmit(option, question_id) {\r\n    let promise =\r\n      this.state.question.response === -1\r\n        ? BackendService.newAnswer(option, question_id)\r\n        : BackendService.updateAnswer(option, question_id);\r\n\r\n    promise\r\n      .then((res) => {\r\n        showMsg(_t(\"answer_recorded\"), \"success\", this.setMsg);\r\n        setTimeout(this.props.refresh, 2000);\r\n      })\r\n      .catch((err) => {\r\n        showMsg(_t(\"operation_failed\"), \"danger\", this.setMsg);\r\n        setTimeout(this.props.refresh, 2000);\r\n      });\r\n  }\r\n\r\n  getClosedQuestions() {\r\n    const answered_questions = this.props.classroom.questions.filter(\r\n      (q) => q.state === \"answered\"\r\n    );\r\n    let closed_questions = [];\r\n    answered_questions.forEach(aq => {\r\n      const i = closed_questions.findIndex(cq => cq.title === aq.title);\r\n      if (i === -1) {\r\n        const question = {...aq};\r\n        question.response = {};\r\n        question.response[aq.pre_post] = aq.response;\r\n        closed_questions.push(question);\r\n      } else {\r\n        closed_questions[i].response[aq.pre_post] = aq.response;\r\n      }\r\n    });\r\n    return closed_questions;\r\n  }\r\n\r\n  render() {\r\n    const classroom = this.props.classroom;\r\n    const pending_questions = classroom.questions.filter(\r\n      (q) => q.state === \"pending\"\r\n    );\r\n    const editable_questions = classroom.questions.filter(\r\n      (q) => q.state === \"editable\"\r\n    );\r\n    const closed_questions = this.getClosedQuestions();\r\n    \r\n    return (\r\n      <div>\r\n        {this.state.message.show && (\r\n          <Message\r\n            text={this.state.message.text}\r\n            type={this.state.message.type}\r\n          />\r\n        )}\r\n        {this.state.show === \"classroom\" && (\r\n          <div>\r\n            <ClassroomCard\r\n              header={true}\r\n              classroom={classroom}\r\n              history={this.state.history}\r\n              toggleHistory={() => {\r\n                this.setState({ history: !this.state.history });\r\n              }}\r\n            />\r\n            <h5 className=\"mt-2\">{_t(\"questions\")}:</h5>\r\n\r\n            {!this.state.history ? ( // open questions\r\n              (editable_questions.length === 0 &&\r\n                pending_questions.length === 0 && (\r\n                  <p>{_t(\"no_questions\")}</p>\r\n                )) || (\r\n                <>\r\n                  {editable_questions.length > 0 &&\r\n                    editable_questions.map((q, i) => (\r\n                      <QuestionCard\r\n                        key={i}\r\n                        question={q}\r\n                        onEdit={this.onEdit}\r\n                        header={false}\r\n                      />\r\n                    ))}\r\n\r\n                  {pending_questions.length > 0 &&\r\n                    pending_questions.map((q, i) => (\r\n                      <QuestionCard\r\n                        key={i}\r\n                        question={q}\r\n                        onEdit={this.onEdit}\r\n                        header={false}\r\n                      />\r\n                    ))}\r\n                </>\r\n              )\r\n            ) : closed_questions.length > 0 ? ( // closed questions\r\n              closed_questions.map((q, i) => (\r\n                <QuestionHistory key={i} question={q} />\r\n              ))\r\n            ) : (\r\n              <p>{_t(\"no_questions\")}</p>\r\n            )}\r\n          </div>\r\n        )}\r\n        {this.state.show === \"question\" && (\r\n          <Question\r\n            onSubmit={this.onSubmit}\r\n            onClose={() => {\r\n              this.setState({ show: \"classroom\" });\r\n            }}\r\n            question={this.state.question}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Classroom;\r\n","import React, { Component } from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport ClassroomCard from \"./classroom_card.component\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport Classroom from \"./classroom.component.js\";\r\nimport Loading from \"../loading.component\";\r\nimport { Message, showMsg } from \"../message.component\";\r\nimport authService from \"../../services/auth.service\";\r\nimport OneSignal from 'react-onesignal';\r\n\r\nclass Student extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeClassroom = this.onChangeClassroom.bind(this);\r\n    this.onSelectClassroom = this.onSelectClassroom.bind(this);\r\n    this.onJoinClassroom = this.onJoinClassroom.bind(this);\r\n    this.goToClassroom = this.goToClassroom.bind(this);\r\n    this.loadClassrooms = this.loadClassrooms.bind(this);\r\n    this.setMsg = this.setMsg.bind(this);\r\n\r\n    this.state = {\r\n      classrooms: [],\r\n      classroom_new_id: \"\",\r\n      classroom_id: \"\",\r\n      classroom: {},\r\n\r\n      show: \"loading\",\r\n\r\n      successful: false,\r\n      message: { show: false },\r\n    };\r\n  }\r\n\r\n  setMsg(message) {\r\n    this.setState({ message: message });\r\n  }\r\n\r\n  loadClassrooms() {\r\n    this.setState({\r\n      classroom_new_id: \"\",\r\n      show: \"loading\",\r\n    });\r\n\r\n    BackendService.getClassrooms()\r\n      .then(async (res) => {\r\n        const classrooms = res.filter((c) => c.state === \"active\");\r\n        this.setState({ classrooms: classrooms, show: \"default\" });\r\n\r\n        // Subscribe to classroom notifications\r\n        const user_id = await OneSignal.getUserId();\r\n        const user = authService.getCurrentUser();\r\n        //console.log(\"user_id\", user_id);\r\n\r\n        for (let i=0; i<classrooms.length; i++) {\r\n          await BackendService.subscribeToNotifications(classrooms[i].code.toUpperCase(), user_id);\r\n        }\r\n\r\n        //console.log(\"subscribing\", user.email, user_id)\r\n        await BackendService.subscribeToNotifications(user.email, user_id);\r\n      })\r\n      .catch((err) => {\r\n        if (\r\n          err.response &&\r\n          err.response.status &&\r\n          err.response.status === 401\r\n        ) {\r\n          // token has expired\r\n          document.documentElement.scrollTop = 0;\r\n          this.setState({ show: \"default\" });\r\n          showMsg(_t(\"session_expired\"), \"danger\", this.setMsg);\r\n          setTimeout(this.props.logOut, 2000);\r\n        } else if (err.message && err.message === _t(\"no_notifications_warning\")) {\r\n            this.setState({ show: \"default\" });\r\n            showMsg(err.message, \"warning\", this.setMsg);\r\n        } else {\r\n          this.setState({ show: \"default\" });\r\n          showMsg(_t(\"unable_to_get_data\"), \"danger\", this.setMsg);\r\n        }\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadClassrooms();\r\n  }\r\n\r\n  onChangeClassroom(e) {\r\n    this.setState({\r\n      classroom_new_id: e.target.value,\r\n    });\r\n  }\r\n\r\n  goToClassroom(classroom) {\r\n    window.scrollTo({ top: 0, left: 0, behavior: \"instant\" });\r\n    this.setState({ show: \"loading\" });\r\n    BackendService.getStudentQuestions(classroom.code)\r\n      .then((res) => {\r\n        classroom.questions = res;\r\n        this.setState({\r\n          classroom: classroom,\r\n          show: \"classroom\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        if (\r\n          err.response &&\r\n          err.response.status &&\r\n          err.response.status === 401\r\n        ) {\r\n          // token has expired\r\n          document.documentElement.scrollTop = 0;\r\n          this.setState({ show: \"default\" });\r\n          showMsg(_t(\"session_expired\"), \"danger\", this.setMsg);\r\n          setTimeout(this.props.logOut, 2000);\r\n        } else {\r\n          showMsg(_t(\"unable_to_get_data\"), \"danger\", this.setMsg);\r\n          setTimeout(() => {\r\n            this.setState({ show: \"default\" });\r\n          }, 10000);\r\n        }\r\n      });\r\n  }\r\n\r\n  onSelectClassroom(e) {\r\n    this.setState({\r\n      classroom_id: e.target.value,\r\n    });\r\n  }\r\n\r\n  onJoinClassroom(e) {\r\n    e.preventDefault();\r\n\r\n    const code =\r\n      this.state.classroom_new_id.length > 0\r\n        ? this.state.classroom_new_id\r\n        : this.state.classroom_id;\r\n\r\n    // check if already subscribed\r\n    if (this.state.classrooms.find((e) => e.code === code)) {\r\n      showMsg(_t(\"already_enroled\"), \"info\", this.setMsg);\r\n      setTimeout(() => {}, 4000);\r\n      return;\r\n    }\r\n\r\n    const user = authService.getCurrentUser();\r\n\r\n    // not subscribed, so let's subscribe!\r\n    BackendService.subscribeToClassroom(code, user.email)\r\n    .then(() => {\r\n      return OneSignal.getUserId()\r\n    })\r\n    .then((user_id) => BackendService.subscribeToNotifications(code, user_id))\r\n    .catch((err) => {\r\n      //console.log(\"Error\", err);\r\n      if (err.message === \"Classroom does not exist.\") {\r\n        err.message = _t(\"classroom_not_found\");\r\n      }\r\n      if (err.message === _t(\"no_notifications_warning\")) {\r\n        showMsg(err.message, \"warning\", this.setMsg);\r\n      }\r\n      else {\r\n        showMsg(err.message, \"danger\", this.setMsg);\r\n      }\r\n    })\r\n    .finally(() => {\r\n      this.componentDidMount();\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const classrooms = this.state.classrooms;\r\n    return (\r\n      <>\r\n        {this.state.message.show && (\r\n          <Message\r\n            text={this.state.message.text}\r\n            type={this.state.message.type}\r\n          />\r\n        )}\r\n\r\n        {this.state.show === \"loading\" && <Loading />}\r\n\r\n        {this.state.show === \"classroom\" && (\r\n          <Classroom\r\n            classroom={this.state.classroom}\r\n            goBack={() => this.componentDidMount()}\r\n            refresh={() => this.goToClassroom(this.state.classroom)}\r\n          />\r\n        )}\r\n\r\n        {this.state.show === \"default\" && (\r\n          <div>\r\n            <Form>\r\n              <div className=\"form-group mt-2 row\">\r\n                <div className=\"col-8\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"form-control col-10\"\r\n                    placeholder={_t(\"new_classroom_id\")}\r\n                    name=\"classroom_new_id\"\r\n                    value={this.state.classroom_new_id}\r\n                    onChange={this.onChangeClassroom}\r\n                    maxLength=\"4\"\r\n                    validations={[]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-4 d-flex justify-content-end\">\r\n                  <button\r\n                    className=\"btn btn-success btn-block\"\r\n                    onClick={this.onJoinClassroom}\r\n                    \r\n                  >\r\n                    {_t(\"join\")}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </Form>\r\n\r\n            {classrooms.length === 0 && (\r\n              <p className=\"mt-2 text-center\">{_t(\"no_enrolments\")}</p>\r\n            )}\r\n\r\n            {classrooms.map((c, i) => (\r\n              <ClassroomCard\r\n                key={i}\r\n                classroom={c}\r\n                goToClassroom={this.goToClassroom}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Student;\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport OneSignal from 'react-onesignal';\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass DelUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.onChangePass = this.onChangePass.bind(this);\r\n\r\n    this.state = {\r\n      pass: \"\",\r\n\r\n      successful: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n\r\n  onChangePass(e) {\r\n    this.setState({\r\n      pass: e.target.value,\r\n    });\r\n  }\r\n\r\n  fakeGetUserId() {\r\n    return new Promise((res, rej) => res(1));\r\n  }\r\n\r\n  handleDelete(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      successful: false,\r\n    });\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      BackendService.delUser(this.props.user.email, this.state.pass)\r\n      .then(async () => {\r\n        var user_id = null;\r\n        user_id = await OneSignal.getUserId();\r\n        const classrooms = await BackendService.getClassrooms();\r\n        return ([classrooms, user_id]);\r\n      })\r\n      .then(async ([classrooms, user_id]) => {\r\n        if (user_id) {\r\n          for (let i=0; i<classrooms.length; i++) {\r\n            await BackendService.unsubscribeFromNotifications(classrooms[i].code.toUpperCase(), user_id);\r\n          }\r\n          await BackendService.unsubscribeFromNotifications(this.props.user.email, user_id);\r\n          await BackendService.delFromNotificationServer(user_id);\r\n        }\r\n      })\r\n      .then((res) => {\r\n        this.setState({\r\n          message: _t(\"user_deleted\"),\r\n          successful: true,\r\n        });\r\n        setTimeout(() => this.props.delUser(true), 1000);\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          successful: false,\r\n          message: (err && err.message) || _t('operation_failed'),\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"center-form\">\r\n          <div className=\"\">\r\n            <h5>{_t(\"del_user_instructions\")}</h5>\r\n            <Form\r\n              onSubmit={this.handleDelete}\r\n              ref={(c) => {\r\n                this.form = c;\r\n              }}\r\n            >\r\n              {!this.state.successful && (\r\n                <div>\r\n                  <div className=\"form-group mt-2\">\r\n                    <label htmlFor=\"password\">{_t(\"enter_password\")}</label>\r\n                    <Input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      value={this.state.pass}\r\n                      onChange={this.onChangePass}\r\n                      validations={[required]}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group mt-2 row\">\r\n                    <div className=\"col-6 text-center\">\r\n                      <button\r\n                        className=\"btn btn-secondary btn-block\"\r\n                        onClick={() => this.props.navigate(-1)}\r\n                      >\r\n                        {_t(\"cancel\")}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6 text-center\">\r\n                      <button\r\n                        className=\"btn btn-danger btn-block\"\r\n                        onClick={this.handleDelete}\r\n                      >\r\n                        {_t(\"delete\")}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {this.state.message && (\r\n                <div className=\"form-group\">\r\n                  <div\r\n                    className={\r\n                      this.state.successful\r\n                        ? \"alert alert-success\"\r\n                        : \"alert alert-danger\"\r\n                    }\r\n                    role=\"alert\"\r\n                  >\r\n                    {this.state.message}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <CheckButton\r\n                style={{ display: \"none\" }}\r\n                ref={(c) => {\r\n                  this.checkBtn = c;\r\n                }}\r\n              />\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Wrap and export\r\nexport default function(props) {\r\n  const navigate = useNavigate();\r\n\r\n  return <DelUser {...props} navigate={navigate} />;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport OneSignal from 'react-onesignal';\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass PurgeUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.onChangePass = this.onChangePass.bind(this);\r\n\r\n    this.state = {\r\n      pass: \"\",\r\n\r\n      successful: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n\r\n  onChangePass(e) {\r\n    this.setState({\r\n      pass: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleDelete(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      successful: false,\r\n    });\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      BackendService.purgeUser(this.props.user.email, this.state.pass)\r\n      .then(async () => {\r\n        var user_id = null;\r\n        user_id = await OneSignal.getUserId();\r\n        const classrooms = await BackendService.getClassrooms();\r\n        return ([classrooms, user_id]);\r\n      })\r\n      .then(async ([classrooms, user_id]) => {\r\n        if (user_id) {\r\n          for (let i=0; i<classrooms.length; i++) {\r\n            await BackendService.unsubscribeFromNotifications(classrooms[i].code.toUpperCase(), user_id);\r\n          }\r\n        }\r\n      })\r\n      .then(() => {\r\n        this.setState({\r\n          message: _t(\"user_purged\"),\r\n          successful: true,\r\n        });\r\n        setTimeout(() => this.props.delUser(true), 1000);\r\n      })\r\n      .catch(\r\n        (err) => {\r\n          console.log(err);\r\n          this.setState({\r\n              successful: false,\r\n              message: (err && err.message) || _t('operation_failed'),\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"center-form\">\r\n          <div className=\"\">\r\n            <h5>{_t(\"purge_user_instructions\")}</h5>\r\n            <Form\r\n              onSubmit={this.handleDelete}\r\n              ref={(c) => {\r\n                this.form = c;\r\n              }}\r\n            >\r\n              {!this.state.successful && (\r\n                <div>\r\n                  <div className=\"form-group mt-2\">\r\n                    <label htmlFor=\"password\">{_t(\"enter_password\")}</label>\r\n                    <Input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      value={this.state.pass}\r\n                      onChange={this.onChangePass}\r\n                      validations={[required]}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group mt-2 row\">\r\n                    <div className=\"col-6 text-center\">\r\n                      <button\r\n                        className=\"btn btn-secondary btn-block\"\r\n                        onClick={() => this.props.navigate(-1)}\r\n                      >\r\n                        {_t(\"cancel\")}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6 text-center\">\r\n                      <button\r\n                        className=\"btn btn-danger btn-block\"\r\n                        onClick={this.handleDelete}\r\n                      >\r\n                        {_t(\"delete\")}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {this.state.message && (\r\n                <div className=\"form-group\">\r\n                  <div\r\n                    className={\r\n                      this.state.successful\r\n                        ? \"alert alert-success\"\r\n                        : \"alert alert-danger\"\r\n                    }\r\n                    role=\"alert\"\r\n                  >\r\n                    {this.state.message}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <CheckButton\r\n                style={{ display: \"none\" }}\r\n                ref={(c) => {\r\n                  this.checkBtn = c;\r\n                }}\r\n              />\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Wrap and export\r\nexport default function(props) {\r\n  const navigate = useNavigate();\r\n\r\n  return <PurgeUser {...props} navigate={navigate} />;\r\n}\r\n","import React from \"react\";\n\nconst NotFound = () => {\n    return (<h1>Page not found</h1>);\n};\n\nexport default NotFound;","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { useNavigate } from \"react-router-dom\";\nimport BackendService from \"../services/backend.service\";\nimport _t from \"../services/i18n.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nclass ChangePassword extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onChangePass = this.onChangePass.bind(this);\n    this.onChangeNewPass = this.onChangeNewPass.bind(this);    \n\n    this.state = {\n      pass: \"\",\n      new_pass: \"\",\n\n      successful: false,\n      message: \"\",\n    };\n  }\n\n  onChangePass(e) {\n    this.setState({\n      pass: e.target.value,\n    });\n  }\n\n  onChangeNewPass(e) {\n    this.setState({\n      new_pass: e.target.value,\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      BackendService.changePassword(\n        this.props.user.email,\n        this.state.pass,\n        this.state.new_pass,\n      ).then(\n        (response) => {\n          this.setState({\n            message: response.message,\n            successful: true,\n          });\n          setTimeout(() => this.props.onChangePassword(true), 1000);\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          this.setState({\n            successful: false,\n            message: resMessage,\n          });\n        }\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"center-form\">\n          <div className=\"\">\n            <h5>{_t(\"change_password\")}</h5>\n            <Form\n              onSubmit={this.handleSubmit}\n              ref={(c) => {\n                this.form = c;\n              }}\n            >\n              {!this.state.successful && (\n                <div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"password\">{_t(\"enter_curr_password\")}</label>\n                    <Input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"password\"\n                      value={this.state.pass}\n                      onChange={this.onChangePass}\n                      validations={[required]}\n                    />\n                  </div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"password\">{_t(\"enter_new_password\")}</label>\n                    <Input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"new_password\"\n                      value={this.state.new_pass}\n                      onChange={this.onChangeNewPass}\n                      validations={[required]}\n                    />\n                  </div>                  \n                  <div className=\"form-group mt-2 row\">\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-secondary btn-block\"\n                        onClick={() => this.props.navigate(-1)}\n                      >\n                        {_t(\"cancel\")}\n                      </button>\n                    </div>\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-success btn-block\"\n                        onClick={this.handleSubmit}\n                      >\n                        {_t(\"submit\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {this.state.message && (\n                <div className=\"form-group\">\n                  <div\n                    className={\n                      this.state.successful\n                        ? \"alert alert-success\"\n                        : \"alert alert-danger\"\n                    }\n                    role=\"alert\"\n                  >\n                    {this.state.message}\n                  </div>\n                </div>\n              )}\n              <CheckButton\n                style={{ display: \"none\" }}\n                ref={(c) => {\n                  this.checkBtn = c;\n                }}\n              />\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Wrap and export\nexport default function(props) {\n  const navigate = useNavigate();\n\n  return <ChangePassword {...props} navigate={navigate} />;\n}\n","import React, { useReducer, useState, useEffect } from \"react\";\r\nimport { createBrowserHistory } from 'history';\r\nimport {\r\n  HashRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n} from \"react-router-dom\";\r\nimport config from \"./config\";\r\n//import AuthService from \"./services/fake_auth.service\";\r\nimport AuthService from \"./services/auth.service\";\r\n\r\nimport ACL from \"./services/acl.service\";\r\nimport BackendService from \"./services/backend.service\";\r\nimport Unauthorized from \"./components/unauthorized.component\";\r\nimport Login from \"./components/login.component\";\r\nimport Register from \"./components/register.component\";\r\nimport Language from \"./components/language.component\";\r\nimport _t from \"./services/i18n.service\";\r\n\r\nimport ResetPassword from \"./components/reset_password\";\r\nimport Layout from \"./components/layout.component\";\r\nimport Professor from \"./components/professor/professor.component\";\r\nimport Student from \"./components/student/student.component\";\r\nimport Stats from \"./components/student/stats.component\";\r\nimport DelUser from \"./components/student/del_user.component\";\r\nimport PurgeUser from \"./components/student/purge_user.component\";\r\nimport NotFound from \"./components/notfound.component\";\r\nimport ChangePassword from \"./components/change_password.component\";\r\nimport OneSignal from 'react-onesignal';\r\n\r\n\r\nfunction App () {\r\n   \r\n  const [user, setUser] = useState(AuthService.getCurrentUser());\r\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\r\n\r\n  useEffect(() => {\r\n\r\n    // Logs modification time\r\n    console.log(config.VERSION); \r\n  \r\n    // Update user data\r\n    setUser(AuthService.getCurrentUser());\r\n\r\n    // Get stored language\r\n    const lang = window.localStorage.getItem(\"lang\");\r\n    window.$lang = lang ? lang : \"en\";\r\n\r\n    BackendService.getSettings()\r\n    .then(settings => {window.$settings = settings});\r\n\r\n    // Push service UNCOMMENT AT DEPLOYMENT\r\n    OneSignal.init({ appId: 'cca1bd1f-8df1-47e4-a28e-454eeb0b5ab3', allowLocalhostAsSecureOrigin: true });\r\n    //OneSignal.showSlidedownPrompt();\r\n\r\n    let isIOS = (/iPad|iPhone|iPod/.test(navigator.platform) ||\r\n    (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)) &&\r\n    !window.MSStream;\r\n\r\n    // do not check for push notifications when in iOS\r\n    if (!isIOS) {\r\n      OneSignal.showNativePrompt()\r\n    .then(() => Promise.resolve(OneSignal.isPushNotificationsEnabled()))\r\n    .then((value) => {\r\n      //console.log('Checking push notifications status... => ', value);\r\n      if (!value) {\r\n        alert(_t('enable_push_alert'));\r\n      }\r\n    })\r\n    .catch(() => {\r\n      alert(_t('enable_push_alert'));\r\n    });\r\n  }\r\n  \r\n  }, []);\r\n\r\n  const logIn = () => {\r\n    setUser(AuthService.getCurrentUser());\r\n  }\r\n\r\n  const logOut = () => {\r\n    AuthService.logout();\r\n    setUser(AuthService.getCurrentUser());\r\n    window.location = config.BASE_PATH;\r\n  }\r\n\r\n  const onChangeLang = (lang) => {\r\n    window.$lang = lang;\r\n    localStorage.setItem(\"lang\", lang);\r\n    forceUpdate();\r\n  }\r\n\r\n  const delUser = (successful) => {\r\n    if (successful) {\r\n      logOut();\r\n    }\r\n  }\r\n\r\n  const purgeUser = (successful) => {\r\n    if (successful) {\r\n      forceUpdate();\r\n    }\r\n  }\r\n\r\n  const onChangePassword = (successful) => {\r\n    if (successful) {\r\n      logOut();\r\n    }\r\n  }\r\n\r\n  const history = createBrowserHistory({ basename: config.BASE_PATH });\r\n\r\n  // Render!\r\n  return (\r\n      <Router history={history}>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Layout user={user} logOut={logOut} />}>\r\n            <Route\r\n            index\r\n              element={\r\n                user.role && user.role === \"ROLE_PROFESSOR\" ? (\r\n                  <Navigate to=\"prof\" replace />\r\n                ) : user.role && user.role === \"ROLE_STUDENT\" ? (\r\n                  <Navigate to=\"stu\" replace />\r\n                ) : (\r\n                  <Navigate to=\"login\" replace />\r\n                )\r\n              }\r\n            />\r\n            <Route\r\n              path=\"login\"\r\n              element={\r\n                <Login cb={logIn} onChangeLang={onChangeLang} />\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"reset-password\"\r\n              element={\r\n                <ResetPassword onChangeLang={onChangeLang} />\r\n              }\r\n            />\r\n\r\n            <Route path=\"unauthorized\" element={<Unauthorized />} />\r\n            <Route\r\n              path=\"register\"\r\n              element={\r\n                <Register user={user} onChangeLang={onChangeLang} />\r\n              }\r\n            />\r\n            <Route\r\n              path=\"lang\"\r\n              element={<Language onClick={onChangeLang} />}\r\n            />\r\n\r\n            <Route\r\n              path=\"prof\"\r\n              element={\r\n                <ACL roles={[\"ROLE_PROFESSOR\"]}>\r\n                  <Professor user={user} logOut={logOut}/>\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"stu\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\"]}>\r\n                  <Student user={user} logOut={logOut}/>\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"stu-stats\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\"]}>\r\n                  <Stats user={user} />\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"del-user\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\"]}>\r\n                  <DelUser user={user} delUser={delUser} />\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"purge-user\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\"]}>\r\n                  <PurgeUser user={user} delUser={purgeUser} />\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"chgpass\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\", \"ROLE_PROFESSOR\"]}>\r\n                  <ChangePassword\r\n                    user={user}\r\n                    onChangePassword={onChangePassword}\r\n                  />\r\n                </ACL>\r\n              }\r\n            />\r\n            <Route path=\"*\" element={<NotFound />} />\r\n          </Route>\r\n        </Routes>\r\n      </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\nimport './app.css';\r\nimport App from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n//import config from './config.js';\r\n\r\n// ========================================\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n    <>\r\n    <base href=\"%PUBLIC_URL%/\"/>\r\n    <link rel=\"manifest\" href=\"./manifest.json\"></link>\r\n    \r\n    <App />\r\n    </>\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n"],"sourceRoot":""}