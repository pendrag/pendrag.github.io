{"version":3,"sources":["assets/LevelUP_128_white.png","assets/stairs.jpg","config.js","services/auth.service.js","services/acl.service.js","services/i18n.service.js","services/backend.service.js","components/unauthorized.component.js","components/language.component.js","components/login.component.js","components/register.component.js","components/reset_password.js","components/layout.component.js","components/professor/classroom_card.component.js","components/professor/new_classroom.component.js","services/time.service.js","components/professor/question_card.component.js","components/professor/confirm_delete_classroom.component.js","components/professor/confirm_delete_question.component.js","components/professor/confirm_activate_reminders.js","components/professor/new_question.component.js","components/loading.component.js","components/message.component.js","components/professor/classroom.component.js","components/professor/professor.component.js","components/student/classroom_card.component.js","components/student/question_card.component.js","components/student/question.component.js","components/student/stats.component.js","components/student/question_history.component.js","components/student/classroom.component.js","components/student/student.component.js","components/student/del_user.component.js","components/student/purge_user.component.js","components/notfound.component.js","components/change_password.component.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","config","API_URL","BASE_PATH","VERSION","auth_service","email","password","axios","post","then","res","user_data","role_id","data","role","user_id","jwt","localStorage","setItem","JSON","stringify","removeItem","RoleId","userJSON","getItem","parse","ACL","_ref","children","roles","user","AuthService","getCurrentUser","includes","react_default","a","createElement","react_router","to","replace","msg","es","professor","student","link_language","link_login","link_register","link_logout","enter_email","enter_password","enter_curr_password","enter_new_password","invalid_email","invalid_password","password_instructions","field_required","new_account_title","new_account_text","close","classrooms_title","stats_title","add","phase","questions","title","new_classroom_title","cancel","create","creation_failed","classroom_created","confirm","confirm_delete","confirm_delete_classroom","confirm_delete_question","confirm_activation","confirm_activate_reminders","confirm_deactivation","confirm_deactivate_reminders","reminders_activated","reminders_disabled","reminders_not_changed","no_reminder_without_enrolments","ok","question_deleted","new_question_title","none","Once per day","Once per week","Once per month","choose_question","question_type_1","question_type_2","question_type_3","question_created","new_classroom_id","select_previous","join","submit","edit","pending","answered","unanswered","delete","delete_classroom","delete_user","del_user_instructions","user_deleted","user_purged","purge_user_instructions","aswer_recorded","user_registered","user_not_registered","change_password","password_changed","error_400","error_401","error_500","login_failed","from","unable_to_get_data","reminder","operation_failed","classroom_deleted","email_already_exists","description","deadline","deadline_posterior","session_expired","classroom_not_found","no_enrolments","already_enroled","no_questions","answer_recorded","classroom_cannot_be_deleted","merit_time","user_data_deleted","remove_user_data","created_on","history","response","no_response","editable_until","no_question_types","new_question_notification","classroom_active_tip","classroom_inactive_tip","reminders_enabled_tip","reminders_disabled_tip","reminder_headings","reminder_subtitle","enable_push_alert","minutes","reset_password_msg","reset_password","no_notifications_warning","en","gr","de","classroom_title","reminders_not_activated","once_per_day","once_per_week","once_per_month","medit_time","_t","k","window","$lang","backend_service","headers","Authorization","concat","Object","objectSpread","new_password","_this","this","Promise","resolve","reject","newPassword","bearerConfig","updateJWT","message","catch","err","status","get","settings","options","question_types","classrooms","length","sort","b","id","code","asyncToGenerator","_regeneratorRuntime","mark","_callee2","i","answers_count","wrap","_context2","prev","next","Question_id","total_answers","count","sent","abrupt","stop","_x2","apply","arguments","classroom_info","String","state","_this2","question_data","classroom","classroomCode","toUpperCase","headings","subtitle","click_url","location","host","path","_this3","put","reminder_status","_this4","_this5","_ref2","_callee4","question","answer","last_response","deadline_passed","merit_time_passed","_context4","results","pop","selected_option","Date","_x3","userEmail","enrolment","Error","classroom_code","player_id","option","question_id","UserId","QuestionId","Unauthorized","className","Language","props","lang","map","l","style","fontWeight","textDecoration","type","key","onClick","required","value","vemail","isEmail","Login","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleLogin","bind","assertThisInitialized","onChangeEmail","onChangePassword","loading","e","setState","target","navigate","preventDefault","form","validateAll","checkBtn","context","_errors","login","cb","err_msg","form_default","onSubmit","ref","c","htmlFor","input_default","name","onChange","validations","disabled","button_default","display","react_router_bootstrap","Nav","Link","language_component","onChangeLang","Component","login_component","useNavigate","login_component_Login","assign","vpassword","RegisterOk","Register","handleRegister","onChangeRole","successful","register","defaultChecked","ResetPassword","handleReset","BackendService","resetPassword","setTimeout","error","resMessage","toString","Fragment","reset_password_ResetPassword","Layout","_useState","useState","_useState2","slicedToArray","expanded","setExpanded","Navbar","bg","expand","variant","fixed","Container","Brand","href","alt","src","logo","Toggle","aria-controls","Collapse","NavDropdown","Divider","logOut","dist_default","smooth","ClassroomCard","visible","setVisible","enabled","reminderStatus","isHeader","goToClassroom","students_count","backendService","updateClassroomVisibility","showConfirmReminders","onClickDel","NewClassroom","handleCreate","onChangeTitle","onChangePhase","onChangeReminder","newClassroom","onNewClassroom","reminder_options","$settings","select_default","keys","onCancelNewClassroom","toLocalTimeString","date","toLocaleString","dateStyle","timeStyle","QuestionCard","pre_post","onDelete","textAlign","ConfirmDeleteClassroom","onConfirm","ConfirmDeleteQuestion","ConfirmActivateReminders","frequency","addMinutes","numOfMinutes","undefined","setTime","getTime","NewQuestion","onSelectQuestion","onSetPrePost","onSetDeadline","showPrePost","merit_time_options","merit_time_default","deadline_options","deadline_default","first_available_question_type","find","qt","prepost","question_options","showPre","showPost","question_type_id","parseInt","q","new_state","answer_options","newQuestion","language","ClassroomCode","toISOString","notifyNewQuestion","onNewQuestion","onSetMeritTime","defaultValue","onCancelNewQuestion","Loading","Message","data-class","text","data-bs-dismiss","aria-label","showMsg","setFunc","show","Classroom","setQuestions","_useState3","_useState4","setShow","_useState5","_useState6","setQuestion","_useState7","_useState8","setMessage","_useState9","_useState10","setReminderStatus","loadQuestions","getProfessorQuestions","useEffect","confirmDelQuestion","scrollTo","top","left","behavior","updateClassroomReminderStatus","confirm_delete_classroom_component","onDelClassroom","confirm_delete_question_component","delQuestion","new_question_component","filter","used","available","push","questionTypes","question_card_component","Professor","setMsg","getClassrooms","document","documentElement","scrollTop","componentDidMount","delClassroom","new_classroom_component","classroom_component","onDelQuestion","header","toggleHistory","onEdit","Question","level","student_question_card_component","reverse","stairs_img","width","onClose","Stats","pre","BarChart","height","margin","right","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","domain","Tooltip","Bar","Cell","fill","QuestionHistory","pre_answer","post_answer","stats_component","getClosedQuestions","prevProps","prevState","newAnswer","updateAnswer","refresh","answered_questions","closed_questions","forEach","aq","findIndex","cq","pending_questions","editable_questions","classroom_card_component_ClassroomCard","question_history_component","question_component","Student","onChangeClassroom","onSelectClassroom","onJoinClassroom","loadClassrooms","classroom_new_id","classroom_id","student_component_regeneratorRuntime","_callee","_context","OneSignal","getUserId","authService","subscribeToNotifications","_x","getStudentQuestions","subscribeToClassroom","finally","student_classroom_component","goBack","placeholder","maxLength","DelUser","handleDelete","onChangePass","pass","rej","delUser","del_user_component_regeneratorRuntime","_ref3","_ref4","unsubscribeFromNotifications","delFromNotificationServer","del_user_component","del_user_component_DelUser","PurgeUser","purgeUser","purge_user_component_regeneratorRuntime","console","log","purge_user_component","purge_user_component_PurgeUser","NotFound","ChangePassword","handleSubmit","onChangeNewPass","new_pass","changePassword","change_password_component","change_password_component_ChangePassword","App","setUser","_useReducer","useReducer","x","forceUpdate","getSettings","init","appId","allowLocalhostAsSecureOrigin","test","navigator","platform","maxTouchPoints","MSStream","showNativePrompt","isPushNotificationsEnabled","alert","logout","createBrowserHistory","basename","react_router_dom","element","layout_component","index","register_component_Register","acl_service","professor_component","student_component","notfound_component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","rel","src_App","URL","process","origin","addEventListener","fetch","Service-Worker","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.8dadaa15.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/stairs.7b1ff811.jpg\";","const config = {\r\n    'API_URL': 'https://dev.silversky3d.com/api-levelup',\r\n    'BASE_PATH': '',\r\n    'VERSION': 'Version 20230724-14:18',\r\n};\r\n\r\nexport default config;","import axios from \"axios\";\r\nimport config from \"../config\";\r\n\r\nclass AuthService {\r\n\r\n  login(email, password) {\r\n    return axios.post(config.API_URL + \"/login\", {\r\n      email: email,\r\n      password: password\r\n    })\r\n    .then(res => {\r\n      let user_data = {\r\n        email: email,\r\n        role_id: res.data.role_id,\r\n        role: res.data.role_id === 1 ? 'ROLE_PROFESSOR' : 'ROLE_STUDENT',\r\n        user_id: res.data.user_id,\r\n        jwt: res.data.jwt,\r\n      }; \r\n      localStorage.setItem('user', JSON.stringify(user_data));\r\n      return user_data;\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem(\"user\");\r\n  }\r\n\r\n  register(email, password, role) {\r\n    return axios.post(config.API_URL + \"/user/create\", {\r\n      email: email,\r\n      password: password,\r\n      RoleId: role === 'ROLE_PROFESSOR' ? 1 : 2\r\n    });\r\n  }\r\n\r\n  getCurrentUser() {\r\n    var userJSON = localStorage.getItem('user');\r\n    userJSON = userJSON === \"undefined\" || !userJSON ? '{\"email\": null, \"role\": null}' : userJSON;\r\n    const user = JSON.parse(userJSON);\r\n    return user;\r\n  }\r\n}\r\n\r\nexport default new AuthService();","import React from 'react';\nimport { Navigate } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\n\nfunction ACL({ children, roles }) {  \n  const user = AuthService.getCurrentUser();\n  return (!user || !user.role) ? <Navigate to=\"/login\" replace /> : (user.role && roles.includes(user.role)) ? children : <Navigate to=\"/unauthorized\" replace />\n}\n\nexport default ACL","const msg = {\r\n  es: {\r\n    professor: \"profesor/a\",\r\n    student: \"estudiante\",\r\n    link_language: \"Idioma\",\r\n    link_login: \"Entrar\",\r\n    link_register: \"Registrarse\",\r\n    link_logout: \"Salir\",\r\n    password: \"Contrasea\",\r\n    enter_email: \"Introduzca su email\",\r\n    enter_password: \"Establezca una contrasea\",\r\n    enter_curr_password: \"Introduzca contrasea actual\",\r\n    enter_new_password: \"Introduzca nueva contrasea\",\r\n    invalid_email: \"El email introducido no es vlido\",\r\n    invalid_password: \"La contrasea introducida no es vlida\",\r\n    password_instructions: \"La contrasea debe tener entre 6 y 40 caracteres\",\r\n    field_required: \"Este campo es obligatorio\",\r\n    new_account_title: \"Nueva cuenta creada\",\r\n    new_account_text:\r\n      \"Por favor, revise su correo electrnico para confirmar la cuenta.\",\r\n    close: \"Cerrar\",\r\n    classrooms_title: \"Clases\",\r\n    stats_title: \"Tus estadsticas\",\r\n    add: \"Aadir\",\r\n    phase: \"Fase\",\r\n    questions: \"Preguntas\",\r\n    title: \"Ttulo\",\r\n    new_classroom_title: \"Nueva clase\",\r\n    cancel: \"Cancelar\",\r\n    create: \"Crear\",\r\n    creation_failed: \"No se pudo crear el elemento\",\r\n    classroom_created: \"La clase se ha creado\",\r\n    confirm: \"Confirmacin\",\r\n    confirm_delete: \"Seguro que quiere borrar?\",\r\n    confirm_delete_classroom:\r\n      \"Las preguntas de la clase siguiente tambin sern eliminadas: \",\r\n    confirm_delete_question:\r\n      \"La siguiente pregunta va a ser eliminada (incluyendo sus respuestas): \",\r\n    confirm_activation: \"Seguro que quiere activar los recordatorios?\",\r\n    confirm_activate_reminders:\r\n      'Al activar recordatorios se enviarn durante una semana __frequency__ notificaciones al estudiantado matriculado en esta clase.',\r\n    confirm_deactivation: \"Seguro que quiere desactivar los recordatorios?\",\r\n    confirm_deactivate_reminders:\r\n        'Desactivar recordatorios cancelar las notificaciones programadas que an no hayan sido enviadas al estudiantado.',\r\n    reminders_activated: \"Recordatorios activados\",\r\n    reminders_disabled: \"Recordatorios desactivados\",\r\n    reminders_not_changed: \"Los cambios no se pudieron completar.\",\r\n    no_reminder_without_enrolments: \"No se activaron los recordatorios al no haber alumnos matriculados.\",\r\n    ok: \"Ok\",\r\n    question_deleted: \"Pregunta eliminada\",\r\n    new_question_title: \"Nueva pregunta\",\r\n    none: \"Ninguno\",\r\n    \"Once per day\": \"Una vez al da\",\r\n    \"Once per week\": \"Una vez a la semana\",\r\n    \"Once per month\": \"Una vez al mes\",\r\n    choose_question: \"Elige pregunta\",\r\n    question_type_1: \"Auto-control\",\r\n    question_type_2: \"Conocer tu vala\",\r\n    question_type_3: \"Fijar metas\",\r\n    question_created: \"La pregunta se ha aadido\",\r\n    new_classroom_id: \"ID de nueva clase\",\r\n    select_previous: \"Seleccionar clase ya suscrita\",\r\n    join: \"Unirse\",\r\n    submit: \"Enviar\",\r\n    edit: \"editar\",\r\n    pending: \"pendiente\",\r\n    answered: \"contestada\",\r\n    unanswered: \"no contestada\",\r\n    delete: \"Eliminar\",\r\n    delete_classroom: \"Eliminar clase\",\r\n    delete_user: \"Eliminar cuenta\",\r\n    del_user_instructions:\r\n      \"Toda tu informacin y tu cuenta sern eliminados. Por favor, introduce tu contrasea para confirmar la operacin.\",\r\n    user_deleted: \"La cuenta ha sido eliminada. Abandonando sesin...\",\r\n    user_purged: \"La informacin ha sido eliminada.\",\r\n    purge_user_instructions:\r\n      \"Toda tu informacin ser eliminada. Por favor, introduce tu contrasea para confirmar la operacin.\",\r\n    aswer_recorded: \"Su respuesta ha quedado registrada.\",\r\n    user_registered: \"La cuenta ha sido creada. Puede iniciar sesin.\",\r\n    user_not_registered: \"La cuenta no ha podido ser creada.\",\r\n    change_password: \"Cambiar contrasea\",\r\n    password_changed: \"La contrasea se ha actualizado. La sesin debe reiniciarse.\",\r\n    error_400: \"Faltan parmetros: email, contrasea o contrasea anterior.\",\r\n    error_401: \"Cambio no autorizado: email o contrasea invlidos.\",\r\n    error_500: \"La contrasea no se ha actualizado debido a un error del servidor.\",\r\n    login_failed: \"No se ha podido iniciar sesin. Por favor, revise sus datos de acceso.\",\r\n    from: \"Desde:\",\r\n    to: \"Hasta:\",\r\n    unable_to_get_data: \"No se ha podido descargar la informacin.\",\r\n    reminder: \"Recordatorios\",\r\n    operation_failed: \"No se ha podido completar la operacin. Intntelo de nuevo ms tarde.\",\r\n    classroom_deleted: \"La clase ha sido eliminada.\",\r\n    email_already_exists: \"Ya existe una cuenta con ese correo electrnico.\",\r\n    description: \"Descripcin\",\r\n    deadline: \"Fecha lmite\",\r\n    deadline_posterior: \"Debe indicarse una fecha posterior a hoy\",\r\n    session_expired: \"La sesin ha expirado. Debe volver a iniciarla.\",\r\n    classroom_not_found: \"No se ha encontrado ninguna clase con el cdigo introducido.\",\r\n    no_enrolments: \"No se ha unido a ninguna clase.\",\r\n    already_enroled: \"Ya est registrado en esta clase.\",\r\n    no_questions: \"Todava no has activado ninguna pregunta para esta clase.\",\r\n    answer_recorded: \"Respuesta registrada.\",\r\n    classroom_cannot_be_deleted: \"La clase no se ha podido eliminar. Puede que haya estudiantes ya registrado/as.\",\r\n    merit_time: \"Nmero de minutos para cambiar respuesta\",\r\n    user_data_deleted: \"Todas tus suscripciones y respuestas se han eliminado.\",\r\n    remove_user_data: \"Eliminar suscripciones y respuestas\",\r\n    created_on: \"Inicio\",\r\n    history: \"Histrico\",\r\n    response: \"Respuesta\",\r\n    no_response: \"Sin respuesta\",\r\n    editable_until: \"editable hasta\",\r\n    no_question_types: \"Todas las preguntas posibles ya se han aadido a esta clase.\",\r\n    new_question_notification: \"Se ha aadido una nueva pregunta a la clase siguiente:\",\r\n    classroom_active_tip: \"La clase est activada. Haga clic para inactivarla.\",\r\n    classroom_inactive_tip: \"La clase est inactiva. Haga clic para activarla.\",\r\n    reminders_enabled_tip: \"Los recordatorios estn activados.\",\r\n    reminders_disabled_tip: \"Los recordatorios estn desactivados. Haga clic para activarlos.\",\r\n    reminder_headings: \"Saludos desde la clase\",\r\n    reminder_subtitle: \"Acurdate de trabajar hoy en el desarrollo de tus habilidades.\",\r\n    enable_push_alert: 'Las notificaciones deben ser permitidas!',\r\n    minutes: \"minutos\",\r\n    reset_password_msg: \"Se ha enviado un enlace de restablecimiento de contrasea a su correo electrnico.\",\r\n    reset_password: \"Restablecer contrasea\",\r\n    no_notifications_warning: \"No recibir notificaciones de los profesores\"\r\n\r\n  },\r\n  en: {\r\n    professor: \"professor\",\r\n    student: \"student\",\r\n    link_language: \"Language\",\r\n    link_login: \"Login\",\r\n    link_register: \"Sign Up\",\r\n    link_logout: \"Logout\",\r\n    password: \"Password\",\r\n    enter_email: \"Enter valid email\",\r\n    enter_password: \"Enter a password\",\r\n    enter_curr_password: \"Enter current password\",\r\n    enter_new_password: \"Enter new password\",\r\n    invalid_email: \"This is not a valid email\",\r\n    invalid_password: \"Invalid password\",\r\n    password_instructions: \"The password must be between 6 and 40 characters\",\r\n    field_required: \"This field is required\",\r\n    new_account_title: \"New account created\",\r\n    new_account_text: \"Please, check your email to confirm registration.\",\r\n    close: \"Close\",\r\n    classrooms_title: \"Classrooms\",\r\n    stats_title: \"Your stats\",\r\n    add: \"Add\",\r\n    phase: \"Phase\",\r\n    questions: \"Questions\",\r\n    title: \"Title\",\r\n    new_classroom_title: \"New classroom\",\r\n    cancel: \"Cancel\",\r\n    create: \"Create\",\r\n    creation_failed: \"Could not create new item\",\r\n    classroom_created: \"Classroom created\",\r\n    confirm: \"Confirmation required\",\r\n    confirm_delete: \"Are you sure you want to remove?\",\r\n    confirm_delete_classroom:\r\n      \"Questions on this following classroom will also be erased: \",\r\n    confirm_delete_question:\r\n      \"Following question will be removed (answers will be lost): \",\r\n    confirm_activation: \"Are you sure you want to activate reminders?\",\r\n    confirm_activate_reminders:\r\n      'Enabling reminders will send __frequency__ notifications to students currently enrolled in this classroom in the next week.',\r\n    confirm_deactivation: \"Are you sure you want to disable reminders?\",\r\n    confirm_deactivate_reminders:\r\n        'Disabling reminders will cancel scheduled notifications that have not yet been sent to students.',\r\n    reminders_activated: \"Reminders activated\",\r\n    reminders_disabled: \"Reminders disabled\",\r\n    reminders_not_changed: \"Reminders could not be changed\",\r\n    no_reminder_without_enrolments: \"Reminders were not triggered as there were no students enrolled\",\r\n    ok: \"Ok\",\r\n    question_deleted: \"Question deleted\",\r\n    new_question_title: \"New question\",\r\n    none: \"None\",\r\n    \"Once per day\": \"Once per day\",\r\n    \"Once per week\": \"Once per week\",\r\n    \"Once per month\": \"Once per month\",\r\n    choose_question: \"Choose question\",\r\n    question_type_1: \"Self-regulation\",\r\n    question_type_2: \"Knowing your values\",\r\n    question_type_3: \"Setting goals\",\r\n    question_created: \"The question has been added\",\r\n    new_classroom_id: \"New classroom ID\",\r\n    select_previous: \"Select joined classroom\",\r\n    join: \"Join\",\r\n    submit: \"Submit\",\r\n    edit: \"edit\",\r\n    pending: \"pending\",\r\n    answered: \"answered\",\r\n    unanswered: \"unanswered\",\r\n    delete: \"Delete\",\r\n    delete_classroom: \"Delete classroom\",\r\n    delete_user: \"Remove account\",\r\n    del_user_instructions:\r\n      \"All your data and account will be erased. Please, enter your password to confirm operation.\",\r\n    user_deleted: \"The account has been removed. Closing session...\",\r\n    user_purged: \"Information has been purged\",\r\n    purge_user_instructions:\r\n      \"All your information will be purged. Please enter your password to confirm the operation\",\r\n    aswer_recorded: \"Your answer has been registered.\",\r\n    user_registered: \"New account created. You can open a session.\",\r\n    user_not_registered: \"Unable to create new account.\",\r\n    change_password: \"Change password\",\r\n    password_changed: \"Password updated. Session must be restarted.\",\r\n    error_400: \"Missing parameters: email, password or old password.\",\r\n    error_401: \"Unauthorized: Invalid email or password.\",\r\n    error_500: \"Internal Server Error: Unable to change password.\",\r\n    login_failed: \"Login failed. Please, verify your connection and access credentials.\",\r\n    from: \"From:\",\r\n    to: \"To:\",\r\n    unable_to_get_data: \"Unable to retrieve data from server.\",\r\n    reminder: \"Reminders\",\r\n    operation_failed: \"Unable to complete action. Please, try again later.\",\r\n    classroom_deleted: \"Classroom deleted.\",\r\n    email_already_exists: \"Email address already exists.\",\r\n    description: \"Description\",\r\n    deadline: \"Deadline\",\r\n    deadline_posterior: \"Deadline must be set in the future.\",\r\n    session_expired: \"The session has expired. You must log in again.\",\r\n    classroom_not_found: \"No classroom found with this code.\",\r\n    no_enrolments: \"You have not joined any classroom.\",\r\n    already_enroled: \"You have already joined this classroom.\",\r\n    no_questions: \"You haven't activated any questions yet for this class.\",\r\n    answer_recorded: \"Answer registered.\",\r\n    classroom_cannot_be_deleted: \"Classroom has not been deleted. There may be students already registered.\",\r\n    merit_time: \"Number of minutes to change answers\",\r\n    user_data_deleted: \"All your enrolments and answers have been removed.\",\r\n    remove_user_data: \"Erase enrolments and answers\",\r\n    created_on: \"Started on\",\r\n    history: \"History\",\r\n    response: \"Response\",\r\n    no_response: \"Unanswered\",\r\n    editable_until: \"editable until\",\r\n    no_question_types: \"All possible questions have already been added to this classroom.\",\r\n    new_question_notification: \"A new question has been added to this classroom:\",\r\n    classroom_active_tip: \"Classroom is activated. Click to make inactive.\",\r\n    classroom_inactive_tip: \"Classroom is inactive. Click to activate.\",\r\n    reminders_enabled_tip: \"Reminders are active.\",\r\n    reminders_disabled_tip: \"Reminders are disabled. Click to enable.\",\r\n    reminder_headings: \"Hello from classroom\",\r\n    reminder_subtitle: \"Remember to work on your skill building today.\",    \r\n    enable_push_alert: \"Push Notifications must be enabled!\",\r\n    minutes: \"minutes\",\r\n    reset_password_msg: \"Password reset link has been sent to your email.\",\r\n    reset_password: \"Reset password\",\r\n    no_notifications_warning: \"You will not receive any notifications from the Teachers\"\r\n  },\r\n  gr: {\r\n    professor: \"\",\r\n    student: \"\",\r\n    link_language: \"\",\r\n    link_login: \"\",\r\n    link_register: \"\",\r\n    link_logout: \"\",\r\n    password: \"\",\r\n    enter_email: \"  email\",\r\n    enter_password: \"  \",\r\n    enter_curr_password: \"Enter current password\",\r\n    enter_new_password: \"   \",\r\n    invalid_email: \"This is not a valid email\",\r\n    invalid_password: \"  email\",\r\n    password_instructions: \"       6  40 \",\r\n    field_required: \"    \",\r\n    new_account_title: \"  \",\r\n    new_account_text: \"  email      .\",\r\n    close: \"\",\r\n    classrooms_title: \" \",\r\n    stats_title: \"  \",\r\n    add: \"\",\r\n    phase: \"\",\r\n    questions: \"\",\r\n    title: \"\",\r\n    new_classroom_title: \"  \",\r\n    cancel: \"\",\r\n    create: \"\",\r\n    creation_failed: \"      \",\r\n    classroom_created: \"   \",\r\n    confirm: \" \",\r\n    confirm_delete: \"     ?\",\r\n    confirm_delete_classroom:\r\n      \"           : \",\r\n    confirm_delete_question:\r\n      \"     (   ): \",\r\n    confirm_activation: \" ?\",\r\n    confirm_activate_reminders:\r\n      '      __frequency__             .',\r\n    confirm_deactivation: \"       ;\",\r\n    confirm_deactivate_reminders:\r\n        '               .',\r\n    reminders_activated: \" \",\r\n    reminders_disabled: \" x\",\r\n    reminder_headings: \"     \",\r\n    reminder_subtitle: \"        .\",\r\n    ok: \"Ok\",\r\n    question_deleted: \"  \",\r\n    new_question_title: \" \",\r\n    none: \"None\",\r\n    \"Once per day\": \"   \",\r\n    \"Once per week\": \"   \",\r\n    \"Once per month\": \"   \",\r\n    choose_question: \" \",\r\n    question_type_1: \"Self-regulation\",\r\n    question_type_2: \"Knowing your values\",\r\n    question_type_3: \"Setting goals\",\r\n    question_created: \"The question has been added\",\r\n    new_classroom_id: \"  \",\r\n    select_previous: \" \",\r\n    join: \"\",\r\n    submit: \"\",\r\n    edit: \"\",\r\n    pending: \"\",\r\n    answered: \"\",\r\n    unanswered: \" \",\r\n    delete: \"\",\r\n    delete_classroom: \"  \",\r\n    delete_user: \" \",\r\n    del_user_instructions:\r\n      \"        .          .\",\r\n    user_deleted: \"   .  ...\",\r\n    user_purged: \"   \",\r\n    purge_user_instructions:\r\n      \"     .           \",\r\n    aswer_recorded: \"    .\",\r\n    user_registered: \"  .     .\",\r\n    user_not_registered: \"      .\",\r\n    change_password: \" \",\r\n    password_changed: \"  .     .\",\r\n    error_400: \" : email,      .\",\r\n    error_401: \" :   email   .\",\r\n    error_500: \"  :       .\",\r\n    login_failed: \"  . ,         .\",\r\n    from: \"From:\",\r\n    to: \"To:\",\r\n    // TRANSLATED WITH DEEPL:\r\n    unable_to_get_data: \"  \",\r\n    reminder: \"\",\r\n    operation_failed: \"     .   .\",\r\n    classroom_deleted: \"  .\",\r\n    email_already_exists: \"     \",\r\n    description: \"\",\r\n    deadline: \"\",\r\n    deadline_posterior: \"      \",\r\n    session_expired: \"    .    .\",\r\n    classroom_not_found: \"       .\",\r\n    no_enrolments: \"     .\",\r\n    already_enroled: \"      .\",\r\n    no_questions: \"         .\",\r\n    answer_recorded: \" .\",\r\n    classroom_cannot_be_deleted: \"     .      .\",\r\n    merit_time: \"      \",\r\n    user_data_deleted: \"        .\",\r\n    remove_user_data: \"   \",\r\n    created_on: \"\",\r\n    history: \"\",\r\n    response: \"\",\r\n    no_response: \" \",\r\n    editable_until: \" \",\r\n    no_question_types: \"          .\",\r\n    new_question_notification: \"       :\",\r\n    classroom_active_tip: \"   .       .\",\r\n    classroom_inactive_tip: \"   .      .\",\r\n    reminders_enabled_tip: \"   .\",\r\n    reminders_disabled_tip: \"   .      .\",\r\n    no_reminder_without_enrolments: \"        \",\r\n    enable_push_alert: \"  Push    !\",\r\n    minutes: \"\",\r\n    reset_password_msg: \"        email .\",\r\n    reset_password: \"  \",\r\n    no_notifications_warning: \"      \"\r\n  },\r\n  de: {\r\n    professor: \"professor\",\r\n    student: \"student\",\r\n    link_language: \"Taal\",\r\n    link_login: \"Login\",\r\n    link_register: \"Aanmelden\",\r\n    link_logout: \"Uitloggen\",\r\n    password: \"Wachtwoord\",\r\n    enter_email: \"Voer een geldig e-mailadres in\",\r\n    enter_password: \"Voer een wachtwoord in\",\r\n    enter_curr_password: \"Huidig wachtwoord invoeren\",\r\n    enter_new_password: \"Nieuw wachtwoord invoeren\",\r\n    invalid_email: \"Dit is geen geldig e-mailadres\",\r\n    invalid_password: \"Ongeldig wachtwoord\",\r\n    password_instructions: \"Het wachtwoord moet tussen de 6 en 40 karakters zijn\",\r\n    field_required: \"Dit veld is verplicht\",\r\n    new_account_title: \"Nieuw account aangemaakt\",\r\n    new_account_text: \"Controleer alstublieft uw e-mail om de registratie te bevestigen.\",\r\n    close: \"Sluiten\",\r\n    classroom_title: \"Klaslokalen\",\r\n    stats_title: \"Uw statistieken\",\r\n    add: \"Toevoegen\",\r\n    phase: \"Fase\",\r\n    questions: \"Vragen\",\r\n    title: \"Titel\",\r\n    new_classroom_title: \"Nieuw klaslokaal\",\r\n    cancel: \"Annuleren\",\r\n    create: \"Create\",\r\n    creation_failed: \"Kon geen nieuw item aanmaken\",\r\n    classroom_created: \"Klaslokaal aangemaakt\",\r\n    confirm: \"Bevestiging vereist\",\r\n    confirm_delete: \"Weet u zeker dat u wilt verwijderen?\",\r\n    confirm_delete_classroom:\r\n      \"Vragen over dit volgende klaslokaal zullen ook worden gewist: \",\r\n    confirm_delete_question:\r\n      \"Volgende vraag zal worden verwijderd (antwoorden gaan verloren): \",\r\n    confirm_activation: \"Herinneringen activeren?\",\r\n    confirm_activate_reminders:\r\n      'Herinneringen inschakelen stuurt de komende week __frequency__ meldingen naar studenten die momenteel in dit klaslokaal staan ingeschreven.',\r\n    confirm_deactivate_reminders:\r\n      'Door reminders uit te schakelen, worden geplande meldingen die nog niet naar studenten zijn verzonden, geannuleerd.',\r\n    reminders_activated: \"Herinneringen geactiveerd\",\r\n    reminders_disabled: \"Weet je zeker dat je herinneringen wilt uitschakelen?\",\r\n    reminders_not_activated: \"Herinneringen konden niet worden geactiveerd\",\r\n    reminder_headings: \"Hallo uit de klas\",\r\n    reminder_subtitle: \"Vergeet niet om vandaag aan je vaardigheden te werken.\",\r\n    no_reminder_without_enrolments: \"Herinneringen werden niet getriggerd omdat er geen studenten ingeschreven waren\",\r\n    ok: \"Ok\",\r\n    question_deleted: \"Vraag verwijderd\",\r\n    new_question_title: \"Nieuwe vraag\",\r\n    none: \"Geen\",\r\n    once_per_day: \"Eenmaal per dag\",\r\n    once_per_week: \"Eenmaal per week\",\r\n    once_per_month: \"Eenmaal per maand\",\r\n    choose_question: \"Kies vraag\",\r\n    question_type_1: \"Zelfregulatie\",\r\n    question_type_2: \"Je waarden kennen\",\r\n    question_type_3: \"Doelen stellen\",\r\n    question_created: \"De vraag is toegevoegd\",\r\n    new_classroom_id: \"ID van het nieuwe klaslokaal\",\r\n    select_previous: \"Selecteer lid geworden klaslokaal\",\r\n    join: \"Join\",\r\n    submit: \"Submit\",\r\n    edit: \"bewerken\",\r\n    pending: \"in afwachting van\",\r\n    answered: \"answered\",\r\n    unanswered: \"unanswered\",\r\n    delete: \"Delete\",\r\n    delete_classroom: \"Verwijder klaslokaal\",\r\n    delete_user: \"Verwijder account\",\r\n    del_user_instructions:\r\n      \"Al uw gegevens en account zullen worden gewist. Voer uw wachtwoord in om de bewerking te bevestigen.\",\r\n    user_deleted: \"Het account is verwijderd. Sessie sluiten...\",\r\n    user_purged: \"Informatie is gezuiverd\",\r\n    purge_user_instructions:\r\n      \"Al uw informatie zal worden gezuiverd. Voer uw wachtwoord in om de bewerking te bevestigen\",\r\n    aswer_recorded: \"Uw antwoord is geregistreerd.\",\r\n    user_registered: \"Nieuw account aangemaakt. U kunt een sessie openen.\", \r\n    user_not_registered: \"Niet in staat om nieuwe account aan te maken.\",\r\n    change_password: \"Wijzig wachtwoord\",\r\n    password_changed: \"Wachtwoord bijgewerkt. Sessie moet opnieuw worden opgestart.\",\r\n    error_400: \"Ontbrekende parameters: e-mail, wachtwoord of oude wachtwoord.\",\r\n    error_401: \"Niet geautoriseerd: Ongeldige e-mail of wachtwoord.\", \r\n    error_500: \"nterne serverfout: Wachtwoord kan niet worden gewijzigd.\",\r\n    login_failed: \"Inloggen mislukt. Gelieve uw verbinding en toegangsgegevens te verifiren.\",\r\n    from: \"Van:\",\r\n    to: \"Aan:\",\r\n    unable_to_get_data: \"Kan gegevens niet ophalen van server.\",\r\n    reminder: \"Herinneringen\",\r\n    operation_failed: \"Niet in staat om actie te voltooien. Probeer het later nog eens.\",\r\n    classroom_deleted: \"Klaslokaal verwijderd.\",\r\n    email_already_exists: \"Emailadres bestaat al.\",\r\n    description: \"Omschrijving\",\r\n    deadline: \"Deadline\",\r\n    deadline_posterior: \"Deadline moet in de toekomst worden gesteld\",\r\n    session_expired: \"De sessie is verlopen. U moet zich opnieuw aanmelden.\",\r\n    classroom_not_found: \"Geen klaslokaal gevonden met deze code.\",\r\n    no_enrolments: \"U bent niet lid geworden van een klaslokaal.\",\r\n    already_enroled: \"U bent al lid geworden van dit klaslokaal.\",\r\n    no_questions: \"Je hebt nog geen vragen geactiveerd voor deze klas.\",\r\n    answer_recorded: \"Antwoord geregistreerd.\",\r\n    classroom_cannot_be_deleted: \"Klaslokaal is niet verwijderd. Er zijn mogelijk al studenten ingeschreven.\",\r\n    medit_time: \"Aantal minuten om antwoorden te wijzigen\",\r\n    user_data_deleted: \"Al uw inschrijvingen en antwoorden zijn verwijderd.\",\r\n    remove_user_data: \"Inschrijvingen en antwoorden wissen\",\r\n    created_on: \"Gestart op\",\r\n    history: \"Geschiedenis\",\r\n    response: \"Reactie\",\r\n    no_response: \"Unanswered\",\r\n    editable_until: \"Bewerkbaar tot\",\r\n    no_question_types: \"Alle mogelijke vragen zijn al toegevoegd aan deze klas.\",\r\n    new_question_notification: \"Er is een nieuwe vraag toegevoegd aan dit klaslokaal:\",\r\n    classroom_active_tip: \"Klaslokaal is geactiveerd. Klik om inactief te maken.\",\r\n    classroom_inactive_tip: \"Klaslokaal is inactief. Klik om te activeren.\",\r\n    reminders_enabled_tip: \"Herinneringen zijn actief.\",\r\n    reminders_disabled_tip: \"Herinneringen zijn uitgeschakeld. Klik om in te schakelen.\",\r\n    enable_push_alert: \"Push-meldingen moeten ingeschakeld zijn!\",\r\n    minutes: \"minuten\",\r\n    reset_password_msg: \"Wachtwoord reset link is verzonden naar uw e-mail.\",\r\n    reset_password: \"Wachtwoord resetten\",\r\n    no_notifications_warning: \"U ontvangt geen meldingen van de Leraren\"\r\n  },\r\n};\r\n\r\nfunction _t(k) {\r\n  return msg[window.$lang || \"en\"][k];\r\n}\r\n\r\nexport default _t;\r\n","import axios from \"axios\";\r\nimport AuthService from \"./auth.service\";\r\nimport config from \"../config\";\r\n// import { professor_data, student_data, classroom_data } from \"./fake-content\";\r\nimport _t from \"./i18n.service\";\r\n// import { toServerTime } from \"./time.service\";\r\n// import OneSignal from 'react-onesignal';\r\n\r\nclass BackendService {\r\n  bearerConfig() {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const config = {\r\n      headers: { Authorization: `Bearer ${user.jwt}` },\r\n    };\r\n    return config;\r\n  }\r\n\r\n  updateJWT(res) {\r\n    if (res && res.data && res.data.jwt) {\r\n      const user = {\r\n        ...JSON.parse(localStorage.getItem(\"user\")),\r\n        jwt: res.data.jwt,\r\n      };\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n    }\r\n  }\r\n\r\n  changePassword(email, password, new_password) {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post(\r\n          config.API_URL + \"/change-password\",\r\n          {\r\n            email: email,\r\n            password: password,\r\n            newPassword: new_password,\r\n          },\r\n          this.bearerConfig()\r\n        )\r\n        .then((res) => {\r\n          this.updateJWT(res);\r\n          resolve({ message: _t(\"password_changed\") });\r\n        })\r\n        .catch((err) => {\r\n          reject({ message: _t(\"error_\" + err.response.status) });\r\n        });\r\n    });\r\n  }\r\n\r\n  async getSettings() {\r\n    //console.log(\"Getting settings\");\r\n\r\n    const settings = await axios\r\n      .get(config.API_URL + \"/question-settings\")\r\n      .then(res => res.data.settings[0])\r\n      .catch(err => { throw err });\r\n\r\n    const options = await axios\r\n      .get(config.API_URL + \"/question-options\")\r\n      .then(res => res.data.options)\r\n      .catch(err => { throw err });\r\n\r\n    return { ...settings, question_types: options };\r\n  }\r\n\r\n  getClassrooms() {\r\n    return axios\r\n      .get(config.API_URL + \"/classrooms/user\", this.bearerConfig())\r\n      .then((res) => {\r\n        let classrooms = res.data.classrooms;\r\n        if (classrooms.length > 0) {\r\n          classrooms = classrooms.sort((a, b) => b.id - a.id); // sort: newests first\r\n        }\r\n        return classrooms;\r\n      })\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  resetPassword(email) {\r\n    return axios\r\n      .post(config.API_URL + \"/forgot-password\", { email: email })\r\n      .then(res => res)\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  // --------------------------------------------------------------------------\r\n  // PROFESSOR API CALLS\r\n  // --------------------------------------------------------------------------\r\n\r\n  async getProfessorQuestions(code) {\r\n    return axios\r\n      .get(\r\n        config.API_URL + \"/questions/\" + code,\r\n        this.bearerConfig()\r\n      )\r\n      .then(async (res) => {\r\n        let questions = res.data.questions;\r\n        if (questions.length > 0) {\r\n          questions = questions.sort((a, b) => b.Question_id - a.Question_id);\r\n          for (let i = 0; i < questions.length; i++) {\r\n            const answers_count = await axios\r\n              .get(config.API_URL + `/answers/count/${questions[i].Question_id}`)\r\n              .then(res => res.data.total_answers[0].count);\r\n            questions[i].answers_count = answers_count;\r\n          }\r\n        }\r\n        return questions;\r\n      })\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  newClassroom(classroom_info) {\r\n    return axios\r\n      .post(\r\n        config.API_URL + \"/classroom/create\",\r\n        {\r\n          \"title\": classroom_info.title,\r\n          \"phase\": classroom_info.phase,\r\n          \"reminder\": String(classroom_info.reminder),\r\n          \"state\": \"disabled\"\r\n        },\r\n        this.bearerConfig()\r\n      )\r\n      .then(res => res.data)\r\n      .catch(err => { throw err });\r\n  }\r\n\r\n  delClassroom(code) {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .delete(\r\n          config.API_URL + \"/classroom/delete/\" + code,\r\n          this.bearerConfig()\r\n        )\r\n        .then((res) => {\r\n          this.updateJWT(res);\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  newQuestion(question_data) {\r\n    return axios\r\n      .post(\r\n        config.API_URL + \"/question/create\",\r\n        question_data,\r\n        this.bearerConfig()\r\n      )\r\n      .then((res) => res.data)\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  notifyNewQuestion(classroom) {\r\n    return axios\r\n    .post(\r\n      config.API_URL + \"/web-push\",\r\n      {\r\n        classroomCode: classroom.code.toUpperCase(),\r\n        headings: _t('new_question_title'),\r\n        subtitle: _t('new_question_notification') + ` ${classroom.title} (${classroom.code.toUpperCase()})`,\r\n        click_url: 'https://' + window.location.host + (window.location.path ? window.location.path : '')\r\n      },\r\n      this.bearerConfig()\r\n    )\r\n    .then(() => classroom)\r\n    .catch(err => err);\r\n  }\r\n\r\n  delQuestion(id) {\r\n    return axios\r\n      .delete(\r\n        config.API_URL + `/question/delete/ ${id}`,\r\n        this.bearerConfig()\r\n      )\r\n      .then((res) => {\r\n        this.updateJWT(res);\r\n        return res;\r\n      })\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  updateClassroomVisibility(code, state) {\r\n    const user = AuthService.getCurrentUser();\r\n    return axios\r\n      .put(config.API_URL + `/classroom/change-state/${user.email}/${code}/${state}`, {}, this.bearerConfig());\r\n  }\r\n\r\n  updateClassroomReminderStatus(classroom, reminder_status) {\r\n    // classroomCode, headings, subtitle, campaign, topic, click_url \r\n    const user = AuthService.getCurrentUser();\r\n    return axios\r\n      .put(config.API_URL + `/classroom/change-reminder-status/${user.email}/${classroom.code}/${reminder_status}`, {}, this.bearerConfig())\r\n      .then((res) => axios.post(\r\n        config.API_URL + \"/web_push_reminder\",\r\n        {\r\n          classroomCode: classroom.code.toUpperCase(),\r\n          headings: _t('reminder_headings') + ` ${classroom.title} (${classroom.code.toUpperCase()})`,\r\n          subtitle: _t('reminder_subtitle'),\r\n          click_url: 'https://' + window.location.host + (window.location.path ? window.location.path : '')\r\n        },\r\n        this.bearerConfig()\r\n      ))\r\n      .catch((err) => { throw err });\r\n  }\r\n\r\n  // --------------------------------------------------------------------------\r\n  // STUDENT API CALLS\r\n  // --------------------------------------------------------------------------\r\n \r\n  getStudentQuestions(code) {\r\n    const user = AuthService.getCurrentUser();\r\n    return axios\r\n      .get(config.API_URL + \"/questions/\" + code, this.bearerConfig())\r\n      .then(async res => {\r\n        let questions = res.data.questions;\r\n        if (questions.length > 0) {\r\n          questions = questions.sort((a, b) => b.Question_id - a.Question_id);\r\n        }\r\n        for (let i = 0; i < questions.length; i++) {\r\n          let question = questions[i];\r\n          let answer = await axios.get(config.API_URL + \"/answer/\" + user.email + \"/\" + question.Question_id, this.bearerConfig());\r\n          if (answer.data.response) {\r\n            question.response = answer.data.response;\r\n          }\r\n            \r\n          if (answer.data.results) {\r\n            const last_response = answer.data.results.pop();\r\n            question.response = last_response.selected_option;\r\n            question.merit_time = new Date (last_response.merit_time);\r\n          }\r\n          const deadline = new Date(question.deadline);\r\n          const answered = question.response !== -1;\r\n          const deadline_passed = new Date() > deadline;\r\n\r\n          if (answered) {\r\n            const merit_time_passed = new Date() > question.merit_time;\r\n            question.state = deadline_passed ? \"answered\" : merit_time_passed ? \"answered\" : \"editable\";\r\n          } else {\r\n            question.state = deadline_passed ? \"unanswered\" : \"pending\";\r\n          }\r\n\r\n          questions[i] = question;\r\n        }\r\n        return questions;\r\n      });\r\n  }\r\n\r\n  subscribeToClassroom(code, email) {\r\n    return axios\r\n      .post(\r\n        config.API_URL + \"/enrolment/create\",\r\n        {\r\n          classroomCode: code.toUpperCase(),\r\n          userEmail: email\r\n        },\r\n        this.bearerConfig()\r\n      )\r\n      .then((res) => res.data.enrolment)\r\n      .catch((err) => {\r\n        if (err.response && err.response.data) {\r\n          throw new Error(err.response.data.message);\r\n        } else {\r\n          //console.log(\"ERROR\", err);\r\n          throw new Error();\r\n        }\r\n      });\r\n  }\r\n\r\n  async subscribeToNotifications(classroom_code, user_id) {\r\n    if (!user_id) {\r\n      throw new Error(_t(\"no_notifications_warning\"));\r\n    }\r\n    return axios\r\n      .put(\r\n        config.API_URL + \"/device\",\r\n        {\r\n          classroomCode: classroom_code,\r\n          player_id: user_id\r\n        },\r\n        this.bearerConfig()\r\n      )\r\n      .then((res) => res)\r\n      .catch((err) => {\r\n        //console.log(err); \r\n        throw new Error(err.response.data.message)\r\n      });\r\n  }\r\n\r\n  unsubscribeFromNotifications(classroom_code, user_id) {\r\n    /*return new Promise((res, rej) => {\r\n      console.log(classroom_code, user_id);\r\n      res();\r\n    });*/\r\n\r\n    return axios\r\n      .put(\r\n        config.API_URL + \"/device/classroom-unsubscribe\",\r\n        {\r\n          classroomCode: classroom_code,\r\n          player_id: user_id\r\n        },\r\n        this.bearerConfig()\r\n      )      \r\n      .then((res) => res)\r\n      .catch((err) => ({ status: err.response.status }));\r\n  }\r\n\r\n  delFromNotificationServer(user_id) {\r\n    return axios\r\n      .delete(\r\n        config.API_URL + \"/device/delete\",\r\n        { \r\n          data: {\r\n            player_id: user_id\r\n          },\r\n          ...this.bearerConfig()\r\n        },\r\n        \r\n      )\r\n      .then((res) => res);\r\n  }\r\n\r\n  newAnswer(option, question_id) {\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    return axios\r\n      .post(\r\n        config.API_URL + \"/answer/submit\",\r\n        {\r\n          UserId: user.user_id,\r\n          QuestionId: question_id,\r\n          selected_option: option,\r\n        },\r\n        this.bearerConfig()\r\n      )\r\n      .then(() => { })\r\n      .catch(err => { throw err });\r\n  }\r\n\r\n  updateAnswer(option, question_id) {\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    return axios\r\n      .put(\r\n        config.API_URL + `/answer/change/${user.email}/${question_id}/${option}`, \r\n        {}, this.bearerConfig()\r\n      );\r\n  }\r\n\r\n  purgeUser(email, password) {\r\n    return axios\r\n      .delete(config.API_URL + \"/purge-data\", {\r\n        data: {\r\n          email: email,\r\n          password: password,\r\n        },\r\n        ...this.bearerConfig(),\r\n      })\r\n      .catch(err => {\r\n        if (err.response && err.response.data) {\r\n          if (err.response.data.message === 'Invalid email/password') {\r\n            throw new Error(_t('error_401'));\r\n          }\r\n        }\r\n        throw new Error(_t('operation_failed'));\r\n      });      \r\n  }\r\n\r\n  delUser(email, password) {\r\n    return axios\r\n      .delete(config.API_URL + \"/user/delete\", {\r\n        data: {\r\n          email: email,\r\n          password: password,\r\n        },\r\n        ...this.bearerConfig(),\r\n      })\r\n      .then(() => ({ message: _t(\"user_deleted\") }))\r\n      .catch((err) => {\r\n        if (err.response && err.response.data) {\r\n          if (err.response.data.message === 'Invalid email/password') {\r\n            throw new Error(_t('error_401'));\r\n          }\r\n        }\r\n        throw new Error(_t('operation_failed'));\r\n      });   \r\n  }\r\n}\r\n\r\nexport default new BackendService();\r\n","import React from \"react\";\n\nexport default function Unauthorized () {\n    return (<div className=\"alert-danger text-center\">Access denied</div>);\n}","import React from 'react';\r\n\r\nfunction Language(props) {\r\n\r\n    let languages = [\r\n        { lang: 'English', code: 'en' },\r\n        { lang: 'Espaol', code: 'es' },\r\n        { lang: '', code: 'gr' },\r\n        { lang: 'Dutch', code: 'de' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"btn-group text-center col-12 mt-3\" role=\"group\">\r\n            {languages.map((l) => (\r\n                <button style={{ fontWeight: l.code === window.$lang ? 'bold' : 'lighter', textDecoration: 'none' }}\r\n                    className=\"col-4 btn btn-link\"\r\n                    type=\"button\"\r\n                    key={l.code}\r\n                    onClick={() => props.onClick(l.code)}\r\n                >\r\n                    {l.lang}\r\n                </button>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Language;","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\n//import AuthService from \"../services/fake_auth.service\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport { isEmail } from \"validator\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport _t from \"../services/i18n.service\";\r\nimport Language from \"./language.component\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport config from \"../config\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = (value) => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"invalid_email\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleLogin(e) {\r\n    const { navigate } = this.props;\r\n\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      loading: true,\r\n    });\r\n\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      AuthService.login(this.state.email, this.state.password).then(\r\n        (user) => {\r\n          this.props.cb();\r\n          if (user.role === \"ROLE_PROFESSOR\") {\r\n            navigate(config.BASE_PATH+\"/prof\", { replace: true });\r\n          } else {\r\n            navigate(config.BASE_PATH+\"/stu\", { replace: true });\r\n          }\r\n        },\r\n        (err) => {\r\n          const err_msg = err.response.data.message;\r\n          if (err_msg === 'Invalid email/password') {\r\n            this.setState({\r\n              loading: false,\r\n              message: _t('login_failed'),\r\n            });\r\n          } else {\r\n            this.setState({\r\n              loading: false,\r\n              message: err_msg,\r\n            });\r\n\r\n          }\r\n        });\r\n    } else {\r\n      this.setState({\r\n        loading: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"center-form\">\r\n        <div>\r\n          <Form\r\n            onSubmit={this.handleLogin}\r\n            ref={(c) => {\r\n              this.form = c;\r\n            }}\r\n          >\r\n            <div className=\"form-group\">\r\n              <div className=\"form-group mt-2\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"email\"\r\n                  value={this.state.email}\r\n                  onChange={this.onChangeEmail}\r\n                  validations={[required, vemail]}\r\n                />\r\n              </div>\r\n              <div className=\"form-group mt-2\">\r\n                <label htmlFor=\"password\">{_t(\"password\")}</label>\r\n                <Input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  name=\"password\"\r\n                  value={this.state.password}\r\n                  onChange={this.onChangePassword}\r\n                  validations={[required]}\r\n                />\r\n              </div>\r\n              <div className=\"form-group mt-2 text-center\">\r\n                <button\r\n                  className=\"btn btn-success btn-block\"\r\n                  disabled={this.state.loading}\r\n                >\r\n                  {this.state.loading && (\r\n                    <span className=\"spinner-border spinner-border-sm\"></span>\r\n                  )}\r\n                  <span className=\"ms-1\">{_t(\"link_login\")}</span>\r\n                </button>\r\n              </div>\r\n              {this.state.message && (\r\n                <div className=\"form-group\">\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {this.state.message}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <CheckButton\r\n                style={{ display: \"none\" }}\r\n                ref={(c) => {\r\n                  this.checkBtn = c;\r\n                }}\r\n              />\r\n            </div>\r\n          </Form>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <LinkContainer to={config.BASE_PATH + \"/reset-password\"}>\r\n            <Nav.Link>\r\n              <i className=\"bi bi-key\"></i> {_t(\"reset_password\")}\r\n            </Nav.Link>\r\n          </LinkContainer>\r\n        </div>\r\n        <Language onClick={this.props.onChangeLang} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Wrap and export\r\nexport default function(props) {\r\n  const navigate = useNavigate();\r\n\r\n  return <Login {...props} navigate={navigate} />;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { isEmail } from \"validator\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport _t from \"../services/i18n.service\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Language from \"./language.component\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = (value) => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"invalid_email\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vpassword = (value) => {\r\n  if (value.length < 6 || value.length > 40) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"password_instructions\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nfunction RegisterOk() {\r\n  let navigate = useNavigate();\r\n\r\n  return (\r\n    <div>\r\n      <h1>{_t(\"new_account_title\")}</h1>\r\n      <p>{_t(\"user_registered\")}</p>\r\n      <button\r\n        className=\"btn btn-primary btn-block\"\r\n        onClick={() => navigate(\"/login\")}\r\n      >\r\n        {_t(\"close\")}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleRegister = this.handleRegister.bind(this);\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.onChangeRole = this.onChangeRole.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      successful: false,\r\n      message: \"\",\r\n      role: \"ROLE_STUDENT\",\r\n    };\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeRole(e) {\r\n    this.setState({\r\n      role: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleRegister(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      successful: false,\r\n    });\r\n\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      AuthService.register(\r\n        this.state.email,\r\n        this.state.password,\r\n        this.state.role\r\n      ).then(\r\n        (res) => {\r\n          this.setState({\r\n            message: _t('user_registered'),\r\n            successful: true,\r\n          });\r\n      })\r\n      .catch(\r\n        (err) => {\r\n          //console.log(err);\r\n          const err_msg = err.response.data.message;\r\n          if (err_msg === 'Email address already exists.') {\r\n              this.setState({\r\n                message: _t('email_already_exists'),\r\n                successful: false,\r\n              });\r\n          } else {\r\n            this.setState({\r\n              message: err_msg,\r\n              successful: false,\r\n            });\r\n          }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {!this.state.successful ? (\r\n          <div className=\"center-form\">\r\n            <div className=\"\">\r\n              <Form\r\n                onSubmit={this.handleRegister}\r\n                ref={(c) => {\r\n                  this.form = c;\r\n                }}\r\n              >\r\n                {!this.state.successful && (\r\n                  <div>\r\n                    <div className=\"form-group mt-2\">\r\n                      <label htmlFor=\"email\">{_t(\"enter_email\")}</label>\r\n                      <Input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"email\"\r\n                        value={this.state.email}\r\n                        onChange={this.onChangeEmail}\r\n                        validations={[required, vemail]}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group mt-2\">\r\n                      <label htmlFor=\"password\">{_t(\"enter_password\")}</label>\r\n                      <Input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        name=\"password\"\r\n                        value={this.state.password}\r\n                        onChange={this.onChangePassword}\r\n                        validations={[required, vpassword]}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group mt-2 row\">\r\n                      <label htmlFor=\"student\" className=\"col-6 text-center\">\r\n                        {_t(\"student\")}\r\n                      </label>\r\n                      <label htmlFor=\"professor\" className=\"col-6 text-center\">\r\n                        {_t(\"professor\")}\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        id=\"student\"\r\n                        className=\"col-6\"\r\n                        name=\"role\"\r\n                        value=\"ROLE_STUDENT\"\r\n                        defaultChecked\r\n                        onChange={this.onChangeRole}\r\n                      />\r\n\r\n                      <input\r\n                        type=\"radio\"\r\n                        id=\"professor\"\r\n                        className=\"col-6\"\r\n                        name=\"role\"\r\n                        value=\"ROLE_PROFESSOR\"\r\n                        onChange={this.onChangeRole}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group mt-2 text-center\">\r\n                      <button className=\"btn btn-success btn-block\">\r\n                        {_t(\"link_register\")}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {this.state.message && (\r\n                  <div className=\"form-group\">\r\n                    <div\r\n                      className={\r\n                        this.state.successful\r\n                          ? \"alert alert-success\"\r\n                          : \"alert alert-danger\"\r\n                      }\r\n                      role=\"alert\"\r\n                    >\r\n                      {this.state.message}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <CheckButton\r\n                  style={{ display: \"none\" }}\r\n                  ref={(c) => {\r\n                    this.checkBtn = c;\r\n                  }}\r\n                />\r\n              </Form>\r\n            </div>\r\n            <Language onClick={this.props.onChangeLang} />\r\n          </div>\r\n        ) : (\r\n          <RegisterOk />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport BackendService from \"../services/backend.service\";\r\nimport { isEmail } from \"validator\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport _t from \"../services/i18n.service\";\r\nimport Language from \"./language.component\";\r\nimport config from \"../config\";\r\n\r\nconst required = value => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t('field_required')}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = value => {\r\n    if (!isEmail(value)) {\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {_t('invalid_email')}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\nclass ResetPassword extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.state = {\r\n      email: \"\",\r\n      loading: false,\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value\r\n    });\r\n  }\r\n\r\n\r\n  handleReset(e) {\r\n\r\n    const { navigate } = this.props;\r\n\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      loading: true\r\n    });\r\n   \r\n    this.form.validateAll();     \r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      BackendService.resetPassword(this.state.email).then(\r\n        res => {\r\n            this.setState({ message: _t('reset_password_msg')})\r\n            setTimeout( () => navigate(config.BASE_PATH+\"/login\", {replace: true}), 4000);\r\n        },\r\n        error => {\r\n          const resMessage =\r\n            (error.response &&\r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n          this.setState({\r\n            loading: false,\r\n            message: resMessage\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"center-form\">\r\n        <div>\r\n\r\n          <Form\r\n            onSubmit={this.handleReset}\r\n            ref={c => {\r\n              this.form = c;\r\n            }}>\r\n            \r\n            \r\n            <div className=\"form-group\">\r\n            \r\n            {!this.state.message && (\r\n            <>\r\n            <div className=\"form-group mt-2\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <Input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"email\"\r\n                value={this.state.email}\r\n                onChange={this.onChangeEmail}\r\n                validations={[required, vemail]}\r\n                />\r\n            </div>\r\n            <div className=\"form-group mt-2 text-center\">\r\n              <button\r\n                className=\"btn btn-success btn-block\"\r\n                disabled={this.state.loading}\r\n              >\r\n                {this.state.loading && (\r\n                  <span className=\"spinner-border spinner-border-sm\"></span>\r\n                )}\r\n                <span className=\"ms-1\">{_t('reset_password')}</span>\r\n              </button>\r\n            </div>\r\n            </>\r\n            )}\r\n\r\n            {this.state.message && (\r\n              <div className=\"form-group\">\r\n                <div className=\"alert alert-info\" role=\"alert\">\r\n                  {this.state.message}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <CheckButton\r\n              style={{ display: \"none\" }}\r\n              ref={c => {\r\n                this.checkBtn = c;\r\n              }}\r\n            />\r\n            </div>\r\n          </Form>          \r\n        </div>\r\n        <Language onClick={this.props.onChangeLang}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Wrap and export\r\nexport default function(props) {\r\n    const navigate = useNavigate();\r\n  \r\n    return <ResetPassword {...props} navigate={navigate} />;\r\n}","import React, { useState } from \"react\";\r\nimport { Outlet }from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { Container, Navbar, Nav, NavDropdown } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n//import config from \"../config\";\r\nimport _t from \"../services/i18n.service\";\r\nimport logo from \"../assets/LevelUP_128_white.png\";\r\nimport ScrollToTop from \"react-scroll-to-top\";\r\nimport config from \"../config\";\r\n\r\nfunction Layout(props) {\r\n\r\n  const user = props.user;\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  return (\r\n    <div>\r\n      <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\" fixed=\"top\" expanded={expanded}>\r\n        <Container id=\"container\">\r\n          <Navbar.Brand href={config.BASE_PATH + \"/\"}>\r\n            <img alt=\"\" src={logo} className=\"d-inline-block align-top\" />\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" onClick={() => setExpanded(!expanded)} />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"ms-5\" onClick={() => setExpanded(false)}>\r\n              \r\n              {(user.role === \"ROLE_PROFESSOR\" ||\r\n                user.role === \"ROLE_STUDENT\") && (\r\n                <LinkContainer to=\"/\">\r\n                  <Nav.Link>\r\n                    <i className=\"bi bi-easel\"></i> {_t(\"classrooms_title\")}\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n              )}\r\n\r\n              {user.role === \"ROLE_STUDENT\" && (\r\n                <>\r\n                  {/*\r\n                  <LinkContainer to=\"/stu-stats\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-clipboard-data\"></i>{\" \"}\r\n                      {_t(\"stats_title\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n                  */}\r\n                  \r\n                  <LinkContainer to=\"del-user\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-trash\"></i> {_t(\"delete_user\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n\r\n                  <LinkContainer to=\"purge-user\">\r\n                    <Nav.Link>\r\n                    <i className=\"bi bi-eraser\"></i> {_t(\"remove_user_data\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>                  \r\n                </>\r\n              )}\r\n            </Nav>\r\n            <Nav className=\"ms-auto\"  onClick={() => setExpanded(false)}></Nav>\r\n            <Nav className=\"ms-5\"  onClick={() => setExpanded(false)}>\r\n              <NavDropdown.Divider />\r\n              {user.email ? (\r\n                <>\r\n                  <LinkContainer to=\"lang\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-translate\"></i> {_t(\"link_language\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n\r\n                  <LinkContainer to=\"chgpass\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-key\"></i> {_t(\"change_password\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n\r\n                  <Nav.Link onClick={props.logOut}>\r\n                    <i className=\"bi bi-box-arrow-left\"></i> {_t(\"link_logout\")}\r\n                  </Nav.Link>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <LinkContainer to=\"login\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-box-arrow-in-right\"></i>{\" \"}\r\n                      {_t(\"link_login\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n\r\n                  <LinkContainer to=\"register\">\r\n                    <Nav.Link>\r\n                      <i className=\"bi bi-person-plus\"></i>{\" \"}\r\n                      {_t(\"link_register\")}\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n                </>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n\r\n      <div className=\"container-fluid mx-1 mt-5\">\r\n        <ScrollToTop smooth />\r\n        <div className=\"mx-auto mt-5 row\">\r\n          <p> </p>\r\n        </div>\r\n        <Outlet />\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Layout;\r\n","import React, { useState } from \"react\";\r\nimport backendService from \"../../services/backend.service\";\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nexport default function ClassroomCard(props) {\r\n  let classroom = props.classroom;\r\n\r\n  const [visible, setVisible] = useState(classroom.state === \"active\");\r\n  const enabled = props.reminderStatus;\r\n\r\n  function toggleVisible() {\r\n    const state = props.classroom.state === \"active\" ? \"disabled\" : \"active\";\r\n    props.classroom.state = state;\r\n    backendService.updateClassroomVisibility(props.classroom.code, state)\r\n      .then(() => { setVisible(!visible) });\r\n  }\r\n  \r\n  /*\r\n  function toggleReminder() {\r\n    const reminder_status = props.classroom.reminder_status === 1 ? 0 : 1;\r\n    //console.log(reminder_status);\r\n    props.classroom.reminder_status = reminder_status;\r\n    props.onClickActivateReminders(classroom);\r\n  }*/\r\n\r\n  return (\r\n    <div className=\"card mt-4\" onClick={() => !props.isHeader && props.goToClassroom(classroom)}>\r\n      <div className={\"card-header \" + (visible ? \"bg-primary text-light\" : \"bg-light\")}>\r\n        <div className=\"row\">\r\n          <div className=\"col-4 d-flex justify-content-start\">\r\n            <b>{classroom.code.toUpperCase()}</b>\r\n          </div>\r\n          <div className=\"col-4 d-flex justify-content-center\">\r\n            {_t(\"phase\")} {classroom.phase}\r\n          </div>\r\n          <div className=\"col-4 d-flex justify-content-end\">\r\n            {classroom.students_count} <i className=\"bi bi-person-fill ms-1\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8\">\r\n            <h5 className=\"card-title d-flex justify-content-start\">\r\n              <span className=\"mx-2\">\r\n                <i className=\"bi bi-easel\"></i>\r\n              </span>{\" \"}\r\n              {classroom.title}\r\n            </h5>\r\n          </div>\r\n          {props.isHeader === true && (\r\n            <div className=\"col-4 d-flex justify-content-end\">\r\n              <button\r\n                className={visible ? \"bi bi-eye btn btn-primary\" : \"bi bi-eye-slash btn btn-light\"}\r\n                onClick={toggleVisible}\r\n                title={visible ? _t(\"classroom_active_tip\") : _t(\"classroom_inactive_tip\")}\r\n              ></button>\r\n              <span className=\"ms-2\"></span>\r\n              {props.classroom.phase === 2 && (<button\r\n                className={enabled ? \"bi bi-bell btn btn-warning\" : \"bi bi-bell-slash btn btn-light\"}\r\n                onClick={props.showConfirmReminders}\r\n                title={enabled ? _t(\"reminders_enabled_tip\") : _t(\"reminders_disabled_tip\")}\r\n              ></button>)}\r\n              <span className=\"ms-2\"></span>\r\n              <button\r\n                className=\"bi bi-trash btn btn-danger\"\r\n                onClick={props.onClickDel}\r\n              ></button>\r\n            </div>\r\n          )}\r\n          {props.isHeader === false && (\r\n            <div className=\"col-4 d-flex justify-content-end\">\r\n              <i className=\"bi bi-chevron-right\"></i>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport Select from \"react-validation/build/select\";\nimport CheckButton from \"react-validation/build/button\";\nimport BackendService from \"../../services/backend.service\";\nimport _t from \"../../services/i18n.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nclass NewClassroom extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCreate = this.handleCreate.bind(this);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangePhase = this.onChangePhase.bind(this);\n    this.onChangeReminder = this.onChangeReminder.bind(this);\n\n    this.state = {\n      title: \"\",\n      phase: 1,\n      reminder: 1,\n\n      successful: false,\n      message: \"\",\n    };\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value,\n    });\n  }\n\n  onChangePhase(e) {\n    this.setState({\n      phase: e.target.value,\n    });\n  }\n\n  onChangeReminder(e) {\n    this.setState({  \n      reminder: e.target.value,\n    });\n  }\n\n  handleCreate(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      BackendService.newClassroom({\n        title: this.state.title,\n        phase: this.state.phase,\n        reminder: this.state.reminder\n    }).then(\n        (response) => {\n          this.setState({\n            message: _t(\"classroom_created\"),\n            successful: true,\n          });\n          setTimeout(() => this.props.onNewClassroom(response), 1000);\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          this.setState({\n            successful: false,\n            message: resMessage,\n          });\n        }\n      );\n    }\n  }\n\n  render() {\n    const reminder_options = window.$settings.reminder_options;\n\n    return (\n      <div>\n        <div className=\"center-form\">\n          <div className=\"\">\n            <h5>{_t(\"new_classroom_title\")}</h5>\n            <Form\n              onSubmit={(e) => {\n                e.preventDefault();\n              }}\n              ref={(c) => {\n                this.form = c;\n              }}\n            >\n              {!this.state.successful && (\n                <div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"title\">{_t(\"title\")}</label>\n                    <Input\n                      type=\"text\"\n                      className=\"form-control\"\n                      name=\"title\"\n                      value={this.state.title}\n                      onChange={this.onChangeTitle}\n                      validations={[required]}\n                    />\n                  </div>\n\n                  <div className=\"form-group mt-2 mb-3\">\n                    <div className=\"form-check\">\n                      <input\n                        type=\"radio\"\n                        id=\"phase 1\"\n                        name=\"phase\"\n                        value=\"1\"\n                        className=\"form-check-input\"\n                        onChange={this.onChangePhase}\n                        defaultChecked\n                      />\n                      <label htmlFor=\"phase 1\" className=\"form-check-label\">\n                        {_t(\"phase\")} 1\n                      </label>\n                    </div>\n                    <div className=\"form-check\">\n                      <input\n                        type=\"radio\"\n                        id=\"phase 2\"\n                        name=\"phase\"\n                        value=\"2\"\n                        className=\"form-check-input\"\n                        onChange={this.onChangePhase}\n                      />\n                      <label htmlFor=\"phase 2\" className=\"form-check-label\">\n                        {_t(\"phase\")} 2\n                      </label>\n                    </div>\n                  </div>\n\n                  {this.state.phase === '2' && (<div className=\"form-group mt-2\">\n                    <label className=\"form-label\">{_t(\"reminder\")}:</label>\n                    <div className=\"col-12 text-center\">\n                      <Select\n                        name=\"reminder\"\n                        value={this.state.reminder}\n                        className=\"form-select\"\n                        validations={[]}\n                        onChange={this.onChangeReminder}\n                      >\n                        {Object.keys(reminder_options).map((k, i) => (\n                          <option key={i} value={k} name=\"reminder\">\n                            {reminder_options[k]}\n                          </option>\n                        ))}\n                      </Select>\n                    </div>\n                  </div>)}\n\n                  <div className=\"form-group mt-2 row\">\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-secondary btn-block\"\n                        onClick={this.props.onCancelNewClassroom}\n                      >\n                        {_t(\"cancel\")}\n                      </button>\n                    </div>\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-success btn-block\"\n                        onClick={this.handleCreate}\n                      >\n                        {_t(\"create\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {this.state.message && (\n                <div className=\"form-group\">\n                  <div\n                    className={\n                      this.state.successful\n                        ? \"alert alert-success\"\n                        : \"alert alert-danger\"\n                    }\n                    role=\"alert\"\n                  >\n                    {this.state.message}\n                  </div>\n                </div>\n              )}\n              <CheckButton\n                style={{ display: \"none\" }}\n                ref={(c) => {\n                  this.checkBtn = c;\n                }}\n              />\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NewClassroom;\n","export function toLocalTime (timeStr) {\r\n    return new Date(timeStr + \":00.000Z\");\r\n}\r\n\r\nexport function toServerTime(dateStr) {\r\n    // convert date string to a time stamp at the end of the day according to the local time zone\r\n    return (new Date(dateStr+\"T23:59\")).toISOString().slice(0,16);\r\n};\r\n\r\nexport function toLocalTimeString (date) {\r\n    return date.toLocaleString({}, {dateStyle: \"short\", timeStyle: \"short\"});\r\n}","import React from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport { toLocalTimeString } from \"../../services/time.service\";\r\n\r\nfunction QuestionCard(props) {\r\n  let question = props.question;\r\n\r\n  const deadline_date = new Date(question.deadline);\r\n  const deadline = toLocalTimeString(deadline_date);\r\n  const created_on_date = new Date(question.created_on);\r\n  const created_on = toLocalTimeString(created_on_date);\r\n\r\n  return (\r\n    <div className=\"card row mt-4 mx-4\">\r\n      <div className=\"card-header\">\r\n        <div className=\"row\">\r\n          <div className=\"col-6\"><i className=\"bi bi-question-circle\"></i>{' '}{question.title}</div>\r\n          <div className=\"col-2 d-flex justify-content-center\">{question.pre_post}</div>\r\n          <div className=\"col-2 d-flex justify-content-end\">\r\n            {question.answers_count} <i className=\"bi bi-person-fill text-secondary ms-1\"></i>\r\n          </div>\r\n          <div className=\"col-2 d-flex justify-content-end\">\r\n            <button\r\n              className=\"bi bi-trash btn btn-danger btn-sm\"\r\n              onClick={() => props.onDelete(question)}\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <p>{question.description}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">\r\n            <p className=\"justify-content-start\">\r\n              ({_t(\"created_on\")})\r\n              <i className=\"bi bi-calendar-check me-1 ms-1\"></i> {created_on}\r\n            </p>\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <p style={{ textAlign: 'end' }}>\r\n              ({_t(\"deadline\")})\r\n              <i className=\"bi bi-calendar-x me-1 ms-1\"></i> {deadline}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuestionCard;\r\n","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\n\nfunction ConfirmDeleteClassroom (props) {\n\n    return (\n      <div>\n        <h1>{_t('confirm_delete')}</h1>\n        <p>{_t('confirm_delete_classroom')} {props.classroom.title}</p>\n        \n        <div className=\"form-group mt-2 row\">\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-secondary btn-block\" onClick={() => props.onConfirm(false)}> {_t('cancel')} </button>\n            </div>\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-success btn-block\" onClick={() => props.onConfirm(true)}> {_t('ok')} </button>\n            </div>                                    \n        </div>\n      </div>\n    );\n  }\n\n  export default ConfirmDeleteClassroom;","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\n\nfunction ConfirmDeleteQuestion (props) {\n  \n    return (\n      <div>\n        <h1>{_t('confirm_delete')}</h1>\n        <p>{_t('confirm_delete_question')} {props.question.title}</p>\n        \n        <div className=\"form-group mt-2 row\">\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-secondary btn-block\" onClick={() => props.onConfirm(false)}> {_t('cancel')} </button>\n            </div>\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-success btn-block\" onClick={() => props.onConfirm(true)}> {_t('ok')} </button>\n            </div>                                    \n        </div>\n      </div>\n    );\n  }\n\n  export default ConfirmDeleteQuestion;","import React from \"react\";\nimport _t from \"../../services/i18n.service\";\n\nfunction ConfirmActivateReminders (props) {  \n    const frequency = String(props.classroom.reminder);\n    return (\n      <div>\n        {props.reminder_status === 0 ?         \n          (<>\n            <h1>{_t('confirm_activation')}</h1>\n            <p>{_t('confirm_activate_reminders').replace('__frequency__', frequency)} </p>\n           </>\n          ) \n          :\n          (<>\n            <h1>{_t('confirm_deactivation')}</h1>\n            <p>{_t('confirm_deactivate_reminders')} </p>\n            </>\n          ) \n        }\n        <div className=\"form-group mt-2 row\">\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-secondary btn-block\" onClick={() => props.onConfirm(false)}> {_t('cancel')} </button>\n            </div>\n            <div className=\"col-6 text-center\">\n                <button className=\"btn btn-success btn-block\" onClick={() => props.onConfirm(true)}> {_t('ok')} </button>\n            </div>\n        </div>\n      </div>\n    );\n  }\n\n  export default ConfirmActivateReminders;","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Select from \"react-validation/build/select\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nfunction addMinutes(numOfMinutes, date = new Date()) {\r\n  // Add selected minutes to deadline date and convert to mysql format for submit\r\n  date.setTime(date.getTime() + numOfMinutes * 60 * 1000);\r\n  return date;\r\n}\r\n\r\nconst required = (value) => {\r\n  if (!value || value.length === 0) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass NewQuestion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleCreate = this.handleCreate.bind(this);\r\n    this.onSelectQuestion = this.onSelectQuestion.bind(this);\r\n    this.onSetPrePost = this.onSetPrePost.bind(this);\r\n    this.onSetDeadline = this.onSetDeadline.bind(this);\r\n    this.showPrePost = this.showPrePost.bind(this);\r\n\r\n    // Merit time is the number of minutes a student can change the answer after submitting it.\r\n    this.merit_time_options = window.$settings.merit_time_options;\r\n    this.merit_time_default = 5;\r\n\r\n    // Deadline time is the number of minutes the question is open for answers\r\n    this.deadline_options = [5, 10, 15];\r\n    this.deadline_default = 10;\r\n\r\n    const first_available_question_type = props.question_types.find(\r\n      (qt) => qt.prepost.length > 0\r\n    );\r\n    const id = first_available_question_type\r\n      ? first_available_question_type.id\r\n      : 0;\r\n    const title = first_available_question_type\r\n      ? first_available_question_type.question_options.title\r\n      : \"\";\r\n    const description = first_available_question_type\r\n      ? first_available_question_type.question_options.description\r\n      : \"\";\r\n    const prepost = first_available_question_type\r\n      ? first_available_question_type.prepost[0]\r\n      : \"\";\r\n\r\n    this.state = {\r\n      id: id,\r\n      title: title,\r\n      description: description,\r\n      deadline: this.deadline_default,\r\n      prepost: prepost,\r\n      merit_time: this.merit_time_default,\r\n      showPre: this.showPrePost(title, \"pre\"),\r\n      showPost: this.showPrePost(title, \"post\"),\r\n\r\n      first_available_question_type: first_available_question_type,\r\n\r\n      successful: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n\r\n  showPrePost(title, prepost) {\r\n    const questions = this.props.question_types.find(\r\n      (qt) => qt.question_options.title === title\r\n    );\r\n    if (!questions) {\r\n      return true;\r\n    }\r\n    const show = questions.prepost.find((e) => e === prepost);\r\n    return show;\r\n  }\r\n\r\n  onSelectQuestion(e) {\r\n    const question_type_id = parseInt(e.target.value);\r\n    const question_options = this.props.question_types.find(\r\n      (q) => q.id === question_type_id\r\n    ).question_options;\r\n\r\n    const new_state = {\r\n      id: question_type_id,\r\n      title: question_options.title,\r\n      description: question_options.description,\r\n      showPre: this.showPrePost(question_options.title, \"pre\"),\r\n      showPost: this.showPrePost(question_options.title, \"post\"),\r\n    };\r\n\r\n    this.setState(new_state);\r\n  }\r\n\r\n  onSetDeadline(e) {\r\n    this.setState({ deadline: e.target.value });\r\n  }\r\n\r\n  onSetMerit(e) {\r\n    this.setState({\r\n      merit_time: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSetPrePost(e) {\r\n    this.setState({\r\n      prepost: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleCreate(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      successful: false,\r\n    });\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      const answer_options = this.props.question_types.find(\r\n        (q) => q.id === this.state.id\r\n      ).answer_options;\r\n\r\n      BackendService.newQuestion({\r\n        // question info\r\n        title: this.state.title,\r\n        description: this.state.description,\r\n        phase: this.props.classroom.phase,\r\n        pre_post: this.state.prepost,\r\n        language: window.$lang,\r\n        ClassroomCode: this.props.classroom.code,\r\n        deadline: addMinutes(this.state.deadline).toISOString(),\r\n        reminder: this.props.classroom.reminder,\r\n        merit_time: this.state.merit_time,\r\n        options: answer_options,\r\n      })\r\n        .then((res) => BackendService.notifyNewQuestion(this.props.classroom))\r\n        .then((res) => {\r\n          this.setState({\r\n            successful: true,\r\n          });\r\n          this.props.onNewQuestion(res);\r\n        })\r\n        .catch((error) => {\r\n          const resMessage =\r\n            (error.response &&\r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n          if (\r\n            error.response &&\r\n            error.response.status &&\r\n            error.response.status === 401\r\n          ) {\r\n            // token has expired\r\n            this.setState({\r\n              successful: false,\r\n              message: _t(\"session_expired\"),\r\n            });\r\n            setTimeout(this.props.logOut, 2000);\r\n          } else {\r\n            this.setState({\r\n              successful: false,\r\n              message: resMessage,\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"center-form\">\r\n          <div className=\"\">\r\n            <h5>{_t(\"new_question_title\")}</h5>\r\n            {!this.state.first_available_question_type && (\r\n              <p>{_t(\"no_question_types\")}</p>\r\n            )}\r\n            {this.state.first_available_question_type && (\r\n              <Form\r\n                onSubmit={this.handleCreate}\r\n                ref={(c) => {\r\n                  this.form = c;\r\n                }}\r\n              >\r\n                {!this.state.successful && (\r\n                  <div>\r\n                    <div className=\"form-group mt-2\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">\r\n                          {_t(\"choose_question\")}:\r\n                        </label>\r\n                        <div className=\"form-check\">\r\n                          {this.props.question_types.map((q, i) => (\r\n                            <div key={`outer_${i}`}>\r\n                              {(this.showPrePost(\r\n                                q.question_options.title,\r\n                                \"pre\"\r\n                              ) ||\r\n                                this.showPrePost(\r\n                                  q.question_options.title,\r\n                                  \"post\"\r\n                                )) && (\r\n                                <div className=\"p-1\" key={`div_${i}`}>\r\n                                  <input\r\n                                    key={i}\r\n                                    type=\"radio\"\r\n                                    id={q.id}\r\n                                    name=\"title\"\r\n                                    className=\"form-check-input\"\r\n                                    value={q.id}\r\n                                    onChange={this.onSelectQuestion}\r\n                                    validations={[required]}\r\n                                    defaultChecked={\r\n                                      q.id ===\r\n                                      this.state.first_available_question_type\r\n                                        .id\r\n                                    }\r\n                                  />\r\n                                  <label\r\n                                    className=\"form-check-label\"\r\n                                    key={`label_${i}`}\r\n                                  >\r\n                                    {\" \"}\r\n                                    {q.question_options.title}\r\n                                  </label>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group mt-2 mb-3\">\r\n                      <label\r\n                        htmlFor=\"description\"\r\n                        className=\"form-check-label mb-1\"\r\n                      >\r\n                        {_t(\"description\")}:\r\n                      </label>\r\n                      <p className=\"text-secondary\">\r\n                        <i>{this.state.description}</i>\r\n                      </p>\r\n                    </div>\r\n\r\n                    <div className=\"form-group mt-2\">\r\n                      <label className=\"form-label\">\r\n                        {_t(\"deadline\")} ({_t(\"minutes\")}):\r\n                      </label>\r\n                      <div className=\"col-12 text-center\">\r\n                        <Select\r\n                          name=\"deadline\"\r\n                          className=\"form-select\"\r\n                          onChange={this.onSetDeadline}\r\n                          value={this.state.deadline}\r\n                        >\r\n                          {Object.keys(this.deadline_options).map((k, i) => (\r\n                            <option key={i} value={this.deadline_options[k]}>\r\n                              {this.deadline_options[k]}\r\n                            </option>\r\n                          ))}\r\n                        </Select>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group mt-2 mb-3\">\r\n                      {this.state.showPre && (\r\n                        <div className=\"form-check\">\r\n                          <input\r\n                            type=\"radio\"\r\n                            id=\"pre\"\r\n                            name=\"prepost\"\r\n                            value=\"pre\"\r\n                            className=\"form-check-input\"\r\n                            defaultChecked\r\n                            onChange={this.onSetPrePost}\r\n                          />\r\n                          <label htmlFor=\"pre\" className=\"form-check-label\">\r\n                            Pre\r\n                          </label>\r\n                        </div>\r\n                      )}\r\n                      {this.state.showPost && (\r\n                        <div className=\"form-check\">\r\n                          <input\r\n                            type=\"radio\"\r\n                            id=\"post\"\r\n                            name=\"prepost\"\r\n                            value=\"post\"\r\n                            className=\"form-check-input\"\r\n                            onChange={this.onSetPrePost}\r\n                          />\r\n                          <label htmlFor=\"post\" className=\"form-check-label\">\r\n                            Post\r\n                          </label>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"form-group mt-2\">\r\n                      <label className=\"form-label\">{_t(\"merit_time\")}:</label>\r\n                      <div className=\"col-12 text-center\">\r\n                        <Select\r\n                          name=\"merit_time\"\r\n                          value={this.merit_time_default}\r\n                          className=\"form-select\"\r\n                          validations={[required]}\r\n                          onChange={this.onSetMeritTime}\r\n                          defaultValue={this.merit_time_default}\r\n                        >\r\n                          {\r\n                            //<option value=\"0\">{_t(\"none\")}</option>\r\n                          }\r\n                          {Object.keys(this.merit_time_options).map((k, i) => (\r\n                            <option\r\n                              key={i}\r\n                              value={this.merit_time_options[k]}\r\n                            >\r\n                              {this.merit_time_options[k]}\r\n                            </option>\r\n                          ))}\r\n                        </Select>\r\n                        \r\n                      </div>\r\n                    </div>\r\n\r\n                    {this.state.message && (\r\n                      <div className=\"form-group\">\r\n                        <div\r\n                          className={\r\n                            this.state.successful\r\n                              ? \"alert alert-success\"\r\n                              : \"alert alert-danger\"\r\n                          }\r\n                          role=\"alert\"\r\n                        >\r\n                          {this.state.message}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div className=\"form-group mt-5 row\">\r\n                      <div className=\"col-6 text-center\">\r\n                        <button\r\n                          className=\"btn btn-secondary btn-block\"\r\n                          onClick={this.props.onCancelNewQuestion}\r\n                        >\r\n                          {_t(\"cancel\")}\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"col-6 text-center\">\r\n                        <button\r\n                          className=\"btn btn-success btn-block\"\r\n                          onClick={this.handleCreate}\r\n                        >\r\n                          {_t(\"create\")}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <CheckButton\r\n                  style={{ display: \"none\" }}\r\n                  ref={(c) => {\r\n                    this.checkBtn = c;\r\n                  }}\r\n                />\r\n              </Form>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewQuestion;\r\n","import React from \"react\"\n\nexport default function Loading () {\n    return (\n        <div className=\"text-center mx-auto mt-5\">\n            <div className=\"spinner-border\">\n                <span className=\"visually-hidden\">Loading...</span>\n            </div>\n        </div>\n    );\n};","import React from \"react\"\n\nexport function Message (props) {\n\n    return (\n        <div className=\"m-4\" data-class=\"btn-close\">\n            <div className={\"alert alert-\" + props.type + \" alert-dismissible fade show\"} role=\"alert\">\n                <p>{props.text}</p>\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n            </div>\n        </div>\n    );\n};\n\nexport function showMsg(text, type, setFunc) {\n    setFunc({text: text, type: type, show: true});\n    setTimeout(() => {\n        setFunc({text: '', type: '', show: false});\n    }, 5000);\n};","import React, { useEffect, useState } from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport ClassroomCard from \"./classroom_card.component\";\r\nimport QuestionCard from \"./question_card.component\";\r\nimport ConfirmDeleteClassroom from \"./confirm_delete_classroom.component\";\r\nimport ConfirmDeleteQuestion from \"./confirm_delete_question.component\";\r\nimport ConfirmActivateReminders from \"./confirm_activate_reminders\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport NewQuestion from \"./new_question.component\";\r\nimport Loading from \"../loading.component\";\r\nimport { Message, showMsg } from \"../message.component\";\r\n\r\nfunction Classroom(props) {\r\n  \r\n  const [questions, setQuestions] = useState([]);\r\n  const [show, setShow] = useState(\"loading\");\r\n  const [question, setQuestion] = useState();\r\n  const [message, setMessage] = useState({ text: \"\", type: \"\", show: false });\r\n  const [reminderStatus, setReminderStatus] = useState(props.classroom.reminder_status)\r\n\r\n  const loadQuestions = () => {\r\n    setShow(\"loading\");\r\n    BackendService.getProfessorQuestions(props.classroom.code)\r\n      .then((res) => {\r\n        setQuestions(res);\r\n        setShow(\"default\");\r\n      })\r\n      .catch(() => {\r\n        showMsg(_t(\"unable_to_get_data\"), \"danger\", setMessage);\r\n      });\r\n  };\r\n\r\n  // scroll to top after populating questions\r\n  useEffect(() => {\r\n    setShow(\"default\");\r\n  }, [questions]);\r\n\r\n  useEffect(() => {\r\n    loadQuestions();\r\n  }, []);\r\n\r\n  const onDelClassroom = () => {\r\n    props.onDelClassroom(props.classroom.code);\r\n  };\r\n  const onActivateReminders = () => {\r\n    if (props.classroom.students_count === 0) {\r\n      showMsg(_t('no_reminder_without_enrolments'), \"danger\", setMessage)\r\n    } else {\r\n      BackendService.updateClassroomReminderStatus(props.classroom, reminderStatus ? 0 : 1)\r\n        .then(() => { \r\n          if (!reminderStatus) {\r\n            showMsg(_t('reminders_activated'), \"info\", setMessage);\r\n          } else {\r\n            showMsg(_t('reminders_disabled'), \"info\", setMessage);\r\n          }\r\n          setReminderStatus(reminderStatus ? 0 : 1);\r\n          setShow(\"default\");\r\n        })\r\n        .catch(() => {\r\n          showMsg(_t('operation_failed'), \"danger\", setMessage);\r\n          setShow(\"default\");\r\n        });\r\n    }\r\n  };\r\n\r\n  const confirmDelQuestion = (question) => {\r\n    setShow(\"confirmQuestion\");\r\n    setQuestion(question);\r\n  };\r\n\r\n  const onDelQuestion = () => {\r\n    BackendService.delQuestion(question.Question_id)\r\n      .then(() => {\r\n        showMsg(_t(\"question_deleted\"), \"info\", setMessage);\r\n        setShow(\"\");\r\n        setTimeout(loadQuestions, 2000);\r\n      })\r\n      .catch(() => {\r\n        showMsg(_t(\"operation_failed\"), \"danger\", setMessage);\r\n      });\r\n  };\r\n\r\n  const onNewQuestion = () => {\r\n    showMsg(_t(\"question_created\"), \"success\", setMessage);\r\n    setTimeout(loadQuestions, 2000);\r\n  };\r\n\r\n  // Return those question types available \r\n  // In the same classroom, two questions cannot have same title/prepost combination of values\r\n  const questionTypes = (questions) => {\r\n\r\n    // Get all possible questions according to phase\r\n    let question_types = window.$settings.question_types.filter(\r\n      (q) => q.question_options.phase === props.classroom.phase\r\n    );\r\n\r\n    // Add a prepost field with avaible states\r\n    question_types = question_types.map(qt => {\r\n      const used = questions.filter(q => qt.question_options.title === q.title).map(q => q.pre_post);\r\n      let available = [];\r\n      used.find(e => e === \"pre\") || available.push(\"pre\")\r\n      used.find(e => e === \"post\") || available.push(\"post\")\r\n      qt.prepost = available;\r\n      return qt;\r\n    });\r\n\r\n    return question_types;\r\n  }\r\n\r\n  window.scrollTo({ top: 0, left: 0, behavior: \"instant\" });\r\n  return (\r\n    <div>\r\n      {message.show && <Message text={message.text} type={message.type} />}\r\n      {show === \"confirmReminders\" && (\r\n        <ConfirmActivateReminders\r\n          classroom={props.classroom}\r\n          reminder_status = {reminderStatus}\r\n          onConfirm={(a) => (a ? onActivateReminders() : setShow(\"default\"))}\r\n        />\r\n      )}\r\n      {show === \"confirmClassroom\" && (\r\n        <ConfirmDeleteClassroom\r\n          classroom={props.classroom}\r\n          onConfirm={(a) => (a ? onDelClassroom() : setShow(\"default\"))}\r\n        />\r\n      )}\r\n      {show === \"confirmQuestion\" && (\r\n        <ConfirmDeleteQuestion\r\n          question={question}\r\n          onConfirm={(a) => (a ? onDelQuestion() : loadQuestions())}\r\n        />\r\n      )}\r\n      {show === \"loading\" && <Loading />}\r\n      {show === \"newQuestion\" && (\r\n        <NewQuestion\r\n          onNewQuestion={() => onNewQuestion()}\r\n          onCancelNewQuestion={() => setShow(\"default\")}\r\n          question_types={questionTypes(questions)}\r\n          classroom={props.classroom}\r\n          logOut={props.logOut}\r\n        />\r\n      )}\r\n      {show === \"default\" && (\r\n        <div>\r\n          <ClassroomCard classroom={props.classroom} \r\n            reminderStatus={reminderStatus}\r\n            isHeader={true} \r\n            onClickDel={() => setShow(\"confirmClassroom\")} \r\n            showConfirmReminders={() => setShow(\"confirmReminders\")}/>\r\n\r\n          <div className=\"row mt-5\">\r\n            <div className=\"col-6\">\r\n              <h5>{_t(\"questions\")}</h5>\r\n            </div>\r\n            <div className=\"col-6 d-flex justify-content-end\">\r\n              <button\r\n                className=\"btn btn-success btn-block\"\r\n                onClick={() => setShow(\"newQuestion\")}\r\n              >\r\n                <i className=\"bi bi-plus-circle\"></i> {_t(\"add\")}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {questions.length === 0 && \r\n                (\r\n                    <p>{_t(\"no_questions\")}</p>\r\n          )}\r\n          {questions.map((q, i) => (\r\n            <QuestionCard key={i} question={q} onDelete={confirmDelQuestion} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Classroom;\r\n","import React, { Component } from \"react\";\nimport _t from \"../../services/i18n.service\";\nimport BackendService from \"../../services/backend.service\";\nimport ClassroomCard from \"./classroom_card.component\";\nimport NewClassroom from \"./new_classroom.component\";\nimport Classroom from \"./classroom.component\";\nimport Loading from \"../loading.component\";\nimport { Message, showMsg } from \"../message.component\";\n\nclass Professor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onNewClassroom = this.onNewClassroom.bind(this);\n    this.onCancelNewClassroom = this.onCancelNewClassroom.bind(this);\n    this.onDelClassroom = this.onDelClassroom.bind(this);\n    this.goToClassroom = this.goToClassroom.bind(this);\n    this.setMsg = this.setMsg.bind(this);\n\n    this.state = {\n      classrooms: [],\n\n      show: \"default\",\n      message: {show: false},\n    };\n  }\n\n  setMsg(message) {\n    this.setState({message: message});\n  }\n\n  componentDidMount() {    \n    this.setState({ show: \"loading\" });\n    BackendService.getClassrooms()\n    .then((res) => {\n        document.documentElement.scrollTop = 0;\n        this.setState({ classrooms: res, show: \"default\" });        \n    })\n    .catch((err) => {\n      if (err.response && err.response.status && err.response.status === 401) { // token has expired\n        document.documentElement.scrollTop = 0;\n        this.setState({show: \"default\"});\n        showMsg(_t(\"session_expired\"), \"danger\", this.setMsg);\n        setTimeout(this.props.logOut, 2000);\n      } else {\n        //console.log(err);\n        document.documentElement.scrollTop = 0;\n        this.setState({show: \"default\"});\n        showMsg(_t(\"unable_to_get_data\"), \"danger\", this.setMsg);\n      }\n    });\n  }\n\n  onNewClassroom(classroom) {\n    this.componentDidMount();\n  }\n\n  onDelClassroom(code) {\n    BackendService.delClassroom(code)\n      .then(() => {\n        showMsg(_t('classroom_deleted'), \"info\", this.setMsg);\n        this.componentDidMount();\n      })\n      .catch(() => {\n        showMsg(_t(\"classroom_cannot_be_deleted\"), \"danger\", this.setMsg);\n      });\n  }\n\n  onNewQuestion(question) {\n    BackendService.NewQuestion(question);\n  }\n\n  onCancelNewClassroom(title) {\n    this.setState({ show: \"default\" });\n  }\n\n  goToClassroom(classroom) {\n    this.setState({ show: \"Classroom\", classroom: classroom });\n  }\n\n  render() {\n    const classrooms = this.state.classrooms;\n\n    return (\n        <>\n        {this.state.message.show && (\n          <Message text={this.state.message.text} type={this.state.message.type} />\n        )}\n        {this.state.show === \"NewClassroom\" && (\n          <NewClassroom\n            onNewClassroom={this.onNewClassroom}\n            onCancelNewClassroom={this.onCancelNewClassroom}\n          />\n        )}\n        {this.state.show === \"Classroom\" && (\n          <Classroom\n            onDelClassroom={this.onDelClassroom}\n            onDelQuestion={this.onDelQuestion}\n            onNewQuestion={this.onNewQuestion}\n            classroom={this.state.classroom}\n            logOut={this.props.logOut}\n          />\n        )}\n        {this.state.show === \"loading\" && <Loading />}\n        {this.state.show === \"default\" && (\n          <div>\n            <div>\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <h2>{_t(\"classrooms_title\")}</h2>\n                </div>\n                <div className=\"col-6 d-flex justify-content-end\">\n                  <button\n                    to=\"new_classroom\"\n                    className=\"btn btn-success btn-block\"\n                    onClick={() => this.setState({ show: \"NewClassroom\" })}\n                  >\n                    <i className=\"bi bi-plus-circle\"></i> {_t(\"add\")}\n                  </button>\n                </div>\n              </div>\n\n              {classrooms.map((c, i) => (\n                <ClassroomCard\n                  key={i}\n                  classroom={c}\n                  goToClassroom={this.goToClassroom}\n                  isHeader={false}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n        </>\n    );\n  }\n}\n\nexport default Professor;\n","import React from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nexport default function ClassroomCard(props) {\r\n  let classroom = props.classroom;\r\n  \r\n  return (\r\n    <div className=\"card mt-4\" onClick={() => props.header || classroom.state === \"disabled\" ? false : props.goToClassroom(classroom)}>\r\n      <div className={\"card-header \" + (classroom.state === \"active\" ?  \"bg-primary text-light\" : \"bg-light\")}>\r\n        <div className=\"row\">\r\n          <div className=\"col-6 d-flex justify-content-start\">\r\n            {classroom.code.toUpperCase()}\r\n          </div>\r\n          <div className=\"col-6 d-flex justify-content-end\">\r\n            {_t('phase') + \" \" + classroom.phase}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8\">\r\n            <h5 className=\"card-title d-flex justify-content-start\">\r\n              <span className=\"mx-2\">\r\n                <i className=\"bi bi-easel\"></i>\r\n              </span>{\" \"}\r\n              {classroom.title}\r\n            </h5>\r\n          </div>\r\n          <div className=\"col-4 d-flex justify-content-end\">\r\n            {!props.header && (<i className=\"bi bi-chevron-right\"></i>)}\r\n            {props.header && (\r\n              <button\r\n              className={props.history ? \"btn btn-secondary\" : \"btn btn-light\"}\r\n              onClick={props.toggleHistory}\r\n              >\r\n                <i className=\"bi bi-clipboard-check me-1\"></i> {_t('history')}\r\n              </button>\r\n              \r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport { toLocalTimeString } from \"../../services/time.service\";\r\n\r\nfunction QuestionCard(props) {\r\n  let question = props.question;\r\n\r\n  const deadline_date = new Date(question.deadline);\r\n  const deadline = toLocalTimeString(deadline_date);\r\n  const created_on_date = new Date(question.created_on);\r\n  const created_on = toLocalTimeString(created_on_date);\r\n\r\n  return (\r\n    <div className=\"card row mt-4 mx-4\" onClick={() => props.header ? false : props.onEdit(question)}>\r\n      <div\r\n        className={\r\n          \"card-header \" +\r\n          (question.state === \"editable\"\r\n            ? \"bg-primary text-light\"\r\n            : question.state === \"pending\"\r\n              ? \"bg-warning\"\r\n              : question.state === \"answered\"\r\n                ? \"bg-success text-light\"\r\n                : \"\")\r\n        }\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-12\"><b>{question.title}</b></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-6  d-flex justify-content-start\">{question.pre_post}</div>\r\n          <div className=\"col-6 d-flex justify-content-end\">\r\n   \r\n            {question.state === \"editable\" && (\r\n              <>{_t('edit')} <i className=\"bi bi-pencil-square ms-1\"></i></>\r\n            )}\r\n            {question.state === \"pending\" && (\r\n              <>{_t('pending')} <i className=\"bi bi-hourglass-split ms-1\"></i></>\r\n            )}\r\n            {question.state === \"answered\" && (\r\n              <>{_t('answered')} <i className=\"bi bi-check2-circle ms-1\"></i></>\r\n            )}\r\n            {question.state === \"unanswered\" && (\r\n              <>{_t('unanswered')} <i className=\"bi bi-x-circle ms-1\"></i></>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 text-secondary\">\r\n            <p>{question.description}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">\r\n            <p className=\" justify-content-start\">\r\n              ({_t(\"created_on\")})\r\n              <i className=\"bi bi-calendar-check me-1 ms-1\"></i> {created_on}\r\n            </p>\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <p style={{ textAlign: 'end' }}>\r\n              ({_t(\"deadline\")})<i className=\"bi bi-calendar-x me-1 ms-1\"></i>{\" \"}\r\n              {deadline}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-8 d-flex justify-content-start\">\r\n            <span className={\r\n              (question.state === \"editable\"\r\n              ? \"text-primary\"\r\n              : question.state === \"pending\"\r\n              ? \"text-warning\"\r\n              : question.state === \"answered\"\r\n              ? \"text-success\"\r\n              : \"\")}>\r\n              <b>{question.response !== -1 ? `${_t('response')}: ${question.response}` : _t('no_response')}</b>\r\n              </span>\r\n              <span className=\"text-secondary ms-2\">\r\n                {(question.state === \"editable\" ? `(${_t(\"editable_until\")} ${toLocalTimeString(question.merit_time)})` : \"\")}\r\n              </span>\r\n          </div>\r\n          <div className=\"col-4 d-flex justify-content-end\">\r\n            {(question.state === \"editable\" ||\r\n              question.state === \"pending\") && !props.header && (\r\n                <i className=\"bi bi-chevron-right\"></i>\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuestionCard;","import React, { Component } from \"react\"\r\nimport Form from \"react-validation/build/form\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport QuestionCard from './question_card.component';\r\nimport _t from \"../../services/i18n.service\";\r\nimport stairs_img from '../../assets/stairs.jpg';\r\n\r\nconst required = value => {\r\n    if (!value || value.length === 0) {\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {_t('field_required')}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\nclass Question extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n\r\n        this.state = {\r\n            level: -1,\r\n\r\n            successful: false,\r\n            message: '',\r\n        }\r\n    }\r\n\r\n    onChange(e) {\r\n        const level = parseInt(e.target.value)\r\n        this.setState({\r\n          level: level\r\n        });\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        this.setState({\r\n          message: \"\",\r\n          successful: false\r\n        });\r\n        this.form.validateAll();\r\n        this.props.onSubmit(this.state.level, this.props.question.Question_id);\r\n    }\r\n\r\n \r\n    render() {\r\n        const answer_options = window.$settings.question_types[0].answer_options;\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"center-form\">\r\n                    <div>\r\n                        <QuestionCard question={this.props.question} header={true}/>\r\n                        \r\n                        <Form\r\n                            onSubmit={this.onSubmit}\r\n                            ref={c => {\r\n                                this.form = c;\r\n                            }}\r\n                        >\r\n                            <div className=\"row mt-5\">\r\n                                <div className='col-4 d-flex justify-content-end'>\r\n                                    {!this.state.successful && (\r\n                                    <div className=\"d-flex flex-column\">                                \r\n                                        {Object.keys(answer_options).reverse().map((k, i) => \r\n                                            <div  className=\"p-1\" key={i}>\r\n                                            <input\r\n                                            key={i}\r\n                                            type=\"radio\"\r\n                                            id={k}\r\n                                            name=\"level\"\r\n                                            value={k}\r\n                                            onChange={this.onChange}\r\n                                            validations={[required]}\r\n                                            /> {answer_options[k]}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    )}\r\n                                </div>\r\n                                <div className='col-8  d-flex justify-content-start'>\r\n                                    <img src={stairs_img} width=\"200\" alt=\"stairs\"/>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group mt-5 row\">\r\n                                <div className=\"col-6 text-center\">\r\n                                    <button className=\"btn btn-secondary btn-block\" onClick={this.props.onClose}>{_t('close')}</button>\r\n                                </div>\r\n                                 <div className=\"col-6 text-center\">\r\n                                    <button className=\"btn btn-success btn-block\" onClick={this.onSubmit}>{_t('submit')}</button>\r\n                                </div>\r\n                            </div>\r\n      \r\n                            \r\n                            {this.state.message && (\r\n                            <div className=\"form-group\">\r\n                                <div\r\n                                className={\r\n                                    this.state.successful\r\n                                    ? \"alert alert-success\"\r\n                                    : \"alert alert-danger\"\r\n                                }\r\n                                role=\"alert\"\r\n                                >\r\n                                {this.state.message}\r\n                                </div>\r\n                            </div>\r\n                            )}\r\n                            <CheckButton\r\n                                style={{ display: \"none\" }}\r\n                                ref={c => {\r\n                                this.checkBtn = c;\r\n                                }}\r\n                            />\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );    \r\n    }\r\n} \r\n\r\nexport default Question;","import React from \"react\"\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Cell, Tooltip } from 'recharts';\r\n//import _t from \"../../services/i18n.service\"\r\n\r\n\r\nfunction Stats (props) {\r\n  \r\n  const data = [\r\n    {\r\n      name: 'pre',\r\n      answer: props.response.pre || 0,\r\n    },\r\n    {\r\n      name: 'post',\r\n      answer: props.response.post || 0,\r\n    },\r\n  ];\r\n\r\n  return (\r\n\r\n    <BarChart\r\n      width={400}\r\n      height={200}\r\n      data={data} \r\n      margin={{\r\n        top: 5,\r\n        right: 5,\r\n        left: 5,\r\n        bottom: 5,\r\n      }}\r\n    >\r\n      <CartesianGrid strokeDasharray=\"3 3\" />\r\n      <XAxis dataKey=\"name\" />\r\n      <YAxis domain={[0, 10]}/>\r\n      <Tooltip />\r\n      {/*<Legend />*/}\r\n      <Bar dataKey=\"answer\">\r\n        <Cell key=\"cell-0\" fill=\"#94e4c9\" />\r\n        <Cell key=\"cell-1\" fill=\"#509b7d\" />\r\n      </Bar>\r\n    </BarChart>\r\n\r\n  );\r\n}\r\n\r\nexport default Stats;","import React from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport Stats from \"./stats.component\";\r\n//import { toLocalTimeString } from \"../../services/time.service\";\r\n\r\nfunction QuestionHistory(props) {\r\n  let question = props.question;\r\n\r\n  return (\r\n    <div className=\"card row mt-4 mx-4\">\r\n      <div\r\n        className={\r\n          \"card-header \" +\r\n          (question.pre_answer && question.post_answer\r\n            ? \"bg-primary text-light\"\r\n            : \"bg-warning\"\r\n          )\r\n        }\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-7\">{question.title}</div>\r\n          <div className=\"col-5 d-flex justify-content-end\">\r\n            {question.pre_answer && question.post_answer  ? \r\n              <>{_t('answered')} <i className=\"bi bi-check2-circle ms-1\"></i></>\r\n              :\r\n              <>{_t('pending')} <i className=\"bi bi-hourglass-split ms-1\"></i></>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 text-secondary\">\r\n            <p>{question.description}</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <Stats response={question.response}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuestionHistory;\r\n","import React, { Component } from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport Question from \"./question.component\";\r\nimport QuestionCard from \"./question_card.component\";\r\nimport QuestionHistory from \"./question_history.component\";\r\nimport ClassroomCard from \"./classroom_card.component\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport { Message, showMsg } from \"../message.component\";\r\n\r\nclass Classroom extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onEdit = this.onEdit.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.setMsg = this.setMsg.bind(this);\r\n    this.getClosedQuestions = this.getClosedQuestions.bind(this);\r\n\r\n    this.state = {\r\n      show: \"classroom\",\r\n      history: false,\r\n      question: null,\r\n      message: { show: false },\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    window.scrollTo({ top: 0, left: 0, behavior: \"instant\" });\r\n  }\r\n\r\n  setMsg(message) {\r\n    this.setState({ message: message });\r\n  }\r\n\r\n  onEdit(q) {\r\n    this.setState({\r\n      show: \"question\",\r\n      question: q,\r\n    });\r\n  }\r\n\r\n  onSubmit(option, question_id) {\r\n    let promise =\r\n      this.state.question.response === -1\r\n        ? BackendService.newAnswer(option, question_id)\r\n        : BackendService.updateAnswer(option, question_id);\r\n\r\n    promise\r\n      .then((res) => {\r\n        showMsg(_t(\"answer_recorded\"), \"success\", this.setMsg);\r\n        setTimeout(this.props.refresh, 2000);\r\n      })\r\n      .catch((err) => {\r\n        showMsg(_t(\"operation_failed\"), \"danger\", this.setMsg);\r\n        setTimeout(this.props.refresh, 2000);\r\n      });\r\n  }\r\n\r\n  getClosedQuestions() {\r\n    const answered_questions = this.props.classroom.questions.filter(\r\n      (q) => q.state === \"answered\"\r\n    );\r\n    let closed_questions = [];\r\n    answered_questions.forEach(aq => {\r\n      const i = closed_questions.findIndex(cq => cq.title === aq.title);\r\n      if (i === -1) {\r\n        const question = {...aq};\r\n        question.response = {};\r\n        question.response[aq.pre_post] = aq.response;\r\n        closed_questions.push(question);\r\n      } else {\r\n        closed_questions[i].response[aq.pre_post] = aq.response;\r\n      }\r\n    });\r\n    return closed_questions;\r\n  }\r\n\r\n  render() {\r\n    const classroom = this.props.classroom;\r\n    const pending_questions = classroom.questions.filter(\r\n      (q) => q.state === \"pending\"\r\n    );\r\n    const editable_questions = classroom.questions.filter(\r\n      (q) => q.state === \"editable\"\r\n    );\r\n    const closed_questions = this.getClosedQuestions();\r\n    \r\n    return (\r\n      <div>\r\n        {this.state.message.show && (\r\n          <Message\r\n            text={this.state.message.text}\r\n            type={this.state.message.type}\r\n          />\r\n        )}\r\n        {this.state.show === \"classroom\" && (\r\n          <div>\r\n            <ClassroomCard\r\n              header={true}\r\n              classroom={classroom}\r\n              history={this.state.history}\r\n              toggleHistory={() => {\r\n                this.setState({ history: !this.state.history });\r\n              }}\r\n            />\r\n            <h5 className=\"mt-2\">{_t(\"questions\")}:</h5>\r\n\r\n            {!this.state.history ? ( // open questions\r\n              (editable_questions.length === 0 &&\r\n                pending_questions.length === 0 && (\r\n                  <p>{_t(\"no_questions\")}</p>\r\n                )) || (\r\n                <>\r\n                  {editable_questions.length > 0 &&\r\n                    editable_questions.map((q, i) => (\r\n                      <QuestionCard\r\n                        key={i}\r\n                        question={q}\r\n                        onEdit={this.onEdit}\r\n                        header={false}\r\n                      />\r\n                    ))}\r\n\r\n                  {pending_questions.length > 0 &&\r\n                    pending_questions.map((q, i) => (\r\n                      <QuestionCard\r\n                        key={i}\r\n                        question={q}\r\n                        onEdit={this.onEdit}\r\n                        header={false}\r\n                      />\r\n                    ))}\r\n                </>\r\n              )\r\n            ) : closed_questions.length > 0 ? ( // closed questions\r\n              closed_questions.map((q, i) => (\r\n                <QuestionHistory key={i} question={q} />\r\n              ))\r\n            ) : (\r\n              <p>{_t(\"no_questions\")}</p>\r\n            )}\r\n          </div>\r\n        )}\r\n        {this.state.show === \"question\" && (\r\n          <Question\r\n            onSubmit={this.onSubmit}\r\n            onClose={() => {\r\n              this.setState({ show: \"classroom\" });\r\n            }}\r\n            question={this.state.question}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Classroom;\r\n","import React, { Component } from \"react\";\r\nimport _t from \"../../services/i18n.service\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport ClassroomCard from \"./classroom_card.component\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport Classroom from \"./classroom.component.js\";\r\nimport Loading from \"../loading.component\";\r\nimport { Message, showMsg } from \"../message.component\";\r\nimport authService from \"../../services/auth.service\";\r\nimport OneSignal from 'react-onesignal';\r\n\r\nclass Student extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeClassroom = this.onChangeClassroom.bind(this);\r\n    this.onSelectClassroom = this.onSelectClassroom.bind(this);\r\n    this.onJoinClassroom = this.onJoinClassroom.bind(this);\r\n    this.goToClassroom = this.goToClassroom.bind(this);\r\n    this.loadClassrooms = this.loadClassrooms.bind(this);\r\n    this.setMsg = this.setMsg.bind(this);\r\n\r\n    this.state = {\r\n      classrooms: [],\r\n      classroom_new_id: \"\",\r\n      classroom_id: \"\",\r\n      classroom: {},\r\n\r\n      show: \"loading\",\r\n\r\n      successful: false,\r\n      message: { show: false },\r\n    };\r\n  }\r\n\r\n  setMsg(message) {\r\n    this.setState({ message: message });\r\n  }\r\n\r\n  loadClassrooms() {\r\n    this.setState({\r\n      classroom_new_id: \"\",\r\n      show: \"loading\",\r\n    });\r\n\r\n    BackendService.getClassrooms()\r\n      .then(async (res) => {\r\n        const classrooms = res.filter((c) => c.state === \"active\");\r\n        this.setState({ classrooms: classrooms, show: \"default\" });\r\n\r\n        // Subscribe to classroom notifications\r\n        const user_id = await OneSignal.getUserId();\r\n        const user = authService.getCurrentUser();\r\n        //console.log(\"user_id\", user_id);\r\n\r\n        for (let i=0; i<classrooms.length; i++) {\r\n          await BackendService.subscribeToNotifications(classrooms[i].code.toUpperCase(), user_id);\r\n        }\r\n\r\n        //console.log(\"subscribing\", user.email, user_id)\r\n        await BackendService.subscribeToNotifications(user.email, user_id);\r\n      })\r\n      .catch((err) => {\r\n        if (\r\n          err.response &&\r\n          err.response.status &&\r\n          err.response.status === 401\r\n        ) {\r\n          // token has expired\r\n          document.documentElement.scrollTop = 0;\r\n          this.setState({ show: \"default\" });\r\n          showMsg(_t(\"session_expired\"), \"danger\", this.setMsg);\r\n          setTimeout(this.props.logOut, 2000);\r\n        } else if (err.message && err.message === _t(\"no_notifications_warning\")) {\r\n            this.setState({ show: \"default\" });\r\n            showMsg(err.message, \"warning\", this.setMsg);\r\n        } else {\r\n          this.setState({ show: \"default\" });\r\n          showMsg(_t(\"unable_to_get_data\"), \"danger\", this.setMsg);\r\n        }\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadClassrooms();\r\n  }\r\n\r\n  onChangeClassroom(e) {\r\n    this.setState({\r\n      classroom_new_id: e.target.value,\r\n    });\r\n  }\r\n\r\n  goToClassroom(classroom) {\r\n    window.scrollTo({ top: 0, left: 0, behavior: \"instant\" });\r\n    this.setState({ show: \"loading\" });\r\n    BackendService.getStudentQuestions(classroom.code)\r\n      .then((res) => {\r\n        classroom.questions = res;\r\n        this.setState({\r\n          classroom: classroom,\r\n          show: \"classroom\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        if (\r\n          err.response &&\r\n          err.response.status &&\r\n          err.response.status === 401\r\n        ) {\r\n          // token has expired\r\n          document.documentElement.scrollTop = 0;\r\n          this.setState({ show: \"default\" });\r\n          showMsg(_t(\"session_expired\"), \"danger\", this.setMsg);\r\n          setTimeout(this.props.logOut, 2000);\r\n        } else {\r\n          showMsg(_t(\"unable_to_get_data\"), \"danger\", this.setMsg);\r\n          setTimeout(() => {\r\n            this.setState({ show: \"default\" });\r\n          }, 10000);\r\n        }\r\n      });\r\n  }\r\n\r\n  onSelectClassroom(e) {\r\n    this.setState({\r\n      classroom_id: e.target.value,\r\n    });\r\n  }\r\n\r\n  onJoinClassroom(e) {\r\n    e.preventDefault();\r\n\r\n    const code =\r\n      this.state.classroom_new_id.length > 0\r\n        ? this.state.classroom_new_id\r\n        : this.state.classroom_id;\r\n\r\n    // check if already subscribed\r\n    if (this.state.classrooms.find((e) => e.code === code)) {\r\n      showMsg(_t(\"already_enroled\"), \"info\", this.setMsg);\r\n      setTimeout(() => {}, 4000);\r\n      return;\r\n    }\r\n\r\n    const user = authService.getCurrentUser();\r\n\r\n    // not subscribed, so let's subscribe!\r\n    BackendService.subscribeToClassroom(code, user.email)\r\n    .then(() => {\r\n      return OneSignal.getUserId()\r\n    })\r\n    .then((user_id) => BackendService.subscribeToNotifications(code, user_id))\r\n    .catch((err) => {\r\n      //console.log(\"Error\", err);\r\n      if (err.message === \"Classroom does not exist.\") {\r\n        err.message = _t(\"classroom_not_found\");\r\n      }\r\n      if (err.message === _t(\"no_notifications_warning\")) {\r\n        showMsg(err.message, \"warning\", this.setMsg);\r\n      }\r\n      else {\r\n        showMsg(err.message, \"danger\", this.setMsg);\r\n      }\r\n    })\r\n    .finally(() => {\r\n      this.componentDidMount();\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const classrooms = this.state.classrooms;\r\n    return (\r\n      <>\r\n        {this.state.message.show && (\r\n          <Message\r\n            text={this.state.message.text}\r\n            type={this.state.message.type}\r\n          />\r\n        )}\r\n\r\n        {this.state.show === \"loading\" && <Loading />}\r\n\r\n        {this.state.show === \"classroom\" && (\r\n          <Classroom\r\n            classroom={this.state.classroom}\r\n            goBack={() => this.componentDidMount()}\r\n            refresh={() => this.goToClassroom(this.state.classroom)}\r\n          />\r\n        )}\r\n\r\n        {this.state.show === \"default\" && (\r\n          <div>\r\n            <Form>\r\n              <div className=\"form-group mt-2 row\">\r\n                <div className=\"col-8\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"form-control col-10\"\r\n                    placeholder={_t(\"new_classroom_id\")}\r\n                    name=\"classroom_new_id\"\r\n                    value={this.state.classroom_new_id}\r\n                    onChange={this.onChangeClassroom}\r\n                    maxLength=\"4\"\r\n                    validations={[]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-4 d-flex justify-content-end\">\r\n                  <button\r\n                    className=\"btn btn-success btn-block\"\r\n                    onClick={this.onJoinClassroom}\r\n                    \r\n                  >\r\n                    {_t(\"join\")}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </Form>\r\n\r\n            {classrooms.length === 0 && (\r\n              <p className=\"mt-2 text-center\">{_t(\"no_enrolments\")}</p>\r\n            )}\r\n\r\n            {classrooms.map((c, i) => (\r\n              <ClassroomCard\r\n                key={i}\r\n                classroom={c}\r\n                goToClassroom={this.goToClassroom}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Student;\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport OneSignal from 'react-onesignal';\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass DelUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.onChangePass = this.onChangePass.bind(this);\r\n\r\n    this.state = {\r\n      pass: \"\",\r\n\r\n      successful: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n\r\n  onChangePass(e) {\r\n    this.setState({\r\n      pass: e.target.value,\r\n    });\r\n  }\r\n\r\n  fakeGetUserId() {\r\n    return new Promise((res, rej) => res(1));\r\n  }\r\n\r\n  handleDelete(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      successful: false,\r\n    });\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      BackendService.delUser(this.props.user.email, this.state.pass)\r\n      .then(async () => {\r\n        var user_id = null;\r\n        user_id = await OneSignal.getUserId();\r\n        const classrooms = await BackendService.getClassrooms();\r\n        return ([classrooms, user_id]);\r\n      })\r\n      .then(async ([classrooms, user_id]) => {\r\n        if (user_id) {\r\n          for (let i=0; i<classrooms.length; i++) {\r\n            await BackendService.unsubscribeFromNotifications(classrooms[i].code.toUpperCase(), user_id);\r\n          }\r\n          await BackendService.unsubscribeFromNotifications(this.props.user.email, user_id);\r\n          await BackendService.delFromNotificationServer(user_id);\r\n        }\r\n      })\r\n      .then((res) => {\r\n        this.setState({\r\n          message: _t(\"user_deleted\"),\r\n          successful: true,\r\n        });\r\n        setTimeout(() => this.props.delUser(true), 1000);\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          successful: false,\r\n          message: (err && err.message) || _t('operation_failed'),\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"center-form\">\r\n          <div className=\"\">\r\n            <h5>{_t(\"del_user_instructions\")}</h5>\r\n            <Form\r\n              onSubmit={this.handleDelete}\r\n              ref={(c) => {\r\n                this.form = c;\r\n              }}\r\n            >\r\n              {!this.state.successful && (\r\n                <div>\r\n                  <div className=\"form-group mt-2\">\r\n                    <label htmlFor=\"password\">{_t(\"enter_password\")}</label>\r\n                    <Input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      value={this.state.pass}\r\n                      onChange={this.onChangePass}\r\n                      validations={[required]}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group mt-2 row\">\r\n                    <div className=\"col-6 text-center\">\r\n                      <button\r\n                        className=\"btn btn-secondary btn-block\"\r\n                        onClick={() => this.props.navigate(-1)}\r\n                      >\r\n                        {_t(\"cancel\")}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6 text-center\">\r\n                      <button\r\n                        className=\"btn btn-danger btn-block\"\r\n                        onClick={this.handleDelete}\r\n                      >\r\n                        {_t(\"delete\")}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {this.state.message && (\r\n                <div className=\"form-group\">\r\n                  <div\r\n                    className={\r\n                      this.state.successful\r\n                        ? \"alert alert-success\"\r\n                        : \"alert alert-danger\"\r\n                    }\r\n                    role=\"alert\"\r\n                  >\r\n                    {this.state.message}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <CheckButton\r\n                style={{ display: \"none\" }}\r\n                ref={(c) => {\r\n                  this.checkBtn = c;\r\n                }}\r\n              />\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Wrap and export\r\nexport default function(props) {\r\n  const navigate = useNavigate();\r\n\r\n  return <DelUser {...props} navigate={navigate} />;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport BackendService from \"../../services/backend.service\";\r\nimport OneSignal from 'react-onesignal';\r\nimport _t from \"../../services/i18n.service\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {_t(\"field_required\")}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass PurgeUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.onChangePass = this.onChangePass.bind(this);\r\n\r\n    this.state = {\r\n      pass: \"\",\r\n\r\n      successful: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n\r\n  onChangePass(e) {\r\n    this.setState({\r\n      pass: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleDelete(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      successful: false,\r\n    });\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      BackendService.purgeUser(this.props.user.email, this.state.pass)\r\n      .then(async () => {\r\n        var user_id = null;\r\n        user_id = await OneSignal.getUserId();\r\n        const classrooms = await BackendService.getClassrooms();\r\n        return ([classrooms, user_id]);\r\n      })\r\n      .then(async ([classrooms, user_id]) => {\r\n        if (user_id) {\r\n          for (let i=0; i<classrooms.length; i++) {\r\n            await BackendService.unsubscribeFromNotifications(classrooms[i].code.toUpperCase(), user_id);\r\n          }\r\n        }\r\n      })\r\n      .then(() => {\r\n        this.setState({\r\n          message: _t(\"user_purged\"),\r\n          successful: true,\r\n        });\r\n        setTimeout(() => this.props.delUser(true), 1000);\r\n      })\r\n      .catch(\r\n        (err) => {\r\n          console.log(err);\r\n          this.setState({\r\n              successful: false,\r\n              message: (err && err.message) || _t('operation_failed'),\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"center-form\">\r\n          <div className=\"\">\r\n            <h5>{_t(\"purge_user_instructions\")}</h5>\r\n            <Form\r\n              onSubmit={this.handleDelete}\r\n              ref={(c) => {\r\n                this.form = c;\r\n              }}\r\n            >\r\n              {!this.state.successful && (\r\n                <div>\r\n                  <div className=\"form-group mt-2\">\r\n                    <label htmlFor=\"password\">{_t(\"enter_password\")}</label>\r\n                    <Input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      value={this.state.pass}\r\n                      onChange={this.onChangePass}\r\n                      validations={[required]}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group mt-2 row\">\r\n                    <div className=\"col-6 text-center\">\r\n                      <button\r\n                        className=\"btn btn-secondary btn-block\"\r\n                        onClick={() => this.props.navigate(-1)}\r\n                      >\r\n                        {_t(\"cancel\")}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6 text-center\">\r\n                      <button\r\n                        className=\"btn btn-danger btn-block\"\r\n                        onClick={this.handleDelete}\r\n                      >\r\n                        {_t(\"delete\")}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {this.state.message && (\r\n                <div className=\"form-group\">\r\n                  <div\r\n                    className={\r\n                      this.state.successful\r\n                        ? \"alert alert-success\"\r\n                        : \"alert alert-danger\"\r\n                    }\r\n                    role=\"alert\"\r\n                  >\r\n                    {this.state.message}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <CheckButton\r\n                style={{ display: \"none\" }}\r\n                ref={(c) => {\r\n                  this.checkBtn = c;\r\n                }}\r\n              />\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Wrap and export\r\nexport default function(props) {\r\n  const navigate = useNavigate();\r\n\r\n  return <PurgeUser {...props} navigate={navigate} />;\r\n}\r\n","import React from \"react\";\n\nconst NotFound = () => {\n    return (<h1>Page not found</h1>);\n};\n\nexport default NotFound;","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { useNavigate } from \"react-router-dom\";\nimport BackendService from \"../services/backend.service\";\nimport _t from \"../services/i18n.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        {_t(\"field_required\")}\n      </div>\n    );\n  }\n};\n\nclass ChangePassword extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onChangePass = this.onChangePass.bind(this);\n    this.onChangeNewPass = this.onChangeNewPass.bind(this);    \n\n    this.state = {\n      pass: \"\",\n      new_pass: \"\",\n\n      successful: false,\n      message: \"\",\n    };\n  }\n\n  onChangePass(e) {\n    this.setState({\n      pass: e.target.value,\n    });\n  }\n\n  onChangeNewPass(e) {\n    this.setState({\n      new_pass: e.target.value,\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false,\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      BackendService.changePassword(\n        this.props.user.email,\n        this.state.pass,\n        this.state.new_pass,\n      ).then(\n        (response) => {\n          this.setState({\n            message: response.message,\n            successful: true,\n          });\n          setTimeout(() => this.props.onChangePassword(true), 1000);\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          this.setState({\n            successful: false,\n            message: resMessage,\n          });\n        }\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"center-form\">\n          <div className=\"\">\n            <h5>{_t(\"change_password\")}</h5>\n            <Form\n              onSubmit={this.handleSubmit}\n              ref={(c) => {\n                this.form = c;\n              }}\n            >\n              {!this.state.successful && (\n                <div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"password\">{_t(\"enter_curr_password\")}</label>\n                    <Input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"password\"\n                      value={this.state.pass}\n                      onChange={this.onChangePass}\n                      validations={[required]}\n                    />\n                  </div>\n                  <div className=\"form-group mt-2\">\n                    <label htmlFor=\"password\">{_t(\"enter_new_password\")}</label>\n                    <Input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"new_password\"\n                      value={this.state.new_pass}\n                      onChange={this.onChangeNewPass}\n                      validations={[required]}\n                    />\n                  </div>                  \n                  <div className=\"form-group mt-2 row\">\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-secondary btn-block\"\n                        onClick={() => this.props.navigate(-1)}\n                      >\n                        {_t(\"cancel\")}\n                      </button>\n                    </div>\n                    <div className=\"col-6 text-center\">\n                      <button\n                        className=\"btn btn-success btn-block\"\n                        onClick={this.handleSubmit}\n                      >\n                        {_t(\"submit\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {this.state.message && (\n                <div className=\"form-group\">\n                  <div\n                    className={\n                      this.state.successful\n                        ? \"alert alert-success\"\n                        : \"alert alert-danger\"\n                    }\n                    role=\"alert\"\n                  >\n                    {this.state.message}\n                  </div>\n                </div>\n              )}\n              <CheckButton\n                style={{ display: \"none\" }}\n                ref={(c) => {\n                  this.checkBtn = c;\n                }}\n              />\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Wrap and export\nexport default function(props) {\n  const navigate = useNavigate();\n\n  return <ChangePassword {...props} navigate={navigate} />;\n}\n","import React, { useReducer, useState, useEffect } from \"react\";\r\nimport { createBrowserHistory } from 'history';\r\nimport {\r\n  HashRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n} from \"react-router-dom\";\r\nimport config from \"./config\";\r\n//import AuthService from \"./services/fake_auth.service\";\r\nimport AuthService from \"./services/auth.service\";\r\n\r\nimport ACL from \"./services/acl.service\";\r\nimport BackendService from \"./services/backend.service\";\r\nimport Unauthorized from \"./components/unauthorized.component\";\r\nimport Login from \"./components/login.component\";\r\nimport Register from \"./components/register.component\";\r\nimport Language from \"./components/language.component\";\r\nimport _t from \"./services/i18n.service\";\r\n\r\nimport ResetPassword from \"./components/reset_password\";\r\nimport Layout from \"./components/layout.component\";\r\nimport Professor from \"./components/professor/professor.component\";\r\nimport Student from \"./components/student/student.component\";\r\nimport Stats from \"./components/student/stats.component\";\r\nimport DelUser from \"./components/student/del_user.component\";\r\nimport PurgeUser from \"./components/student/purge_user.component\";\r\nimport NotFound from \"./components/notfound.component\";\r\nimport ChangePassword from \"./components/change_password.component\";\r\nimport OneSignal from 'react-onesignal';\r\n\r\n\r\nfunction App () {\r\n   \r\n  const [user, setUser] = useState(AuthService.getCurrentUser());\r\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\r\n\r\n  useEffect(() => {\r\n\r\n    // Logs modification time\r\n    console.log(config.VERSION); \r\n  \r\n    // Update user data\r\n    setUser(AuthService.getCurrentUser());\r\n\r\n    // Get stored language\r\n    const lang = window.localStorage.getItem(\"lang\");\r\n    window.$lang = lang ? lang : \"en\";\r\n\r\n    BackendService.getSettings()\r\n    .then(settings => {window.$settings = settings});\r\n\r\n    // Push service UNCOMMENT AT DEPLOYMENT\r\n    OneSignal.init({ appId: 'cca1bd1f-8df1-47e4-a28e-454eeb0b5ab3', allowLocalhostAsSecureOrigin: true });\r\n    //OneSignal.showSlidedownPrompt();\r\n\r\n    let isIOS = (/iPad|iPhone|iPod/.test(navigator.platform) ||\r\n    (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)) &&\r\n    !window.MSStream;\r\n\r\n    // do not check for push notifications when in iOS\r\n    if (!isIOS) {\r\n      OneSignal.showNativePrompt()\r\n    .then(() => Promise.resolve(OneSignal.isPushNotificationsEnabled()))\r\n    .then((value) => {\r\n      //console.log('Checking push notifications status... => ', value);\r\n      if (!value) {\r\n        alert(_t('enable_push_alert'));\r\n      }\r\n    })\r\n    .catch(() => {\r\n      alert(_t('enable_push_alert'));\r\n    });\r\n  }\r\n  \r\n  }, []);\r\n\r\n  const logIn = () => {\r\n    setUser(AuthService.getCurrentUser());\r\n  }\r\n\r\n  const logOut = () => {\r\n    AuthService.logout();\r\n    setUser(AuthService.getCurrentUser());\r\n    window.location = config.BASE_PATH;\r\n  }\r\n\r\n  const onChangeLang = (lang) => {\r\n    window.$lang = lang;\r\n    localStorage.setItem(\"lang\", lang);\r\n    forceUpdate();\r\n  }\r\n\r\n  const delUser = (successful) => {\r\n    if (successful) {\r\n      logOut();\r\n    }\r\n  }\r\n\r\n  const purgeUser = (successful) => {\r\n    if (successful) {\r\n      forceUpdate();\r\n    }\r\n  }\r\n\r\n  const onChangePassword = (successful) => {\r\n    if (successful) {\r\n      logOut();\r\n    }\r\n  }\r\n\r\n  const history = createBrowserHistory({ basename: config.BASE_PATH });\r\n\r\n  // Render!\r\n  return (\r\n      <Router history={history}>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Layout user={user} logOut={logOut} />}>\r\n            <Route\r\n            index\r\n              element={\r\n                user.role && user.role === \"ROLE_PROFESSOR\" ? (\r\n                  <Navigate to=\"prof\" replace />\r\n                ) : user.role && user.role === \"ROLE_STUDENT\" ? (\r\n                  <Navigate to=\"stu\" replace />\r\n                ) : (\r\n                  <Navigate to=\"login\" replace />\r\n                )\r\n              }\r\n            />\r\n            <Route\r\n              path=\"login\"\r\n              element={\r\n                <Login cb={logIn} onChangeLang={onChangeLang} />\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"reset-password\"\r\n              element={\r\n                <ResetPassword onChangeLang={onChangeLang} />\r\n              }\r\n            />\r\n\r\n            <Route path=\"unauthorized\" element={<Unauthorized />} />\r\n            <Route\r\n              path=\"register\"\r\n              element={\r\n                <Register user={user} onChangeLang={onChangeLang} />\r\n              }\r\n            />\r\n            <Route\r\n              path=\"lang\"\r\n              element={<Language onClick={onChangeLang} />}\r\n            />\r\n\r\n            <Route\r\n              path=\"prof\"\r\n              element={\r\n                <ACL roles={[\"ROLE_PROFESSOR\"]}>\r\n                  <Professor user={user} logOut={logOut}/>\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"stu\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\"]}>\r\n                  <Student user={user} logOut={logOut}/>\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"stu-stats\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\"]}>\r\n                  <Stats user={user} />\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"del-user\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\"]}>\r\n                  <DelUser user={user} delUser={delUser} />\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"purge-user\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\"]}>\r\n                  <PurgeUser user={user} delUser={purgeUser} />\r\n                </ACL>\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"chgpass\"\r\n              element={\r\n                <ACL roles={[\"ROLE_STUDENT\", \"ROLE_PROFESSOR\"]}>\r\n                  <ChangePassword\r\n                    user={user}\r\n                    onChangePassword={onChangePassword}\r\n                  />\r\n                </ACL>\r\n              }\r\n            />\r\n            <Route path=\"*\" element={<NotFound />} />\r\n          </Route>\r\n        </Routes>\r\n      </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\nimport './app.css';\r\nimport App from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n//import config from './config.js';\r\n\r\n// ========================================\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n    <>\r\n    <base href=\"%PUBLIC_URL%/\"/>\r\n    <link rel=\"manifest\" href=\"./manifest.json\"></link>\r\n    \r\n    <App />\r\n    </>\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n"],"sourceRoot":""}